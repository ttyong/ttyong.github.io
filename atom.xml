<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>田勇的博客</title>
  
  <subtitle>比你优秀的人都努力，有什么理由不努力！</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://tianyong.fun/"/>
  <updated>2020-06-08T03:04:43.495Z</updated>
  <id>http://tianyong.fun/</id>
  
  <author>
    <name>TTYONG</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>python库-re库</title>
    <link href="http://tianyong.fun/python%E5%BA%93-re%E5%BA%93.html"/>
    <id>http://tianyong.fun/python%E5%BA%93-re%E5%BA%93.html</id>
    <published>2020-06-07T12:59:38.000Z</published>
    <updated>2020-06-08T03:04:43.495Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="re库"><a href="#re库" class="headerlink" title="re库"></a>re库</h1><h2 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h2><h3 id="search"><a href="#search" class="headerlink" title="search()"></a>search()</h3><p><em>在字符串中查找符合正则表达式的，返回第一位置的结果；结果为match对象</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">re.search(pattern, String, flags=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># pattern正则表达式 </span></span><br><span class="line"><span class="comment"># String 字符串 </span></span><br><span class="line"><span class="comment"># flags正则表达式的控制情况</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># flag常用标记</span></span><br><span class="line">re.I  <span class="comment"># re.IGNORECASE 忽略正则表达式中的大小写</span></span><br><span class="line">re.M  <span class="comment"># RE.MUTILINE 正则中^操作符能够将字符串的每行当作匹配开始</span></span><br><span class="line">re.S  <span class="comment"># RE.DOTALL 正则表达式中‘.’可以表示任意单个字符，默认除换行符</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">match = re.search(<span class="string">r'[1-9]/d&#123;5&#125;'</span>, <span class="string">'BIT 234567'</span>)</span><br><span class="line">print(match.group(<span class="number">0</span>))</span><br></pre></td></tr></table></figure><h3 id="match"><a href="#match" class="headerlink" title="match()"></a>match()</h3><p><em>从字符串开始位置匹配正则表达式，匹配则返回match对象</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.match(pattern, String, flags=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">match=re.match(<span class="string">r'[1-9]/d&#123;5&#125;'</span>, <span class="string">'BIT  100085'</span>)</span><br><span class="line"><span class="comment"># 报错没有得到匹配结果</span></span><br></pre></td></tr></table></figure><h3 id="findall"><a href="#findall" class="headerlink" title="findall()"></a>findall()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.findall(pattern, string, flag=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LS = re.findall(<span class="string">'[1-9]/d&#123;5&#125;'</span>, <span class="string">'BIT 12345 BIT 23567'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'12345'</span>, <span class="string">'23567'</span>]</span><br></pre></td></tr></table></figure><h3 id="find"><a href="#find" class="headerlink" title="find()"></a>find()</h3><p><em>返回所有匹配结果，以列表形式返回</em></p><h3 id="split"><a href="#split" class="headerlink" title="split()"></a>split()</h3><p><em>以正则表达式分割字符串，返回列表</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">re.split(pattern, string, maxsplit=<span class="number">0</span>, flags=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># maxsplit最大切割数，剩下部分按整体输出</span></span><br></pre></td></tr></table></figure><h3 id="finditer"><a href="#finditer" class="headerlink" title="finditer()"></a>finditer()</h3><p><em>搜索字符串，返回一个匹配结果的迭代类型；match对象</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> m <span class="keyword">in</span> re.finditer(<span class="string">r'[1-9]/d&#123;5&#125;, '</span>BIT100081 TSU100084<span class="string">'):</span></span><br><span class="line"><span class="string">print(m.group(0))</span></span><br></pre></td></tr></table></figure><h3 id="sub"><a href="#sub" class="headerlink" title="sub()"></a>sub()</h3><p><em>替换所有匹配结果的字符串，返回替换后字符串</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">re.sub(pattern, repl, string, count=<span class="number">0</span>, flags=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># repl 替换的字符串</span></span><br><span class="line"><span class="comment"># count 最大替换次数</span></span><br></pre></td></tr></table></figure><h2 id="面向对象的方法"><a href="#面向对象的方法" class="headerlink" title="面向对象的方法"></a>面向对象的方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">regex = re.compile(pattern, flag=<span class="number">0</span>)</span><br><span class="line">rst = regex.search(String)</span><br></pre></td></tr></table></figure><h2 id="match对象"><a href="#match对象" class="headerlink" title="match对象"></a>match对象</h2><h3 id="match对象的属性"><a href="#match对象的属性" class="headerlink" title="match对象的属性"></a>match对象的属性</h3><ul><li>String  待匹配的字符串</li><li>re  匹配时使用的pattern对象</li><li>pos  正则表达式搜索文本的开始位置</li><li>endpos  正则表达式搜索文本的结束位置</li></ul><h2 id="match对象的方法"><a href="#match对象的方法" class="headerlink" title="match对象的方法"></a>match对象的方法</h2><ul><li>group() 返回匹配的字符串</li><li>start()  匹配字符串的开始位置</li><li>end()  匹配字符串的结束位置</li><li>span() 返回(start(), end())</li></ul><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="爬虫" scheme="http://tianyong.fun/categories/%E7%88%AC%E8%99%AB/"/>
    
      <category term="python" scheme="http://tianyong.fun/categories/%E7%88%AC%E8%99%AB/python/"/>
    
    
      <category term="re库" scheme="http://tianyong.fun/tags/re%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>python解析库-bs4</title>
    <link href="http://tianyong.fun/python%E8%A7%A3%E6%9E%90%E5%BA%93-bs4.html"/>
    <id>http://tianyong.fun/python%E8%A7%A3%E6%9E%90%E5%BA%93-bs4.html</id>
    <published>2020-06-07T12:24:26.000Z</published>
    <updated>2020-06-07T13:02:00.107Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="Beautiful-Soup库"><a href="#Beautiful-Soup库" class="headerlink" title="Beautiful Soup库"></a>Beautiful Soup库</h1><p><em>具有解析，遍历，维护“标签树”的功能的功能库</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">demo = r.text</span><br><span class="line">soup = BeautifulSoup(demo, <span class="string">'html.parser'</span>) <span class="comment"># 解析器可以是其它的</span></span><br></pre></td></tr></table></figure><h2 id="五种基本元素"><a href="#五种基本元素" class="headerlink" title="五种基本元素"></a>五种基本元素</h2><p><em>tag, name, attributes, navigableString, comment</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tag.标签名 <span class="comment"># 得到标签</span></span><br><span class="line">tag.name <span class="comment"># 得到标签名</span></span><br><span class="line">tag.attrs <span class="comment"># 得到标签属性</span></span><br><span class="line">comment <span class="comment"># 标签内的字符串，注释部分，一种特殊的comment类型</span></span><br></pre></td></tr></table></figure><h2 id="非find的常用方法"><a href="#非find的常用方法" class="headerlink" title="非find的常用方法"></a>非find的常用方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">soup.title</span><br><span class="line">soup.标签名</span><br><span class="line">soup.标签名.name</span><br><span class="line">soup.标签名.parent.name</span><br><span class="line">tag.attris[<span class="string">'属性名'</span>] <span class="comment"># tag.attris['href'], tag.attris['.class']</span></span><br></pre></td></tr></table></figure><h2 id="标签树"><a href="#标签树" class="headerlink" title="标签树"></a>标签树</h2><h3 id="标签树的下行遍历"><a href="#标签树的下行遍历" class="headerlink" title="标签树的下行遍历"></a>标签树的下行遍历</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tag.contents <span class="comment"># 得到子节点列表</span></span><br><span class="line">tag.children <span class="comment"># 得到子节点的迭代类型</span></span><br><span class="line">tag.descendents <span class="comment"># 子孙节点的迭代类型</span></span><br></pre></td></tr></table></figure><h3 id="标签树的上行遍历"><a href="#标签树的上行遍历" class="headerlink" title="标签树的上行遍历"></a>标签树的上行遍历</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tag.parent <span class="comment"># 父亲标签</span></span><br><span class="line">tag.parents <span class="comment"># 先辈标签的迭代类型</span></span><br></pre></td></tr></table></figure><h3 id="标签树的平行遍历"><a href="#标签树的平行遍历" class="headerlink" title="标签树的平行遍历"></a>标签树的平行遍历</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tag.next_sibling <span class="comment"># 下一个平行节点</span></span><br><span class="line">tag.next_siblings <span class="comment"># 得到所有下一个平行节点的迭代类型</span></span><br><span class="line">tag.previous_sibling <span class="comment"># 上一个平行节点</span></span><br><span class="line">tag.previous_siblings <span class="comment"># 得到所有上一个平行节点的迭代类型</span></span><br></pre></td></tr></table></figure><h2 id="使soup更加规则"><a href="#使soup更加规则" class="headerlink" title="使soup更加规则"></a>使soup更加规则</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">soup.prettify()</span><br></pre></td></tr></table></figure><h2 id="find-all"><a href="#find-all" class="headerlink" title="find_all()"></a>find_all()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 接口</span></span><br><span class="line">soup.find_all(name, attrs, recursive, String, kwarg**)</span><br><span class="line"><span class="comment"># recursive是否递归查询，默认为True</span></span><br><span class="line"><span class="comment"># String标签内的字符串</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用正则表达式匹配符合对应名字的标签名</span></span><br><span class="line">tags = soup.find_all(re.compile(<span class="string">'xxx'</span>))</span><br><span class="line"><span class="keyword">for</span> tag <span class="keyword">in</span> tags:</span><br><span class="line">    print(tag.name)</span><br><span class="line"><span class="comment"># 标签内字符串检索</span></span><br><span class="line">soup.find_all(String=re.compile(<span class="string">'python'</span>))</span><br></pre></td></tr></table></figure><h2 id="find"><a href="#find" class="headerlink" title="find()"></a>find()</h2><h2 id="find-parents"><a href="#find-parents" class="headerlink" title="find_parents()"></a>find_parents()</h2><h2 id="find-parent"><a href="#find-parent" class="headerlink" title="find_parent()"></a>find_parent()</h2><h2 id="find-next-sibling"><a href="#find-next-sibling" class="headerlink" title="find_next_sibling()"></a>find_next_sibling()</h2><h2 id="find-next-siblings"><a href="#find-next-siblings" class="headerlink" title="find_next_siblings()"></a>find_next_siblings()</h2><h2 id="find-previous-sibling"><a href="#find-previous-sibling" class="headerlink" title="find_previous_sibling()"></a>find_previous_sibling()</h2><h2 id="find-previous-siblings"><a href="#find-previous-siblings" class="headerlink" title="find_previous_siblings()"></a>find_previous_siblings()</h2><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="爬虫" scheme="http://tianyong.fun/categories/%E7%88%AC%E8%99%AB/"/>
    
    
      <category term="bs4" scheme="http://tianyong.fun/tags/bs4/"/>
    
      <category term="beautifulSoup" scheme="http://tianyong.fun/tags/beautifulSoup/"/>
    
  </entry>
  
  <entry>
    <title>python库-操作Excel</title>
    <link href="http://tianyong.fun/python%E5%BA%93-%E6%93%8D%E4%BD%9CExcel.html"/>
    <id>http://tianyong.fun/python%E5%BA%93-%E6%93%8D%E4%BD%9CExcel.html</id>
    <published>2020-06-07T01:55:16.000Z</published>
    <updated>2020-06-07T03:31:17.189Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="python库-操作Excel"><a href="#python库-操作Excel" class="headerlink" title="python库-操作Excel"></a>python库-操作Excel</h1><h2 id="openpyxl库"><a href="#openpyxl库" class="headerlink" title="openpyxl库"></a>openpyxl库</h2><p><em>三个基本概念：workbooks(工作簿)，sheets(表), cells(单元格)</em></p><p><em>不支持打开xls格式的EXECL文件</em></p><h3 id="打开EXCEL"><a href="#打开EXCEL" class="headerlink" title="打开EXCEL"></a>打开EXCEL</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> openpyxl <span class="keyword">import</span> WorkBook</span><br><span class="line"><span class="keyword">from</span> openpyxl <span class="keyword">import</span> load_workbook</span><br><span class="line">wb = load_workbook(<span class="string">'路径.xlsx'</span>) <span class="comment"># 得到workbook对象</span></span><br><span class="line">sheetnames = wb.sheetnames <span class="comment"># 得到workbook里面的表名</span></span><br><span class="line">ws = wb[sheetnames[index]] <span class="comment"># 得到sheet表</span></span><br><span class="line">ws.cell(row, column).value <span class="comment"># 得到某行某列单元格的值</span></span><br><span class="line">ws.cell(row, column).value = <span class="string">'xxxx'</span> <span class="comment"># 重赋值</span></span><br><span class="line"><span class="comment"># 以行迭代指定单元格</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> ws.iter_rows(min_row=<span class="number">3</span>, max_row=<span class="number">5</span>, min_col=<span class="number">2</span>, max_col=<span class="number">5</span>):</span><br><span class="line">    print(*[r.values <span class="keyword">for</span> r <span class="keyword">in</span> row])</span><br><span class="line"><span class="comment"># 以列迭代指定单元格</span></span><br><span class="line"><span class="keyword">for</span> col <span class="keyword">in</span> ws.iter_cols(min_row=<span class="number">3</span>, max_row=<span class="number">5</span>, min_col=<span class="number">2</span>, max_col=<span class="number">5</span>):</span><br><span class="line">    print(*[c.values <span class="keyword">for</span> c <span class="keyword">in</span> col])</span><br><span class="line">wb.save(<span class="string">'xxx.xlsx'</span>)</span><br></pre></td></tr></table></figure><h3 id="创建EXCEL"><a href="#创建EXCEL" class="headerlink" title="创建EXCEL"></a>创建EXCEL</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line">wb = WorkBook()</span><br><span class="line">ws = wb.active</span><br><span class="line">ws.cell(<span class="number">1</span>,<span class="number">1</span>).value = <span class="string">'xxx'</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,<span class="number">5</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">2</span>,<span class="number">6</span>):</span><br><span class="line">        ws.cell(i+<span class="number">1</span>, j+<span class="number">1</span>).value = i*j</span><br><span class="line">wb.save(<span class="string">'xxx.xlsx'</span>)</span><br></pre></td></tr></table></figure><h2 id="xlrd"><a href="#xlrd" class="headerlink" title="xlrd"></a>xlrd</h2><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://tianyong.fun/categories/python/"/>
    
    
  </entry>
  
  <entry>
    <title>hadoop启动后jps没有namenode</title>
    <link href="http://tianyong.fun/hadoop%E5%90%AF%E5%8A%A8%E5%90%8Ejps%E6%B2%A1%E6%9C%89namenode.html"/>
    <id>http://tianyong.fun/hadoop%E5%90%AF%E5%8A%A8%E5%90%8Ejps%E6%B2%A1%E6%9C%89namenode.html</id>
    <published>2020-06-04T15:29:02.000Z</published>
    <updated>2020-06-04T15:31:28.423Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="hadoop启动后jps没有namenode"><a href="#hadoop启动后jps没有namenode" class="headerlink" title="hadoop启动后jps没有namenode"></a>hadoop启动后jps没有namenode</h2><p><a href="https://blog.csdn.net/chuyouyinghe/article/details/81265784" target="_blank" rel="external nofollow noopener noreferrer">解决链接</a></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hadoop" scheme="http://tianyong.fun/categories/Hadoop/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-SQL_Server</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-SQL-Server.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-SQL-Server.html</id>
    <published>2020-06-04T09:32:40.000Z</published>
    <updated>2020-06-04T09:38:52.378Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="SQL-Server"><a href="#SQL-Server" class="headerlink" title="SQL Server"></a>SQL Server</h1><p><a href="https://www.51zxw.net/List.aspx?cid=492" target="_blank" rel="external nofollow noopener noreferrer">https://www.51zxw.net/List.aspx?cid=492</a></p><p> SQL Server 是<a href="https://baike.baidu.com/item/Microsoft/125917" target="_blank" rel="external nofollow noopener noreferrer">Microsoft</a> 公司推出的<a href="https://baike.baidu.com/item/关系型数据库管理系统/696511" target="_blank" rel="external nofollow noopener noreferrer">关系型数据库管理系统</a>。具有使用<a href="https://baike.baidu.com/item/方便" target="_blank" rel="external nofollow noopener noreferrer">方便</a>可伸缩性好与相关<a href="https://baike.baidu.com/item/软件/12053" target="_blank" rel="external nofollow noopener noreferrer">软件</a>集成<a href="https://baike.baidu.com/item/程度/70052" target="_blank" rel="external nofollow noopener noreferrer">程度</a>高等<a href="https://baike.baidu.com/item/优点/884953" target="_blank" rel="external nofollow noopener noreferrer">优点</a>，可跨越从<a href="https://baike.baidu.com/item/运行/5480697" target="_blank" rel="external nofollow noopener noreferrer">运行</a>Microsoft Windows 98 的膝上型<a href="https://baike.baidu.com/item/电脑/124859" target="_blank" rel="external nofollow noopener noreferrer">电脑</a>到运行Microsoft Windows 2012 的大型多处理器的服务器等多种平台使用。</p><h2 id="启动SQL-Server服务"><a href="#启动SQL-Server服务" class="headerlink" title="启动SQL Server服务"></a>启动SQL Server服务</h2><p>1.在控制面板服务中启动</p><p>2.开始中找到sql的服务配置文件</p><p>3.cmd命令启动 net start /stop mssqlserver</p><h2 id="SQL-Server身份验证"><a href="#SQL-Server身份验证" class="headerlink" title="SQL Server身份验证"></a>SQL Server身份验证</h2><p>1.local/./127.0.0.1/IP地址</p><p>2.</p><ul><li><p>windows</p></li><li><p>Sql   </p><p>18456 安装时验证选择的问题   18470 账户启动问题</p></li></ul><hr><blockquote><p>明智的放弃胜过盲目的执著。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>虚拟机无法联网</title>
    <link href="http://tianyong.fun/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%97%A0%E6%B3%95%E8%81%94%E7%BD%91.html"/>
    <id>http://tianyong.fun/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%97%A0%E6%B3%95%E8%81%94%E7%BD%91.html</id>
    <published>2020-06-03T08:45:31.000Z</published>
    <updated>2020-06-03T08:47:18.063Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="虚拟机无法联网"><a href="#虚拟机无法联网" class="headerlink" title="虚拟机无法联网"></a>虚拟机无法联网</h2><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p><a href="https://blog.csdn.net/wuhuimin521/article/details/80992530" target="_blank" rel="external nofollow noopener noreferrer">方案链接</a></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Hadoop大数据技术-第八章</title>
    <link href="http://tianyong.fun/Hadoop%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF-%E7%AC%AC%E5%85%AB%E7%AB%A0.html"/>
    <id>http://tianyong.fun/Hadoop%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF-%E7%AC%AC%E5%85%AB%E7%AB%A0.html</id>
    <published>2020-06-02T04:59:19.000Z</published>
    <updated>2020-06-02T05:17:30.875Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="Sqoop"><a href="#Sqoop" class="headerlink" title="Sqoop"></a>Sqoop</h1><h2 id="Sqoop简介"><a href="#Sqoop简介" class="headerlink" title="Sqoop简介"></a>Sqoop简介</h2><p><em>Sqoop是一个在关系型数据库与Hadoop数据存储和处理平台进行数据导入\导出的工具</em></p><p><em>Sqoop脚本最终会转换为mapreduce程序</em></p><h2 id="Sqoop基本原理"><a href="#Sqoop基本原理" class="headerlink" title="Sqoop基本原理"></a>Sqoop基本原理</h2><p><em>有sqoop1和sqoop2；sqoop1更加稳定</em></p><p><em>Sqoop1使用Sqoop客户端直接提交任务，通过CLI控制台或API方式访问数据时，在命令或脚本中需要指定用户数据库名及密码</em></p><p><strong>import原理</strong>：<em>从传统数据库获取元数据信息，把导入功能转换为只有Map的MapReduce作业，在map中有很多Map，每个Map读取一片数据，进而并行地复制到HDFS,HBSE或HIVE中的数据导入到关系型数据库</em></p><p><strong>Export原理</strong>：<em>获取导出表的schema,meta信息，与hadoop中的字段匹配，多个Map作业并行运行，将HDFS,HBASE或HIVE中的数据导出到关系型数据库</em></p><p><a href="https://imgchr.com/i/ttSV7d" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/02/ttSV7d.md.jpg" alt="ttSV7d.md.jpg" border="0"></a></p><img src="https://s1.ax1x.com/2020/06/02/ttSeAA.md.jpg" alt="ttSeAA.md.jpg" border="0"><h2 id="Sqoop的安装与部署"><a href="#Sqoop的安装与部署" class="headerlink" title="Sqoop的安装与部署"></a>Sqoop的安装与部署</h2><h2 id="Sqoop应用"><a href="#Sqoop应用" class="headerlink" title="Sqoop应用"></a>Sqoop应用</h2><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hadoop" scheme="http://tianyong.fun/categories/Hadoop/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-用SQL创建数据库</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E7%94%A8SQL%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E7%94%A8SQL%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93.html</id>
    <published>2020-06-01T10:11:18.000Z</published>
    <updated>2020-06-04T09:44:35.748Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><img src="https://s1.ax1x.com/2020/06/04/tBE71f.png" alt="tBE71f.png" border="0"><p><a href="https://imgchr.com/i/tBExNn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/04/tBExNn.png" alt="tBExNn.png" border="0"></a></p><img src="https://s1.ax1x.com/2020/06/04/tBEQTs.png" alt="tBEQTs.png" border="0"><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-数据库系统概述</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80.html</id>
    <published>2020-06-01T10:08:30.000Z</published>
    <updated>2020-06-06T08:39:56.730Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="数据库系统概述"><a href="#数据库系统概述" class="headerlink" title="数据库系统概述"></a>数据库系统概述</h1><h2 id="其他课程与本课程的关系"><a href="#其他课程与本课程的关系" class="headerlink" title="其他课程与本课程的关系"></a>其他课程与本课程的关系</h2><ul><li>离散数学</li><li>数据结构</li><li>编译原理</li><li>操作系统</li><li>软件工程</li></ul><h2 id="需要学习"><a href="#需要学习" class="headerlink" title="需要学习"></a>需要学习</h2><ul><li>数据库基础</li><li>数据库设计</li><li>数据库应用程序开发</li><li>数据库存储与控制</li></ul><h2 id="数据库的-4-个基本概念"><a href="#数据库的-4-个基本概念" class="headerlink" title="数据库的 4 个基本概念"></a>数据库的 4 个基本概念</h2><h3 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h3><p><strong>数据是数据库存储的基本对象</strong></p><p><strong>信息与数据既有联系，又有区别。数据是信息的表现形式和载体</strong></p><p><strong>数据是数据库存储的基本对象</strong></p><p><strong>描述事物的符号记录称为数据</strong></p><p><strong>数据的含义称为数据的语义，数据与其语义密不可分</strong></p><h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><p><strong>什么是数据库</strong>：有相互关系和关联的数据的集合</p><p>表</p><p>行/元组/</p><p>列/属性/数据项</p><p><strong>数据库是长期存储在计算机内，有组织，可共享的大量数据的集合。数据库中的数据按照一定的数据模型组织，描述和存储，具有较小的冗余度，较高的数据独立性和易扩展性，并可为各种用户共享</strong></p><p><strong>简单地说数据库具有可共享，有组织，永久存储的特点</strong></p><h3 id="数据库管理系统"><a href="#数据库管理系统" class="headerlink" title="数据库管理系统"></a>数据库管理系统</h3><p><em>科学的组织和存储数据，如何高效底维护和获取数据</em></p><p><strong>数据库管理系统必须具有将数据库从错误状态恢复到某一已知的正确状态的功能，这就是数据库的恢复功能</strong></p><p><strong>数据库管理系统</strong>：操作和管理数据库的大型软件<br><strong>数据库管理系统的主要功能:</strong>  </p><ul><li>数据定义功能: 具有数据定义语言(Data Definition Language, DDL)</li><li>数据组织，存储和管理（提供了多种方法）</li><li>数据操纵功能（用户操纵数据， Data Manipulation Language, DML）</li><li>数据库的事务管理和运行管理</li><li>数据库的建立和维护功能</li><li>其它功能</li></ul><h3 id="数据库系统"><a href="#数据库系统" class="headerlink" title="数据库系统"></a>数据库系统</h3><p><em>由数据库，数据库管理系统，应用程序和数据库管理员(DBA)组成的存储，管理，处理和维护数据的系统</em></p><p><em>在一般不引起混淆的情况下，一般把数据库系统叫做数据库</em></p><p><a href="https://imgchr.com/i/tBiPPK" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/04/tBiPPK.md.png" alt="tBiPPK.png" border="0"></a></p><h4 id="数据库系统的特点"><a href="#数据库系统的特点" class="headerlink" title="数据库系统的特点"></a>数据库系统的特点</h4><ul><li>数据结构化(实现整体数据的结构化，这是数据库的主要特征，也是数据库系统与文件系统的本质区别)</li><li>数据冗余度低，高共享，独立，易扩充</li><li>数据由数据库管理系统统一管理和控制(数据的安全性的保护，完整性的检查，并发控制，数据库恢复)</li></ul><h4 id="组成部分"><a href="#组成部分" class="headerlink" title="组成部分"></a>组成部分</h4><ul><li>数据库(有相互关系关联的数据的集合)  </li><li>数据库管理系统(DBMS管理数据的一种系统软件) </li><li>数据库应用(DBAP)  ·数据库管理员(DBA) </li><li>计算机基本系统</li></ul><h3 id="数据库管理技术及其发展"><a href="#数据库管理技术及其发展" class="headerlink" title="数据库管理技术及其发展"></a>数据库管理技术及其发展</h3><p><strong>人工管理阶段-》文件系统阶段-》数据库系统阶段</strong></p><p><em>从文件管理系统到数据库系统标志着数据管理技术的飞跃</em></p><h4 id="人工管理阶段"><a href="#人工管理阶段" class="headerlink" title="人工管理阶段"></a>人工管理阶段</h4><ul><li>数据不能长期存储</li><li>应用程序管理数据</li><li>数据不能共享</li><li>数据不具有独立性</li></ul><h4 id="文件系统管理阶段"><a href="#文件系统管理阶段" class="headerlink" title="文件系统管理阶段"></a>文件系统管理阶段</h4><ul><li>数据可以长期存储</li><li>有简单的数据管理功能</li><li>数据共享能力差</li><li>数据不具有独立性</li></ul><h4 id="数据库系统管理阶段"><a href="#数据库系统管理阶段" class="headerlink" title="数据库系统管理阶段"></a>数据库系统管理阶段</h4><ul><li>采用复杂的结构化的数据模型</li><li>数据独立性高</li><li>数据共享程度高，冗余度低</li><li>数据由DBMS统一管理和控制</li></ul><h2 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h2><p><em>数 据 模 型 (data model)也是一种模型，它是对现实世界数据特征的抽象</em></p><p><strong>三大经典数据模型</strong>：表，树，图</p><h3 id="两类数据模型"><a href="#两类数据模型" class="headerlink" title="两类数据模型"></a>两类数据模型</h3><p><em>第一类是概念模型，第二类是逻辑模型和物理模型</em></p><p><em>首先将现实世界抽象为信息世界，然后将信息世界转换为机器世界</em></p><h3 id="概念模型"><a href="#概念模型" class="headerlink" title="概念模型"></a>概念模型</h3><p><em>概念模型实际上是现实世界到机器世界的一个中间层次</em></p><h4 id="信息世界中的基本概念"><a href="#信息世界中的基本概念" class="headerlink" title="信息世界中的基本概念"></a>信息世界中的基本概念</h4><h5 id="实-体-entity"><a href="#实-体-entity" class="headerlink" title="实 体 (entity)"></a>实 体 (entity)</h5><p><em>客观存在并可相互区别的事物称为实体</em></p><h5 id="属-性-attribute"><a href="#属-性-attribute" class="headerlink" title="属 性 (attribute)"></a>属 性 (attribute)</h5><p><em>实体所具有的某一特性称为属性</em></p><h5 id="码-key"><a href="#码-key" class="headerlink" title="码 (key)"></a>码 (key)</h5><p><em>唯一标识实体的属性集称为码</em></p><h5 id="实-体-型-entitytype"><a href="#实-体-型-entitytype" class="headerlink" title="实 体 型 (entitytype)"></a>实 体 型 (entitytype)</h5><p><em>具有相同属性的实体必然具有共同的特征和性质。用实体名及其属性名集合来抽象和<br>刻画同类实体，称为实体型。</em></p><h5 id="实-体-集-entityset"><a href="#实-体-集-entityset" class="headerlink" title="实 体 集 (entityset)"></a>实 体 集 (entityset)</h5><h5 id="联-系-relationship"><a href="#联-系-relationship" class="headerlink" title="联 系 (relationship)"></a>联 系 (relationship)</h5><p><em>实体之间的联系通常是指不同实体集之间的联系</em></p><p><em>实体之间的联系有一对一、 一对多和多对多等多种类型</em></p><h4 id="概念模型的一种表示方法：实体-联系方法"><a href="#概念模型的一种表示方法：实体-联系方法" class="headerlink" title="概念模型的一种表示方法：实体-联系方法"></a>概念模型的一种表示方法：实体-联系方法</h4><p><em>概念模型的表示方法很多，其中最为常用的是P.P.S.Chen于 1976年提出的<br>*</em>实体 -联系方法** (Entity-Relationship approach 该方法用 E-R 图 (E-R diagram )来描述现实世界的概念模型， <strong>E -R 方法</strong>也称为<strong>E -R 模型*</strong> </p><h4 id="数据模型的组成要素"><a href="#数据模型的组成要素" class="headerlink" title="数据模型的组成要素"></a>数据模型的组成要素</h4><p><em>数据模型通常由数据结构、数据操作和数据的完整性约束条件三部分组成</em>  </p><h2 id="关系"><a href="#关系" class="headerlink" title="关系"></a>关系</h2><p><strong>E.F.Codd提出了”关系”及关系模型</strong></p><h3 id="数据库语言"><a href="#数据库语言" class="headerlink" title="数据库语言"></a>数据库语言</h3><ul><li>数据定义语言(DDL)：包括数据库模式定义和数据库存储结构与存取方法定义两方面</li><li>数据操作语言(DML): 嵌入式主语言和交互式命令语言</li></ul><p>例行程序语言翻译处理程序系统运行控制程序公用程序</p><h3 id="数据库系统结构"><a href="#数据库系统结构" class="headerlink" title="数据库系统结构"></a>数据库系统结构</h3><h4 id="内部体系结构"><a href="#内部体系结构" class="headerlink" title="内部体系结构"></a>内部体系结构</h4><ul><li>三层模式结构  </li></ul><h4 id="外部体系结构"><a href="#外部体系结构" class="headerlink" title="外部体系结构"></a>外部体系结构</h4><ul><li>集中式结构  </li><li>分布式结构  </li><li>客户端/服务器结构等</li></ul><h3 id="数据库系统的三级模式结构"><a href="#数据库系统的三级模式结构" class="headerlink" title="数据库系统的三级模式结构"></a>数据库系统的三级模式结构</h3><p><strong>外部级</strong>: 最接近用户，是单个用户索能看到的数据特征  </p><p><strong>概念级</strong>: 涉及到所有用户的数据定义，也就是全局性的数据视图，全局数据视图称为概念模式  </p><p><strong>内部级</strong>: 最接近物理存储设备，涉及到物理数据存储的结构，物理存储数据视图的描述称为内模式</p><p>数据库的三级模式结构是对数据的三个抽象级别， 它把数据的具体组织留给DBMS去做，用户只要抽象地处理数据，而不必关心数据在计算机中的表示和存储</p><p>关系模型的三个要素:基本结构基本操作完整性约束</p><hr><blockquote><p>看似不起波澜的日复一日，会突然在某一天让人看到坚持的意义。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>计算机网络-第六章</title>
    <link href="http://tianyong.fun/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E5%85%AD%E7%AB%A0.html"/>
    <id>http://tianyong.fun/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E5%85%AD%E7%AB%A0.html</id>
    <published>2020-06-01T02:39:12.000Z</published>
    <updated>2020-06-01T03:37:31.437Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><h2 id="域名系统-DNS"><a href="#域名系统-DNS" class="headerlink" title="域名系统 DNS"></a>域名系统 DNS</h2><h3 id="域名系统概述"><a href="#域名系统概述" class="headerlink" title="域名系统概述"></a>域名系统概述</h3><p><strong>DNS</strong>是一个分布式系统(单个计算机出现错误，也不会妨碍整个系统的运行)</p><p><strong>域名系统</strong>是互联网使用的命名系统，用于<strong>把机器名字转换成IP地址</strong></p><p><strong>DNS</strong>使大多数名字都在本地进行<strong>解析</strong>，仅少量解析需要在互联网上通信，因此DNS效率很高</p><h3 id="互联网的域名结构"><a href="#互联网的域名结构" class="headerlink" title="互联网的域名结构"></a>互联网的域名结构</h3><p><em>级别最低的域名写在最左边，而最高级的域名写在最右边</em></p><p><strong>顶级域名分为三类:</strong>国家顶级域名nTLD；通用顶级域名gTLD；基础结构域名infrastructure domain</p><p><a href="https://imgchr.com/i/t83I2D" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/01/t83I2D.md.jpg" alt="t83I2D.jpg" border="0"></a></p><h3 id="域名服务器"><a href="#域名服务器" class="headerlink" title="域名服务器"></a>域名服务器</h3><p><strong>根域名服务器</strong></p><p><em>层次最高的域名服务器，也是最重要的域名服务器</em></p><p><em>所有根域名服务器都知道所有的顶级域名服务器的域名和IP地址</em></p><p><strong>顶级域名服务器</strong></p><p><strong>权限域名服务器</strong></p><p><strong>本地域名服务器</strong></p><p><em>当一台主机发出DNS查询请求时，这个请求报文就发给本地域名服务器</em></p><h4 id="域名解析过程"><a href="#域名解析过程" class="headerlink" title="域名解析过程"></a>域名解析过程</h4><h5 id="迭代查询"><a href="#迭代查询" class="headerlink" title="迭代查询"></a>迭代查询</h5><h5 id="递归查询"><a href="#递归查询" class="headerlink" title="递归查询"></a>递归查询</h5><p><a href="https://imgchr.com/i/t8Gw1U" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/01/t8Gw1U.md.jpg" alt="t8Gw1U.jpg" border="0"></a></p><h4 id="高速缓存"><a href="#高速缓存" class="headerlink" title="高速缓存"></a>高速缓存</h4><p><em>为了提高DNS查询效率，并减轻根域名服务器的负担和减少互联网的DNS查询数量，在域名服务器中广泛使用<strong>高速缓存</strong>。</em></p><h2 id="文件传送协议-FTP"><a href="#文件传送协议-FTP" class="headerlink" title="文件传送协议 FTP"></a>文件传送协议 FTP</h2><h3 id="FTP概述"><a href="#FTP概述" class="headerlink" title="FTP概述"></a>FTP概述</h3><p><strong>文件传输协议</strong>FTP是互联网上使用得最广泛的文件传输协议</p><h3 id="FTP的基本工作原理"><a href="#FTP的基本工作原理" class="headerlink" title="FTP的基本工作原理"></a>FTP的基本工作原理</h3><p>服务器端有两个从属进程：<strong>控制进程</strong>和<strong>数据传输进程</strong></p><p>在进行文件传输时，FTP的客户和服务器之间要建立两个并行的<strong>TCP连接</strong>：<strong>控制连接和数据连接</strong>。<strong>控制进程会在整个进程保持打开</strong></p><p><a href="https://imgchr.com/i/t8JOaR" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/01/t8JOaR.md.jpg" alt="t8JOaR.jpg" border="0"></a></p><h2 id="万维网WWW"><a href="#万维网WWW" class="headerlink" title="万维网WWW"></a>万维网WWW</h2><h3 id="万维网概述"><a href="#万维网概述" class="headerlink" title="万维网概述"></a>万维网概述</h3><p><em>world wide web</em></p><p><strong>URL</strong>:统一资源定位符</p><p><strong>HTTP</strong>:超文本传输协议</p><h4 id="统一资源定位符URL"><a href="#统一资源定位符URL" class="headerlink" title="统一资源定位符URL"></a>统一资源定位符URL</h4><h5 id="URL格式"><a href="#URL格式" class="headerlink" title="URL格式"></a>URL格式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;协议&gt;:&#x2F;&#x2F;&lt;主机&gt;:&lt;端口&gt;&#x2F;&lt;路径&gt;</span><br></pre></td></tr></table></figure><h5 id="使用HTTP的URL"><a href="#使用HTTP的URL" class="headerlink" title="使用HTTP的URL"></a>使用HTTP的URL</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;&lt;主机&gt;:&lt;端口&gt;&#x2F;&lt;路径&gt; --端口默认是80可以省略</span><br></pre></td></tr></table></figure><h4 id="超文本传输协议HTTP"><a href="#超文本传输协议HTTP" class="headerlink" title="超文本传输协议HTTP"></a>超文本传输协议HTTP</h4><p><em>HTTP协议是无状态的</em></p><p><strong>HTTP/1.0的缺点</strong>是：非持续连接</p><p><strong>HTTP/1.1:</strong>持续连接</p><h4 id="万维网的文档"><a href="#万维网的文档" class="headerlink" title="万维网的文档"></a>万维网的文档</h4><h5 id="超文本标记语言HTML"><a href="#超文本标记语言HTML" class="headerlink" title="超文本标记语言HTML"></a>超文本标记语言HTML</h5><h4 id="万维网的信息检索系统"><a href="#万维网的信息检索系统" class="headerlink" title="万维网的信息检索系统"></a>万维网的信息检索系统</h4><h5 id="全文检索搜索"><a href="#全文检索搜索" class="headerlink" title="全文检索搜索"></a>全文检索搜索</h5><h5 id="分类目录搜索"><a href="#分类目录搜索" class="headerlink" title="分类目录搜索"></a>分类目录搜索</h5><h2 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h2><p><em>主要由三个主要组件组成：*</em>用户代理<strong>；</strong>邮件服务器<strong>；</strong>邮局协议***</p><p><a href="https://imgchr.com/i/t8aPpt" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/01/t8aPpt.md.jpg" alt="t8aPpt.jpg" border="0"></a></p><h3 id="读取邮件协议POP3和IMAP"><a href="#读取邮件协议POP3和IMAP" class="headerlink" title="读取邮件协议POP3和IMAP"></a>读取邮件协议POP3和IMAP</h3><h4 id="POP3"><a href="#POP3" class="headerlink" title="POP3"></a>POP3</h4><p><em>是一个非常简单，功能非常有限的邮件读取协议</em></p><p><em>POP3协议的一个特点是只要用户从POP3服务器读取了邮件，POP3服务器就把该邮件删除</em></p><h4 id="IMAP"><a href="#IMAP" class="headerlink" title="IMAP"></a>IMAP</h4><p><strong>IMAP</strong>最大的好处就是用户可以在不同的地方使用不同的计算机随时阅读和处理自己在邮件服务器中的邮件</p><h2 id="动态主机配置协议DHCP"><a href="#动态主机配置协议DHCP" class="headerlink" title="动态主机配置协议DHCP"></a>动态主机配置协议DHCP</h2><p><em>这种机制允许一台计算机加入新的网络和获取IP地址而不需要手工参与</em></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="计算机网络" scheme="http://tianyong.fun/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
  </entry>
  
  <entry>
    <title>数值分析-插值与拟合</title>
    <link href="http://tianyong.fun/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-%E6%8F%92%E5%80%BC%E4%B8%8E%E6%8B%9F%E5%90%88.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-%E6%8F%92%E5%80%BC%E4%B8%8E%E6%8B%9F%E5%90%88.html</id>
    <published>2020-05-27T04:33:35.000Z</published>
    <updated>2020-05-28T09:47:03.325Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="插值与拟合"><a href="#插值与拟合" class="headerlink" title="插值与拟合"></a>插值与拟合</h1><h2 id="拉格朗日插值"><a href="#拉格朗日插值" class="headerlink" title="拉格朗日插值"></a>拉格朗日插值</h2><h3 id="线性插值与抛物插值"><a href="#线性插值与抛物插值" class="headerlink" title="线性插值与抛物插值"></a>线性插值与抛物插值</h3><h3 id="n次插值基函数"><a href="#n次插值基函数" class="headerlink" title="n次插值基函数"></a>n次插值基函数</h3><p><a href="https://imgchr.com/i/tZgy38" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/28/tZgy38.md.jpg" alt="tZgy38.md.jpg" border="0"></a></p><h4 id="n次拉格朗日插值多项式"><a href="#n次拉格朗日插值多项式" class="headerlink" title="n次拉格朗日插值多项式"></a>n次拉格朗日插值多项式</h4><img src="https://s1.ax1x.com/2020/05/28/tZgs9f.md.jpg" alt="tZgs9f.md.jpg" border="0"><h4 id="n次插值多项式"><a href="#n次插值多项式" class="headerlink" title="n次插值多项式"></a>n次插值多项式</h4><h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><p><a href="https://imgchr.com/i/tASce1" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/27/tASce1.md.png" alt="tASce1.png" border="0"></a></p><p><a href="https://imgchr.com/i/tASWFK" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/27/tASWFK.md.png" alt="tASWFK.png" border="0"></a></p><p><a href="https://imgchr.com/i/tApiT0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/27/tApiT0.md.jpg" alt="tApiT0.md.jpg" border="0"></a><br><a href="https://imgchr.com/i/tApPwq" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/27/tApPwq.md.jpg" alt="tApPwq.md.jpg" border="0"></a></p><p><a href="https://imgchr.com/i/teSKzT" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/28/teSKzT.md.jpg" alt="teSKzT.jpg" border="0"></a></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数值分析" scheme="http://tianyong.fun/categories/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-数据库完整性</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7.html</id>
    <published>2020-05-26T06:12:14.000Z</published>
    <updated>2020-05-27T06:42:55.347Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="数据库完整性"><a href="#数据库完整性" class="headerlink" title="数据库完整性"></a>数据库完整性</h1><h2 id><a href="#" class="headerlink" title></a></h2><h2 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h2><p><strong>触 发 器</strong> (trig g er)<em>是用户定义在关系表上的一类由事件驱动的特殊过程</em></p><p><em>一旦定义，触发器将被保存在数据库服务器中</em></p><p> <em>任何用户对表的增、删 、改操作均由<strong>服务器自动激活相应的触发器</strong>，在关系数据库管理系统核心层进行集中的完整性控制</em>  </p><p><em>触发器类似于约束，但是比约束更加灵活，可以实施更为复杂的检查和操作，具有更精细和更强大的数据控制能力</em>  </p><h3 id="定义触发器"><a href="#定义触发器" class="headerlink" title="定义触发器"></a>定义触发器</h3><p><strong>触发器又叫做事件-条件-动作(event-condition-action) 规则</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> &lt;触发器名&gt;</span><br><span class="line"><span class="keyword">ON</span> &#123;表名|视图名&#125;</span><br><span class="line">[<span class="keyword">WITH</span> ENCRYPTION]</span><br><span class="line">&#123;<span class="keyword">FOR</span>|<span class="keyword">AFTER</span>|INSTEAD <span class="keyword">OF</span>&#125;&#123;[<span class="keyword">INSERT</span>][,][<span class="keyword">UPDATE</span>][,][<span class="keyword">DELETE</span>]&#125;</span><br><span class="line">[<span class="keyword">NOT</span> <span class="keyword">FOR</span> <span class="keyword">REPLICATION</span>]</span><br><span class="line"><span class="keyword">AS</span> </span><br><span class="line">[<span class="keyword">SQL</span>语句]</span><br></pre></td></tr></table></figure><h4 id="INSERT触发器"><a href="#INSERT触发器" class="headerlink" title="INSERT触发器"></a>INSERT触发器</h4><img src="https://s1.ax1x.com/2020/05/26/tiijpD.png" alt="tiijpD.png" border="0"><p><a href="https://imgchr.com/i/tiFfEt" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiFfEt.md.png" alt="tiFfEt.png" border="0"></a></p><p><em>cast强制转换；print只能输出字符类型；@@rowcount返回影响条数</em></p><img src="https://s1.ax1x.com/2020/05/26/tiVcJP.png" alt="tiVcJP.png" border="0"><p><em>ROLLBACK TRAN返回上一个版本</em></p><h4 id="DELETE触发器"><a href="#DELETE触发器" class="headerlink" title="DELETE触发器"></a>DELETE触发器</h4><img src="https://s1.ax1x.com/2020/05/26/tiZIXD.png" alt="tiZIXD.png" border="0"><img src="https://s1.ax1x.com/2020/05/26/timuxf.png" alt="timuxf.png" border="0"><h4 id="UPDATE触发器"><a href="#UPDATE触发器" class="headerlink" title="UPDATE触发器"></a>UPDATE触发器</h4><img src="https://s1.ax1x.com/2020/05/26/tinqAJ.png" alt="tinqAJ.png" border="0"><img src="https://s1.ax1x.com/2020/05/27/tAmi7D.png" alt="tAmi7D.png" border="0"><img src="https://s1.ax1x.com/2020/05/26/tiMOhj.png" alt="tiMOhj.png" border="0"><h4 id="INSTEAD-OF触发器"><a href="#INSTEAD-OF触发器" class="headerlink" title="INSTEAD OF触发器"></a>INSTEAD OF触发器</h4><img src="https://s1.ax1x.com/2020/05/27/tAM2Je.png" alt="tAM2Je.png" border="0"><h3 id="修改和删除触发器"><a href="#修改和删除触发器" class="headerlink" title="修改和删除触发器"></a>修改和删除触发器</h3><img src="https://s1.ax1x.com/2020/05/27/tAQFW4.png" alt="tAQFW4.png" border="0"><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-数据库创建</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA.html</id>
    <published>2020-05-25T11:18:33.000Z</published>
    <updated>2020-05-25T11:20:29.746Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="数据库创建"><a href="#数据库创建" class="headerlink" title="数据库创建"></a>数据库创建</h1><h2 id="视图创建"><a href="#视图创建" class="headerlink" title="视图创建"></a>视图创建</h2><h2 id="SQl创建"><a href="#SQl创建" class="headerlink" title="SQl创建"></a>SQl创建</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> StudentInfo <span class="comment">--创建数据库名字</span></span><br><span class="line"><span class="keyword">on</span> primary <span class="comment">--主文件组</span></span><br><span class="line">(</span><br><span class="line">   <span class="keyword">name</span> = <span class="string">'StudentInfo'</span>, <span class="comment">--数据库文件的逻辑名字；</span></span><br><span class="line">   filename=<span class="string">'E:\mydata\ StudentInfo.mdf'</span>,</span><br><span class="line">   <span class="keyword">size</span>=<span class="number">10</span>mb,</span><br><span class="line">   <span class="keyword">maxsize</span>=<span class="number">50</span>mb,</span><br><span class="line">   filegrowth=<span class="number">1</span>mb</span><br><span class="line">   ),</span><br><span class="line">   (</span><br><span class="line">       <span class="keyword">name</span>=<span class="string">'StudentInfo_log'</span>,  <span class="comment">-- 次要文件名字，不能和主文件名字相同</span></span><br><span class="line">       filename=<span class="string">' E:\mydata\StudentInfo_log.ldf'</span>,</span><br><span class="line">       <span class="keyword">size</span>=<span class="number">10</span>mb,</span><br><span class="line">       <span class="keyword">maxsize</span>=<span class="number">50</span>mb,</span><br><span class="line">       filegrowth=<span class="number">1</span>mb</span><br><span class="line">);</span><br></pre></td></tr></table></figure><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>hadoop理论课-第七章Flume</title>
    <link href="http://tianyong.fun/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E4%B8%83%E7%AB%A0Flume.html"/>
    <id>http://tianyong.fun/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E4%B8%83%E7%AB%A0Flume.html</id>
    <published>2020-05-25T08:04:46.000Z</published>
    <updated>2020-05-26T00:27:33.196Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="Flume-了解"><a href="#Flume-了解" class="headerlink" title="Flume(了解)"></a>Flume(了解)</h1><p><em>用于采集数据</em></p><h2 id="Flume-产生的背景"><a href="#Flume-产生的背景" class="headerlink" title="Flume 产生的背景"></a>Flume 产生的背景</h2><p><em>通过中间系统，将数据推送到 HDFS 或类似的存储系统是很普遍的。这些系统能在数据生产者和最终目的地之间起缓冲作用，使得偶然突发写入 HDFS 和 HBase 集群的请求，变得可以持续而平稳</em>    </p><h2 id="Flume-简介"><a href="#Flume-简介" class="headerlink" title="Flume 简介"></a>Flume 简介</h2><p><em>Flume 是 Cloudera 提供的一个高可用、高可靠、分布式的海量日志采集、聚合和传输的系统</em></p><p><em>Apache Flume 是一个系统，用于从大量数据生产商那里移动海量数据到存储、索引或分析数据的系统</em>  </p><h2 id="Flume-安装"><a href="#Flume-安装" class="headerlink" title="Flume 安装"></a>Flume 安装</h2><p><em>不支持windows安装</em></p><p><em>需要配置环境变量</em></p><h2 id="Flume的架构"><a href="#Flume的架构" class="headerlink" title="Flume的架构"></a>Flume的架构</h2><h3 id="Agent"><a href="#Agent" class="headerlink" title="Agent"></a>Agent</h3><p><em>Flume 运行的核心是 Agent。 Agent 本身是一个 Java 进程，也是 Flume 中最小的独立运行单位，运行在日志收集节点。</em></p><p>  Flume核心Agent = source(采集) + channel(缓存数据) + sink(保存日志)</p><p><em>一般一个机器运行一个Agent， 但在一个Agent中可以包含多个Source，channel和sink</em></p><h3 id="event"><a href="#event" class="headerlink" title="event"></a>event</h3><p><em>Flume 基于数据流进行设计，数据流由事件（ Event）贯穿始终。<strong>事件作为 Flume 的基本数据单位</strong>，携带日志数据（以字节数组形式）并且携带有头信息，由 Agent 外部的数据源（如图 7-2 中的 Web Server）生成</em> </p><h2 id="Flume-应用"><a href="#Flume-应用" class="headerlink" title="Flume 应用"></a>Flume 应用</h2><h3 id="Flume的组件类型及其配置"><a href="#Flume的组件类型及其配置" class="headerlink" title="Flume的组件类型及其配置"></a>Flume的组件类型及其配置</h3><h2 id="Flume的配置方法"><a href="#Flume的配置方法" class="headerlink" title="Flume的配置方法"></a>Flume的配置方法</h2><p><em>一定义，三配置</em></p><p><a href="https://imgchr.com/i/t9LHeJ" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/t9LHeJ.md.png" alt="t9LHeJ.png" border="0"></a></p><h2 id="运行方法"><a href="#运行方法" class="headerlink" title="运行方法"></a>运行方法</h2><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hadoop" scheme="http://tianyong.fun/categories/Hadoop/"/>
    
    
  </entry>
  
  <entry>
    <title>maven安装</title>
    <link href="http://tianyong.fun/maven%E5%AE%89%E8%A3%85.html"/>
    <id>http://tianyong.fun/maven%E5%AE%89%E8%A3%85.html</id>
    <published>2020-05-24T09:25:09.000Z</published>
    <updated>2020-05-24T09:25:09.881Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>linux相关命令</title>
    <link href="http://tianyong.fun/linux%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4.html"/>
    <id>http://tianyong.fun/linux%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4.html</id>
    <published>2020-05-24T09:23:25.000Z</published>
    <updated>2020-05-24T09:23:25.344Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>IDM破解</title>
    <link href="http://tianyong.fun/IDM%E7%A0%B4%E8%A7%A3.html"/>
    <id>http://tianyong.fun/IDM%E7%A0%B4%E8%A7%A3.html</id>
    <published>2020-05-20T13:48:29.000Z</published>
    <updated>2020-05-20T13:57:44.759Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">输入密码，查看文章</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="c3ef0d90e9668753b03184dba9152b88e6ab9dc08dda5f22d54c42d05f7d410c">b0c437b3beff531915a15d7156f4a2ccab261e2a563e90527e1e6bd77213d64fbe99135195d702c34891935ba5641f292e9eaae659e4a78885e910bf5d11695ae1db0432f21468845f73c5aa8f40db4dbe4d56a87e6ce9aa5b142ab4b9a0efb31f2746f55dbdde7eaf2b5e84e6dadeb134944a06770f37b260ed47938dd51f95177a7c8dbedcf1c030c06bd0de3b7a9a5859bba8fdc3e3ee1332acabcbd4156c336e4d6ca6f55f50f980fb2729097f5a8d5e5ca0ec1fd749e633f1dd9bb76fb6280d79a70aeb2deb7062d4b4be47dba8de5fa25834c14ab43dfbd17f7108681bba25760fc98bf588932c0d9e90606018bf205fe8416fc330a8c8e7124a3ecd64a1d59c1284dd092db131f60ca15fd43a800f4bdb3c18f5d23ebc2112ac0b618dcd4f911f4730f9b33f62f7e9ecfdc11c40f360b63c1b8e7ab3a73a1ff9ee0249570b2a0e8539b47afc9a9a68ea748b47f07157c7bdda91ed044c7e52f10a72953e369a665131ef1bc7e69beeafba612807b1a951f7fc0a823be343e0fc92441470330495c08320ab53e0459713ddd945fa53450de67a4eca1c25f7ab3d3598d7a9c29f47c8727ba30eb0124add458d34fcb47b330ce962059e3134d1212e9bb0dd63d0486999ed46688b2836aaa87e642d673aca5df700dcf8357e472f25ae48e2b561e642de3b5f9ba6029dd151b5545bf2b7c999d411a514fe9c6242e5798679904f162359bb5dbe7ac8d1588d7237</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      这是一篇加密文章
    
    </summary>
    
    
      <category term="软件" scheme="http://tianyong.fun/categories/%E8%BD%AF%E4%BB%B6/"/>
    
    
      <category term="破解" scheme="http://tianyong.fun/tags/%E7%A0%B4%E8%A7%A3/"/>
    
      <category term="激活" scheme="http://tianyong.fun/tags/%E6%BF%80%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>数据库系统-sql执行过程遇到的异常</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-sql%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E9%81%87%E5%88%B0%E7%9A%84%E5%BC%82%E5%B8%B8.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-sql%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E9%81%87%E5%88%B0%E7%9A%84%E5%BC%82%E5%B8%B8.html</id>
    <published>2020-05-20T10:01:17.000Z</published>
    <updated>2020-05-27T08:36:04.555Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="存储过程变量输出"><a href="#存储过程变量输出" class="headerlink" title="存储过程变量输出"></a>存储过程变量输出</h2><h2 id="格式转换"><a href="#格式转换" class="headerlink" title="格式转换"></a>格式转换</h2><p>CAST(XXX AS XXX)</p><h2 id="查看存在的存储过程"><a href="#查看存在的存储过程" class="headerlink" title="查看存在的存储过程"></a>查看存在的存储过程</h2><p><a href="https://www.cnblogs.com/sunliyuan/p/6625862.html" target="_blank" rel="external nofollow noopener noreferrer">url</a></p><h2 id="触发器中For-和-after等同"><a href="#触发器中For-和-after等同" class="headerlink" title="触发器中For 和 after等同"></a>触发器中For 和 after等同</h2><h2 id="当一个表的某属性被另一个表某属性引用时，删除第一个表的元组，默认不能执行，可以设置为级联删除"><a href="#当一个表的某属性被另一个表某属性引用时，删除第一个表的元组，默认不能执行，可以设置为级联删除" class="headerlink" title="当一个表的某属性被另一个表某属性引用时，删除第一个表的元组，默认不能执行，可以设置为级联删除"></a>当一个表的某属性被另一个表某属性引用时，删除第一个表的元组，默认不能执行，可以设置为级联删除</h2><h3 id="显示设置"><a href="#显示设置" class="headerlink" title="显示设置"></a>显示设置</h3><p><em>选中要操作的表，右键-&gt;设计-&gt;顶部的关系按钮-&gt;insert和update规范-&gt;设置为级联操作</em></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-数据库编程</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B.html</id>
    <published>2020-05-19T06:14:37.000Z</published>
    <updated>2020-05-26T06:26:28.105Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="数据库编程"><a href="#数据库编程" class="headerlink" title="数据库编程"></a>数据库编程</h1><h2 id="SQL-Server编程结构"><a href="#SQL-Server编程结构" class="headerlink" title="SQL Server编程结构"></a>SQL Server编程结构</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="声明局部变量"><a href="#声明局部变量" class="headerlink" title="声明局部变量"></a>声明局部变量</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span> @局部变量名 数据类型</span><br><span class="line">[， @局部变量名 数据类型]</span><br></pre></td></tr></table></figure><p><em>可以同时定义多个变量，中间用逗号隔开</em></p><h4 id="赋值局部变量"><a href="#赋值局部变量" class="headerlink" title="赋值局部变量"></a>赋值局部变量</h4><p><em>为局部变量赋值可以用SET或SELECT语句</em></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> @变量名=表达式</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> 列<span class="number">1</span>,..,列n</span><br><span class="line">@变量名=表达式</span><br><span class="line"><span class="keyword">FROM</span> 表名</span><br><span class="line"><span class="keyword">WHERE</span> 条件表达式</span><br></pre></td></tr></table></figure><p><em>注: 如果SELECT语句返回多个值，则局部变量取最后一个返回值。例：</em></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> @Sname = Sname </span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Ssex = <span class="string">'男'</span></span><br></pre></td></tr></table></figure><h4 id="显示信息"><a href="#显示信息" class="headerlink" title="显示信息"></a>显示信息</h4><h5 id="Print语句"><a href="#Print语句" class="headerlink" title="Print语句"></a>Print语句</h5><p><em>print语句只能显示字符数据类型</em></p><h5 id><a href="#" class="headerlink" title></a></h5><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*注释文本*/</span></span><br><span class="line">或</span><br><span class="line"><span class="comment">-- 注释文本</span></span><br></pre></td></tr></table></figure><h3 id="批处理"><a href="#批处理" class="headerlink" title="批处理"></a>批处理</h3><p><em>批处理是成组执行的一条或多条T-SQL指令</em></p><p><em>GO语句用于指定批处理语句的结束处，单独使用一行。本身不是T-SQL的部分</em></p><p><strong>注意</strong>：</p><p>不能在同一个批处理处，先删除，后使用</p><p>不在在同一个批处理处，先修改，后使用</p><h3 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h3><h4 id="BEGIN…END"><a href="#BEGIN…END" class="headerlink" title="BEGIN…END"></a>BEGIN…END</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">语句</span><br><span class="line">....</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure><h4 id="IF语句"><a href="#IF语句" class="headerlink" title="IF语句"></a>IF语句</h4><h5 id="IF-THEN语句"><a href="#IF-THEN语句" class="headerlink" title="IF-THEN语句"></a>IF-THEN语句</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IF condition THEN</span><br><span class="line">Sequence_of_statements;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>;</span><br></pre></td></tr></table></figure><h5 id="IF-THEN-ELSE语句"><a href="#IF-THEN-ELSE语句" class="headerlink" title="IF-THEN-ELSE语句"></a>IF-THEN-ELSE语句</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IF condition THEN</span><br><span class="line">Sequence_of_statements1;</span><br><span class="line">ELSE</span><br><span class="line">Sequence_of_statements2;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>;</span><br></pre></td></tr></table></figure><h5 id="嵌套的IF语句"><a href="#嵌套的IF语句" class="headerlink" title="嵌套的IF语句"></a>嵌套的IF语句</h5><p><em>在THEN和ELSE子句中还可以包含IF语句</em></p><h5 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h5><p><a href="https://imgchr.com/i/Y5Mhaq" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/19/Y5Mhaq.th.png" alt="Y5Mhaq.png" border="0"></a></p><img src="https://s1.ax1x.com/2020/05/20/YTFdDP.png" alt="YTFdDP.png" border="0"><h4 id="WHILE"><a href="#WHILE" class="headerlink" title="WHILE"></a>WHILE</h4><h4 id="GOTO"><a href="#GOTO" class="headerlink" title="GOTO"></a>GOTO</h4><h4 id="WAITFOR"><a href="#WAITFOR" class="headerlink" title="WAITFOR"></a>WAITFOR</h4><h4 id="RETURN"><a href="#RETURN" class="headerlink" title="RETURN"></a>RETURN</h4><h4 id="CASE"><a href="#CASE" class="headerlink" title="CASE"></a>CASE</h4><h2 id="存储过程-重点"><a href="#存储过程-重点" class="headerlink" title="存储过程(重点)"></a>存储过程(重点)</h2><p><em>过程化 SQ L块主要有两种类型，即命名块和匿名块</em></p><p><em>匿名块每次执行时都要进行编译，它不能被存储到数据库中，也不能在其他过程化SQ L块中调用</em></p><p>  <em>过程和函数是命名块，它们被编译后保存在数据库中，称 为持久性存储模块) ,可以被反复调用，运行速度较快</em></p><h3 id="存储过程的基本概念"><a href="#存储过程的基本概念" class="headerlink" title="存储过程的基本概念"></a>存储过程的基本概念</h3><p><em>存储过程是由过程化SQ L 语句书写的过程，这个过程经编译和优化后存储在数据库服务器中，因此称它为存储过程，使用时只要调用即可</em>  </p><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>存储过程降低了客户机和服务器之间的通信量  </p><p>运行效率高  </p><p>方便实施企业规则  </p><h3 id="创建存储过程"><a href="#创建存储过程" class="headerlink" title="创建存储过程"></a>创建存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 过程名([@参数<span class="number">1</span> 类型,.., @参数n 类型)</span><br><span class="line"><span class="keyword">AS</span> &lt;过程化<span class="keyword">SQL</span>块&gt;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--参数不带括号也可以</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 过程名</span><br><span class="line">@参数<span class="number">1</span> 类型,.., @参数n 类型</span><br><span class="line"><span class="keyword">AS</span></span><br></pre></td></tr></table></figure><p><em>可简写成PROC</em></p><h4 id="无参数"><a href="#无参数" class="headerlink" title="无参数"></a>无参数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> aa</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SQL</span>语句</span><br></pre></td></tr></table></figure><h4 id="带参数"><a href="#带参数" class="headerlink" title="带参数"></a>带参数</h4><img src="https://s1.ax1x.com/2020/05/19/Y5Y8jf.png" alt="Y5Y8jf.png" border="0"><img src="https://s1.ax1x.com/2020/05/20/YTuBVA.png" alt="YTuBVA.png" border="0"><h4 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h4><img src="https://s1.ax1x.com/2020/05/20/YTkJaT.png" alt="YTkJaT.png" border="0"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXECUTE</span> exp4</span><br><span class="line"><span class="keyword">EXECUTE</span> exp4 <span class="string">'%...'</span></span><br><span class="line"><span class="keyword">EXECUTE</span> exp4 @pno=<span class="string">'....'</span></span><br><span class="line"><span class="keyword">EXECUTE</span> exp4 <span class="string">'...'</span>, <span class="string">'...'</span></span><br></pre></td></tr></table></figure><h3 id="执行存储过程"><a href="#执行存储过程" class="headerlink" title="执行存储过程"></a>执行存储过程</h3><img src="https://s1.ax1x.com/2020/05/19/Y5dghQ.png" alt="Y5dghQ.png" border="0"><p><em>可简写成EXEC</em></p><h3 id="修改存储过程"><a href="#修改存储过程" class="headerlink" title="修改存储过程"></a>修改存储过程</h3><h4 id="重命名"><a href="#重命名" class="headerlink" title="重命名"></a>重命名</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">PROCEDURE</span> 过程名<span class="number">1</span> <span class="keyword">RENAME</span> <span class="keyword">TO</span> 过程名<span class="number">2</span>;</span><br></pre></td></tr></table></figure><h4 id="重编译"><a href="#重编译" class="headerlink" title="重编译"></a>重编译</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">PROCEDURE</span> 过程名(参数)</span><br><span class="line"><span class="keyword">AS</span></span><br></pre></td></tr></table></figure><h3 id="删除存储过程"><a href="#删除存储过程" class="headerlink" title="删除存储过程"></a>删除存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> 过程名;</span><br></pre></td></tr></table></figure><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p><em>和存储过程一样都是持久性存储模块；不同的是函数要指定返回类型</em></p><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> 函数名([参数<span class="number">1</span>, ..., 参数n]) <span class="keyword">RETURNS</span>&lt;类型&gt;</span><br><span class="line"><span class="keyword">AS</span> &lt;过程化<span class="keyword">SQL</span>块&gt;</span><br></pre></td></tr></table></figure><h3 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CALL</span>/<span class="keyword">SELECT</span> 函数名([参数<span class="number">1</span>, ..., 参数n])</span><br></pre></td></tr></table></figure><h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">FUNCTION</span> 过程名 <span class="number">1</span> <span class="keyword">RENAME</span> <span class="keyword">TO</span> 过程名 <span class="number">2</span>; <span class="comment">--重命名</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">FUNCTION</span> 函数名 COMPILE; <span class="comment">--重新编译一个函数</span></span><br></pre></td></tr></table></figure><h2 id="过程化SQL中的游标"><a href="#过程化SQL中的游标" class="headerlink" title="过程化SQL中的游标"></a>过程化SQL中的游标</h2><hr><blockquote><p>你未必万丈光芒，但始终温暖有光。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>hadoop理论课-好友推荐</title>
    <link href="http://tianyong.fun/hadoop%E7%90%86%E8%AE%BA%E5%92%8C%E5%AE%9E%E8%B7%B5-%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90.html"/>
    <id>http://tianyong.fun/hadoop%E7%90%86%E8%AE%BA%E5%92%8C%E5%AE%9E%E8%B7%B5-%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90.html</id>
    <published>2020-05-19T01:45:45.000Z</published>
    <updated>2020-06-03T09:25:27.842Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="好友推荐"><a href="#好友推荐" class="headerlink" title="好友推荐"></a>好友推荐</h2><h3 id="关系图"><a href="#关系图" class="headerlink" title="关系图"></a>关系图</h3><p><a href="https://imgchr.com/i/Y4YlJ1" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/19/Y4YlJ1.md.png" alt="Y4YlJ1.png" border="0"></a></p><h3 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h3><h4 id="统计数据"><a href="#统计数据" class="headerlink" title="统计数据"></a>统计数据</h4><p><em>以每个人为对象，统计直接关系</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tom cat hello hadoop</span><br><span class="line">cat tom hive</span><br><span class="line">hive cat hadoop world hello mr</span><br><span class="line">mr hive hello</span><br><span class="line">world hadoop hive hello mr</span><br><span class="line">hadoop hive tom world</span><br><span class="line">hello world tom hive mr</span><br></pre></td></tr></table></figure><h4 id="处理数据"><a href="#处理数据" class="headerlink" title="处理数据"></a>处理数据</h4><h5 id="map阶段输出数据"><a href="#map阶段输出数据" class="headerlink" title="map阶段输出数据"></a>map阶段输出数据</h5><p><em>以key-value的形式，表示两个人的直接或间接关系(0代表直接，1代表间接)</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;&#39;tom_cat&#39;: 0&gt;, &lt;&#39;tom_hello&#39;: 0&gt;, &lt;&#39;tom_hadoop&#39;: 0&gt;, &lt;&#39;cat_hello&#39;: 1&gt;, &lt;&#39;cat_hadoop&#39;: 1&gt;, &lt;&#39;hello_hadoop&#39;: 1&gt;</span><br><span class="line">&lt;&#39;cat_tom&#39;: 0&gt;， &lt;&#39;cat_hive&#39;: 0&gt;， &lt;&#39;tom_hive&#39;: 1&gt;</span><br><span class="line">&lt;&#39;hive_cat&#39;: 0&gt;, &lt;&#39;hive_hadoop&#39;: 0&gt;, &lt;&#39;hive_world&#39;: 0&gt;, &lt;&#39;hive_hello&#39;: 0&gt;, &lt;&#39;hive_mr&#39;: 0&gt;, &lt;&#39;cat_hadoop&#39;: 1&gt;,&lt;&#39;cat_world&#39;: 1&gt; ,&lt;&#39;cat_hello&#39;: 1&gt; ,&lt;&#39;cat_mr&#39;: 1&gt; ,&lt;&#39;hadoop_world&#39;: 1&gt;, &lt;&#39;hadoop_hello&#39;: 1&gt;, &lt;&#39;hadoop_mr&#39;: 1&gt;, &lt;&#39;world_hello&#39;: 1&gt;, &lt;&#39;world_mr&#39;: 1&gt;, &lt;&#39;hello_mr&#39;: 1&gt;,</span><br><span class="line">....</span><br></pre></td></tr></table></figure><p><em>通过Map函数形成两个人的关系，要注意升序还是降序，确保一致性</em></p><h5 id="reduce阶段传入数据"><a href="#reduce阶段传入数据" class="headerlink" title="reduce阶段传入数据"></a>reduce阶段传入数据</h5><p><em>key中两个人的顺序不同，记为同一个关系</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;tom_cat:（0,1,0,0,0）&gt;,&lt;tom_hadoop:(1,1,1)&gt;,&lt;tom_hive:(1,1,1,1,1,1)&gt;,&lt;tom_world:(1,1,1,1,1,1)&gt;，</span><br><span class="line">&lt;hadoop_world:(1,1,1,1)&gt;,&lt;hadoop_hello:(0,1,1)&gt;</span><br></pre></td></tr></table></figure><h5 id="reduce阶段传出数据"><a href="#reduce阶段传出数据" class="headerlink" title="reduce阶段传出数据"></a>reduce阶段传出数据</h5><p><em>传出间接关系拥有的共同好友</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cat_hadoop2</span><br><span class="line">cat_hello2</span><br><span class="line">cat_mr1</span><br><span class="line">cat_world1</span><br><span class="line">hadoop_hello3</span><br><span class="line">hadoop_mr1</span><br><span class="line">hive_tom3</span><br><span class="line">mr_tom1</span><br><span class="line">mr_world2</span><br><span class="line">tom_world2</span><br></pre></td></tr></table></figure><h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><h6 id="Mapper"><a href="#Mapper" class="headerlink" title="Mapper"></a>Mapper</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">recommendFriendMapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt;</span>&#123;</span><br><span class="line">Text key2 = <span class="keyword">new</span> Text();</span><br><span class="line">IntWritable value2 = <span class="keyword">new</span> IntWritable();</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable key, Text value, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">String data = value.toString();</span><br><span class="line">String list[] = data.split(<span class="string">" "</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; list.length-<span class="number">1</span>; m++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> n = m + <span class="number">1</span>; n &lt; list.length; n++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(m == <span class="number">0</span>) &#123;</span><br><span class="line">String outcome = linkStr(list[<span class="number">0</span>], list[n]);</span><br><span class="line">key2.set(outcome);</span><br><span class="line">value2.set(<span class="number">0</span>);</span><br><span class="line">context.write(key2, value2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">String outcome = linkStr(list[m], list[n]);</span><br><span class="line">key2.set(outcome);</span><br><span class="line">value2.set(<span class="number">1</span>);</span><br><span class="line">context.write(key2, value2);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">static</span> String <span class="title">linkStr</span><span class="params">(String a1, String a2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(a1.compareTo(a2) &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> a1+<span class="string">"_"</span>+a2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> a2+<span class="string">"_"</span>+a1;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Reducer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">recommendFriendReducer</span> <span class="keyword">extends</span> <span class="title">Reducer</span>&lt;<span class="title">Text</span>, <span class="title">IntWritable</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt;</span>&#123;</span><br><span class="line">IntWritable v4 = <span class="keyword">new</span> IntWritable();</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">reduce</span><span class="params">(Text k3, Iterable&lt;IntWritable&gt; v3, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">for</span>(IntWritable value:v3) &#123;</span><br><span class="line"><span class="keyword">if</span>(value.get() == <span class="number">1</span>)&#123;</span><br><span class="line">total += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">flag = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag) &#123;</span><br><span class="line">v4.set(total);</span><br><span class="line">context.write(k3, v4);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Job;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sudo.edu.hadoop.mapreduce.wordCount.wordCountMain;</span><br><span class="line"><span class="keyword">import</span> sudo.edu.hadoop.mapreduce.wordCount.wordCountMapper;</span><br><span class="line"><span class="keyword">import</span> sudo.edu.hadoop.mapreduce.wordCount.wordCountReducer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">recommendFriendMain</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">Job job = Job.getInstance(<span class="keyword">new</span> Configuration());</span><br><span class="line">job.setJarByClass(recommendFriendMain<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">job.setMapperClass(recommendFriendMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">job.setMapOutputKeyClass(Text<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">job.setMapOutputValueClass(IntWritable<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">job.setReducerClass(recommendFriendReducer<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">job.setOutputKeyClass(Text<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">job.setOutputValueClass(IntWritable<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">FileInputFormat.setInputPaths(job, <span class="keyword">new</span> Path(args[<span class="number">0</span>]));</span><br><span class="line">FileOutputFormat.setOutputPath(job, <span class="keyword">new</span> Path(args[<span class="number">1</span>]));</span><br><span class="line">job.waitForCompletion(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h6><p><img src="https://s1.ax1x.com/2020/06/03/tdPuiF.md.png" alt="tdPuiF.md.png" border="0"></p><h4 id="对XX-XX后续处理"><a href="#对XX-XX后续处理" class="headerlink" title="对XX_XX后续处理"></a>对XX_XX后续处理</h4><p><em>不需要reduce阶段；对前阶段得到的数据xx_xx进行处理</em></p><h5 id="Mapper-1"><a href="#Mapper-1" class="headerlink" title="Mapper"></a>Mapper</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.NullWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">RecommentResInfo</span>, <span class="title">NullWritable</span>&gt;</span>&#123;</span><br><span class="line">RecommentResInfo keySend = <span class="keyword">new</span> RecommentResInfo();</span><br><span class="line"><span class="meta">@Override</span> </span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable k1, Text v1, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// 数据</span></span><br><span class="line"><span class="comment">//xx_xx 5</span></span><br><span class="line">String line = v1.toString();</span><br><span class="line">String words[] = line.split(<span class="string">"\t"</span>);</span><br><span class="line">String personStr = words[<span class="number">0</span>];</span><br><span class="line">String[] ps = personStr.split(<span class="string">"_"</span>);</span><br><span class="line">String p1Str = ps[<span class="number">0</span>];</span><br><span class="line">String p2Str = ps[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> comNum = Integer.parseInt(words[<span class="number">1</span>]);</span><br><span class="line">keySend.setName(p1Str);</span><br><span class="line">keySend.setRecommentName(p2Str);</span><br><span class="line">keySend.setCommonNum(comNum);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">keySend.setName(p2Str);</span><br><span class="line">keySend.setRecommentName(p1Str);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="RecommentResInfo-序列化，排序，人物类"><a href="#RecommentResInfo-序列化，排序，人物类" class="headerlink" title="RecommentResInfo(序列化，排序，人物类)"></a>RecommentResInfo(序列化，排序，人物类)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.NullWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">RecommentResInfo</span>, <span class="title">NullWritable</span>&gt;</span>&#123;</span><br><span class="line">RecommentResInfo keySend = <span class="keyword">new</span> RecommentResInfo();</span><br><span class="line"><span class="meta">@Override</span> </span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable k1, Text v1, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// 数据</span></span><br><span class="line"><span class="comment">//xx_xx 5</span></span><br><span class="line">String line = v1.toString();</span><br><span class="line">String words[] = line.split(<span class="string">"\t"</span>);</span><br><span class="line">String personStr = words[<span class="number">0</span>];</span><br><span class="line">String[] ps = personStr.split(<span class="string">"_"</span>);</span><br><span class="line">String p1Str = ps[<span class="number">0</span>];</span><br><span class="line">String p2Str = ps[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> comNum = Integer.parseInt(words[<span class="number">1</span>]);</span><br><span class="line">keySend.setName(p1Str);</span><br><span class="line">keySend.setRecommentName(p2Str);</span><br><span class="line">keySend.setCommonNum(comNum);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">keySend.setName(p2Str);</span><br><span class="line">keySend.setRecommentName(p1Str);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Main-1"><a href="#Main-1" class="headerlink" title="Main"></a>Main</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.NullWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">RecommentResInfo</span>, <span class="title">NullWritable</span>&gt;</span>&#123;</span><br><span class="line">RecommentResInfo keySend = <span class="keyword">new</span> RecommentResInfo();</span><br><span class="line"><span class="meta">@Override</span> </span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable k1, Text v1, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// 数据</span></span><br><span class="line"><span class="comment">//xx_xx 5</span></span><br><span class="line">String line = v1.toString();</span><br><span class="line">String words[] = line.split(<span class="string">"\t"</span>);</span><br><span class="line">String personStr = words[<span class="number">0</span>];</span><br><span class="line">String[] ps = personStr.split(<span class="string">"_"</span>);</span><br><span class="line">String p1Str = ps[<span class="number">0</span>];</span><br><span class="line">String p2Str = ps[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> comNum = Integer.parseInt(words[<span class="number">1</span>]);</span><br><span class="line">keySend.setName(p1Str);</span><br><span class="line">keySend.setRecommentName(p2Str);</span><br><span class="line">keySend.setCommonNum(comNum);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">keySend.setName(p2Str);</span><br><span class="line">keySend.setRecommentName(p1Str);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="结果-1"><a href="#结果-1" class="headerlink" title="结果"></a>结果</h5><p><a href="https://imgchr.com/i/tdPKG4" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/03/tdPKG4.png" alt="tdPKG4.png" border="0"></a></p><hr><blockquote><p>每个人心中都有一团火，不过路过的人只看到了烟。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hadoop" scheme="http://tianyong.fun/categories/Hadoop/"/>
    
    
      <category term="好友推荐" scheme="http://tianyong.fun/tags/%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90/"/>
    
  </entry>
  
</feed>
