<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>田勇的博客</title>
  
  <subtitle>比你优秀的人都努力，有什么理由不努力！</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://tianyong.fun/"/>
  <updated>2020-06-03T08:47:18.063Z</updated>
  <id>http://tianyong.fun/</id>
  
  <author>
    <name>TTYONG</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>虚拟机无法联网</title>
    <link href="http://tianyong.fun/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%97%A0%E6%B3%95%E8%81%94%E7%BD%91.html"/>
    <id>http://tianyong.fun/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%97%A0%E6%B3%95%E8%81%94%E7%BD%91.html</id>
    <published>2020-06-03T08:45:31.000Z</published>
    <updated>2020-06-03T08:47:18.063Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="虚拟机无法联网"><a href="#虚拟机无法联网" class="headerlink" title="虚拟机无法联网"></a>虚拟机无法联网</h2><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p><a href="https://blog.csdn.net/wuhuimin521/article/details/80992530" target="_blank" rel="external nofollow noopener noreferrer">方案链接</a></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Hadoop大数据技术-第八章</title>
    <link href="http://tianyong.fun/Hadoop%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF-%E7%AC%AC%E5%85%AB%E7%AB%A0.html"/>
    <id>http://tianyong.fun/Hadoop%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF-%E7%AC%AC%E5%85%AB%E7%AB%A0.html</id>
    <published>2020-06-02T04:59:19.000Z</published>
    <updated>2020-06-02T05:17:30.875Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="Sqoop"><a href="#Sqoop" class="headerlink" title="Sqoop"></a>Sqoop</h1><h2 id="Sqoop简介"><a href="#Sqoop简介" class="headerlink" title="Sqoop简介"></a>Sqoop简介</h2><p><em>Sqoop是一个在关系型数据库与Hadoop数据存储和处理平台进行数据导入\导出的工具</em></p><p><em>Sqoop脚本最终会转换为mapreduce程序</em></p><h2 id="Sqoop基本原理"><a href="#Sqoop基本原理" class="headerlink" title="Sqoop基本原理"></a>Sqoop基本原理</h2><p><em>有sqoop1和sqoop2；sqoop1更加稳定</em></p><p><em>Sqoop1使用Sqoop客户端直接提交任务，通过CLI控制台或API方式访问数据时，在命令或脚本中需要指定用户数据库名及密码</em></p><p><strong>import原理</strong>：<em>从传统数据库获取元数据信息，把导入功能转换为只有Map的MapReduce作业，在map中有很多Map，每个Map读取一片数据，进而并行地复制到HDFS,HBSE或HIVE中的数据导入到关系型数据库</em></p><p><strong>Export原理</strong>：<em>获取导出表的schema,meta信息，与hadoop中的字段匹配，多个Map作业并行运行，将HDFS,HBASE或HIVE中的数据导出到关系型数据库</em></p><p><a href="https://imgchr.com/i/ttSV7d" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/02/ttSV7d.md.jpg" alt="ttSV7d.md.jpg" border="0"></a></p><img src="https://s1.ax1x.com/2020/06/02/ttSeAA.md.jpg" alt="ttSeAA.md.jpg" border="0"><h2 id="Sqoop的安装与部署"><a href="#Sqoop的安装与部署" class="headerlink" title="Sqoop的安装与部署"></a>Sqoop的安装与部署</h2><h2 id="Sqoop应用"><a href="#Sqoop应用" class="headerlink" title="Sqoop应用"></a>Sqoop应用</h2><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hadoop" scheme="http://tianyong.fun/categories/Hadoop/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-用SQL创建数据库</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E7%94%A8SQL%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E7%94%A8SQL%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93.html</id>
    <published>2020-06-01T10:11:18.000Z</published>
    <updated>2020-06-01T10:11:18.529Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>数据库相关概念及命名规则</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5%E5%8F%8A%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5%E5%8F%8A%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99.html</id>
    <published>2020-06-01T10:10:42.000Z</published>
    <updated>2020-06-01T10:10:42.963Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>数据库系统-数据库系统的分层抽象</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%86%E5%B1%82%E6%8A%BD%E8%B1%A1.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%86%E5%B1%82%E6%8A%BD%E8%B1%A1.html</id>
    <published>2020-06-01T10:09:52.000Z</published>
    <updated>2020-06-01T10:09:52.074Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>SERVER</title>
    <link href="http://tianyong.fun/SERVER.html"/>
    <id>http://tianyong.fun/SERVER.html</id>
    <published>2020-06-01T10:08:54.000Z</published>
    <updated>2020-06-01T10:08:54.078Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>数据库系统-数据库基础</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80.html</id>
    <published>2020-06-01T10:08:30.000Z</published>
    <updated>2020-06-01T10:08:30.654Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>计算机网络-第六章</title>
    <link href="http://tianyong.fun/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E5%85%AD%E7%AB%A0.html"/>
    <id>http://tianyong.fun/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E5%85%AD%E7%AB%A0.html</id>
    <published>2020-06-01T02:39:12.000Z</published>
    <updated>2020-06-01T03:37:31.437Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><h2 id="域名系统-DNS"><a href="#域名系统-DNS" class="headerlink" title="域名系统 DNS"></a>域名系统 DNS</h2><h3 id="域名系统概述"><a href="#域名系统概述" class="headerlink" title="域名系统概述"></a>域名系统概述</h3><p><strong>DNS</strong>是一个分布式系统(单个计算机出现错误，也不会妨碍整个系统的运行)</p><p><strong>域名系统</strong>是互联网使用的命名系统，用于<strong>把机器名字转换成IP地址</strong></p><p><strong>DNS</strong>使大多数名字都在本地进行<strong>解析</strong>，仅少量解析需要在互联网上通信，因此DNS效率很高</p><h3 id="互联网的域名结构"><a href="#互联网的域名结构" class="headerlink" title="互联网的域名结构"></a>互联网的域名结构</h3><p><em>级别最低的域名写在最左边，而最高级的域名写在最右边</em></p><p><strong>顶级域名分为三类:</strong>国家顶级域名nTLD；通用顶级域名gTLD；基础结构域名infrastructure domain</p><p><a href="https://imgchr.com/i/t83I2D" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/01/t83I2D.md.jpg" alt="t83I2D.jpg" border="0"></a></p><h3 id="域名服务器"><a href="#域名服务器" class="headerlink" title="域名服务器"></a>域名服务器</h3><p><strong>根域名服务器</strong></p><p><em>层次最高的域名服务器，也是最重要的域名服务器</em></p><p><em>所有根域名服务器都知道所有的顶级域名服务器的域名和IP地址</em></p><p><strong>顶级域名服务器</strong></p><p><strong>权限域名服务器</strong></p><p><strong>本地域名服务器</strong></p><p><em>当一台主机发出DNS查询请求时，这个请求报文就发给本地域名服务器</em></p><h4 id="域名解析过程"><a href="#域名解析过程" class="headerlink" title="域名解析过程"></a>域名解析过程</h4><h5 id="迭代查询"><a href="#迭代查询" class="headerlink" title="迭代查询"></a>迭代查询</h5><h5 id="递归查询"><a href="#递归查询" class="headerlink" title="递归查询"></a>递归查询</h5><p><a href="https://imgchr.com/i/t8Gw1U" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/01/t8Gw1U.md.jpg" alt="t8Gw1U.jpg" border="0"></a></p><h4 id="高速缓存"><a href="#高速缓存" class="headerlink" title="高速缓存"></a>高速缓存</h4><p><em>为了提高DNS查询效率，并减轻根域名服务器的负担和减少互联网的DNS查询数量，在域名服务器中广泛使用<strong>高速缓存</strong>。</em></p><h2 id="文件传送协议-FTP"><a href="#文件传送协议-FTP" class="headerlink" title="文件传送协议 FTP"></a>文件传送协议 FTP</h2><h3 id="FTP概述"><a href="#FTP概述" class="headerlink" title="FTP概述"></a>FTP概述</h3><p><strong>文件传输协议</strong>FTP是互联网上使用得最广泛的文件传输协议</p><h3 id="FTP的基本工作原理"><a href="#FTP的基本工作原理" class="headerlink" title="FTP的基本工作原理"></a>FTP的基本工作原理</h3><p>服务器端有两个从属进程：<strong>控制进程</strong>和<strong>数据传输进程</strong></p><p>在进行文件传输时，FTP的客户和服务器之间要建立两个并行的<strong>TCP连接</strong>：<strong>控制连接和数据连接</strong>。<strong>控制进程会在整个进程保持打开</strong></p><p><a href="https://imgchr.com/i/t8JOaR" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/01/t8JOaR.md.jpg" alt="t8JOaR.jpg" border="0"></a></p><h2 id="万维网WWW"><a href="#万维网WWW" class="headerlink" title="万维网WWW"></a>万维网WWW</h2><h3 id="万维网概述"><a href="#万维网概述" class="headerlink" title="万维网概述"></a>万维网概述</h3><p><em>world wide web</em></p><p><strong>URL</strong>:统一资源定位符</p><p><strong>HTTP</strong>:超文本传输协议</p><h4 id="统一资源定位符URL"><a href="#统一资源定位符URL" class="headerlink" title="统一资源定位符URL"></a>统一资源定位符URL</h4><h5 id="URL格式"><a href="#URL格式" class="headerlink" title="URL格式"></a>URL格式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;协议&gt;:&#x2F;&#x2F;&lt;主机&gt;:&lt;端口&gt;&#x2F;&lt;路径&gt;</span><br></pre></td></tr></table></figure><h5 id="使用HTTP的URL"><a href="#使用HTTP的URL" class="headerlink" title="使用HTTP的URL"></a>使用HTTP的URL</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;&lt;主机&gt;:&lt;端口&gt;&#x2F;&lt;路径&gt; --端口默认是80可以省略</span><br></pre></td></tr></table></figure><h4 id="超文本传输协议HTTP"><a href="#超文本传输协议HTTP" class="headerlink" title="超文本传输协议HTTP"></a>超文本传输协议HTTP</h4><p><em>HTTP协议是无状态的</em></p><p><strong>HTTP/1.0的缺点</strong>是：非持续连接</p><p><strong>HTTP/1.1:</strong>持续连接</p><h4 id="万维网的文档"><a href="#万维网的文档" class="headerlink" title="万维网的文档"></a>万维网的文档</h4><h5 id="超文本标记语言HTML"><a href="#超文本标记语言HTML" class="headerlink" title="超文本标记语言HTML"></a>超文本标记语言HTML</h5><h4 id="万维网的信息检索系统"><a href="#万维网的信息检索系统" class="headerlink" title="万维网的信息检索系统"></a>万维网的信息检索系统</h4><h5 id="全文检索搜索"><a href="#全文检索搜索" class="headerlink" title="全文检索搜索"></a>全文检索搜索</h5><h5 id="分类目录搜索"><a href="#分类目录搜索" class="headerlink" title="分类目录搜索"></a>分类目录搜索</h5><h2 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h2><p><em>主要由三个主要组件组成：*</em>用户代理<strong>；</strong>邮件服务器<strong>；</strong>邮局协议***</p><p><a href="https://imgchr.com/i/t8aPpt" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/01/t8aPpt.md.jpg" alt="t8aPpt.jpg" border="0"></a></p><h3 id="读取邮件协议POP3和IMAP"><a href="#读取邮件协议POP3和IMAP" class="headerlink" title="读取邮件协议POP3和IMAP"></a>读取邮件协议POP3和IMAP</h3><h4 id="POP3"><a href="#POP3" class="headerlink" title="POP3"></a>POP3</h4><p><em>是一个非常简单，功能非常有限的邮件读取协议</em></p><p><em>POP3协议的一个特点是只要用户从POP3服务器读取了邮件，POP3服务器就把该邮件删除</em></p><h4 id="IMAP"><a href="#IMAP" class="headerlink" title="IMAP"></a>IMAP</h4><p><strong>IMAP</strong>最大的好处就是用户可以在不同的地方使用不同的计算机随时阅读和处理自己在邮件服务器中的邮件</p><h2 id="动态主机配置协议DHCP"><a href="#动态主机配置协议DHCP" class="headerlink" title="动态主机配置协议DHCP"></a>动态主机配置协议DHCP</h2><p><em>这种机制允许一台计算机加入新的网络和获取IP地址而不需要手工参与</em></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="计算机网络" scheme="http://tianyong.fun/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
  </entry>
  
  <entry>
    <title>数值分析-插值与拟合</title>
    <link href="http://tianyong.fun/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-%E6%8F%92%E5%80%BC%E4%B8%8E%E6%8B%9F%E5%90%88.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90-%E6%8F%92%E5%80%BC%E4%B8%8E%E6%8B%9F%E5%90%88.html</id>
    <published>2020-05-27T04:33:35.000Z</published>
    <updated>2020-05-28T09:47:03.325Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="插值与拟合"><a href="#插值与拟合" class="headerlink" title="插值与拟合"></a>插值与拟合</h1><h2 id="拉格朗日插值"><a href="#拉格朗日插值" class="headerlink" title="拉格朗日插值"></a>拉格朗日插值</h2><h3 id="线性插值与抛物插值"><a href="#线性插值与抛物插值" class="headerlink" title="线性插值与抛物插值"></a>线性插值与抛物插值</h3><h3 id="n次插值基函数"><a href="#n次插值基函数" class="headerlink" title="n次插值基函数"></a>n次插值基函数</h3><p><a href="https://imgchr.com/i/tZgy38" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/28/tZgy38.md.jpg" alt="tZgy38.md.jpg" border="0"></a></p><h4 id="n次拉格朗日插值多项式"><a href="#n次拉格朗日插值多项式" class="headerlink" title="n次拉格朗日插值多项式"></a>n次拉格朗日插值多项式</h4><img src="https://s1.ax1x.com/2020/05/28/tZgs9f.md.jpg" alt="tZgs9f.md.jpg" border="0"><h4 id="n次插值多项式"><a href="#n次插值多项式" class="headerlink" title="n次插值多项式"></a>n次插值多项式</h4><h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><p><a href="https://imgchr.com/i/tASce1" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/27/tASce1.md.png" alt="tASce1.png" border="0"></a></p><p><a href="https://imgchr.com/i/tASWFK" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/27/tASWFK.md.png" alt="tASWFK.png" border="0"></a></p><p><a href="https://imgchr.com/i/tApiT0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/27/tApiT0.md.jpg" alt="tApiT0.md.jpg" border="0"></a><br><a href="https://imgchr.com/i/tApPwq" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/27/tApPwq.md.jpg" alt="tApPwq.md.jpg" border="0"></a></p><p><a href="https://imgchr.com/i/teSKzT" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/28/teSKzT.md.jpg" alt="teSKzT.jpg" border="0"></a></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数值分析" scheme="http://tianyong.fun/categories/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-数据库完整性</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7.html</id>
    <published>2020-05-26T06:12:14.000Z</published>
    <updated>2020-05-27T06:42:55.347Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="数据库完整性"><a href="#数据库完整性" class="headerlink" title="数据库完整性"></a>数据库完整性</h1><h2 id><a href="#" class="headerlink" title></a></h2><h2 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h2><p><strong>触 发 器</strong> (trig g er)<em>是用户定义在关系表上的一类由事件驱动的特殊过程</em></p><p><em>一旦定义，触发器将被保存在数据库服务器中</em></p><p> <em>任何用户对表的增、删 、改操作均由<strong>服务器自动激活相应的触发器</strong>，在关系数据库管理系统核心层进行集中的完整性控制</em>  </p><p><em>触发器类似于约束，但是比约束更加灵活，可以实施更为复杂的检查和操作，具有更精细和更强大的数据控制能力</em>  </p><h3 id="定义触发器"><a href="#定义触发器" class="headerlink" title="定义触发器"></a>定义触发器</h3><p><strong>触发器又叫做事件-条件-动作(event-condition-action) 规则</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> &lt;触发器名&gt;</span><br><span class="line"><span class="keyword">ON</span> &#123;表名|视图名&#125;</span><br><span class="line">[<span class="keyword">WITH</span> ENCRYPTION]</span><br><span class="line">&#123;<span class="keyword">FOR</span>|<span class="keyword">AFTER</span>|INSTEAD <span class="keyword">OF</span>&#125;&#123;[<span class="keyword">INSERT</span>][,][<span class="keyword">UPDATE</span>][,][<span class="keyword">DELETE</span>]&#125;</span><br><span class="line">[<span class="keyword">NOT</span> <span class="keyword">FOR</span> <span class="keyword">REPLICATION</span>]</span><br><span class="line"><span class="keyword">AS</span> </span><br><span class="line">[<span class="keyword">SQL</span>语句]</span><br></pre></td></tr></table></figure><h4 id="INSERT触发器"><a href="#INSERT触发器" class="headerlink" title="INSERT触发器"></a>INSERT触发器</h4><img src="https://s1.ax1x.com/2020/05/26/tiijpD.png" alt="tiijpD.png" border="0"><p><a href="https://imgchr.com/i/tiFfEt" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiFfEt.md.png" alt="tiFfEt.png" border="0"></a></p><p><em>cast强制转换；print只能输出字符类型；@@rowcount返回影响条数</em></p><img src="https://s1.ax1x.com/2020/05/26/tiVcJP.png" alt="tiVcJP.png" border="0"><p><em>ROLLBACK TRAN返回上一个版本</em></p><h4 id="DELETE触发器"><a href="#DELETE触发器" class="headerlink" title="DELETE触发器"></a>DELETE触发器</h4><img src="https://s1.ax1x.com/2020/05/26/tiZIXD.png" alt="tiZIXD.png" border="0"><img src="https://s1.ax1x.com/2020/05/26/timuxf.png" alt="timuxf.png" border="0"><h4 id="UPDATE触发器"><a href="#UPDATE触发器" class="headerlink" title="UPDATE触发器"></a>UPDATE触发器</h4><img src="https://s1.ax1x.com/2020/05/26/tinqAJ.png" alt="tinqAJ.png" border="0"><img src="https://s1.ax1x.com/2020/05/27/tAmi7D.png" alt="tAmi7D.png" border="0"><img src="https://s1.ax1x.com/2020/05/26/tiMOhj.png" alt="tiMOhj.png" border="0"><h4 id="INSTEAD-OF触发器"><a href="#INSTEAD-OF触发器" class="headerlink" title="INSTEAD OF触发器"></a>INSTEAD OF触发器</h4><img src="https://s1.ax1x.com/2020/05/27/tAM2Je.png" alt="tAM2Je.png" border="0"><h3 id="修改和删除触发器"><a href="#修改和删除触发器" class="headerlink" title="修改和删除触发器"></a>修改和删除触发器</h3><img src="https://s1.ax1x.com/2020/05/27/tAQFW4.png" alt="tAQFW4.png" border="0"><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-数据库创建</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA.html</id>
    <published>2020-05-25T11:18:33.000Z</published>
    <updated>2020-05-25T11:20:29.746Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="数据库创建"><a href="#数据库创建" class="headerlink" title="数据库创建"></a>数据库创建</h1><h2 id="视图创建"><a href="#视图创建" class="headerlink" title="视图创建"></a>视图创建</h2><h2 id="SQl创建"><a href="#SQl创建" class="headerlink" title="SQl创建"></a>SQl创建</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> StudentInfo <span class="comment">--创建数据库名字</span></span><br><span class="line"><span class="keyword">on</span> primary <span class="comment">--主文件组</span></span><br><span class="line">(</span><br><span class="line">   <span class="keyword">name</span> = <span class="string">'StudentInfo'</span>, <span class="comment">--数据库文件的逻辑名字；</span></span><br><span class="line">   filename=<span class="string">'E:\mydata\ StudentInfo.mdf'</span>,</span><br><span class="line">   <span class="keyword">size</span>=<span class="number">10</span>mb,</span><br><span class="line">   <span class="keyword">maxsize</span>=<span class="number">50</span>mb,</span><br><span class="line">   filegrowth=<span class="number">1</span>mb</span><br><span class="line">   ),</span><br><span class="line">   (</span><br><span class="line">       <span class="keyword">name</span>=<span class="string">'StudentInfo_log'</span>,  <span class="comment">-- 次要文件名字，不能和主文件名字相同</span></span><br><span class="line">       filename=<span class="string">' E:\mydata\StudentInfo_log.ldf'</span>,</span><br><span class="line">       <span class="keyword">size</span>=<span class="number">10</span>mb,</span><br><span class="line">       <span class="keyword">maxsize</span>=<span class="number">50</span>mb,</span><br><span class="line">       filegrowth=<span class="number">1</span>mb</span><br><span class="line">);</span><br></pre></td></tr></table></figure><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>hadoop理论课-第七章Flume</title>
    <link href="http://tianyong.fun/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E4%B8%83%E7%AB%A0Flume.html"/>
    <id>http://tianyong.fun/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E4%B8%83%E7%AB%A0Flume.html</id>
    <published>2020-05-25T08:04:46.000Z</published>
    <updated>2020-05-26T00:27:33.196Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="Flume-了解"><a href="#Flume-了解" class="headerlink" title="Flume(了解)"></a>Flume(了解)</h1><p><em>用于采集数据</em></p><h2 id="Flume-产生的背景"><a href="#Flume-产生的背景" class="headerlink" title="Flume 产生的背景"></a>Flume 产生的背景</h2><p><em>通过中间系统，将数据推送到 HDFS 或类似的存储系统是很普遍的。这些系统能在数据生产者和最终目的地之间起缓冲作用，使得偶然突发写入 HDFS 和 HBase 集群的请求，变得可以持续而平稳</em>    </p><h2 id="Flume-简介"><a href="#Flume-简介" class="headerlink" title="Flume 简介"></a>Flume 简介</h2><p><em>Flume 是 Cloudera 提供的一个高可用、高可靠、分布式的海量日志采集、聚合和传输的系统</em></p><p><em>Apache Flume 是一个系统，用于从大量数据生产商那里移动海量数据到存储、索引或分析数据的系统</em>  </p><h2 id="Flume-安装"><a href="#Flume-安装" class="headerlink" title="Flume 安装"></a>Flume 安装</h2><p><em>不支持windows安装</em></p><p><em>需要配置环境变量</em></p><h2 id="Flume的架构"><a href="#Flume的架构" class="headerlink" title="Flume的架构"></a>Flume的架构</h2><h3 id="Agent"><a href="#Agent" class="headerlink" title="Agent"></a>Agent</h3><p><em>Flume 运行的核心是 Agent。 Agent 本身是一个 Java 进程，也是 Flume 中最小的独立运行单位，运行在日志收集节点。</em></p><p>  Flume核心Agent = source(采集) + channel(缓存数据) + sink(保存日志)</p><p><em>一般一个机器运行一个Agent， 但在一个Agent中可以包含多个Source，channel和sink</em></p><h3 id="event"><a href="#event" class="headerlink" title="event"></a>event</h3><p><em>Flume 基于数据流进行设计，数据流由事件（ Event）贯穿始终。<strong>事件作为 Flume 的基本数据单位</strong>，携带日志数据（以字节数组形式）并且携带有头信息，由 Agent 外部的数据源（如图 7-2 中的 Web Server）生成</em> </p><h2 id="Flume-应用"><a href="#Flume-应用" class="headerlink" title="Flume 应用"></a>Flume 应用</h2><h3 id="Flume的组件类型及其配置"><a href="#Flume的组件类型及其配置" class="headerlink" title="Flume的组件类型及其配置"></a>Flume的组件类型及其配置</h3><h2 id="Flume的配置方法"><a href="#Flume的配置方法" class="headerlink" title="Flume的配置方法"></a>Flume的配置方法</h2><p><em>一定义，三配置</em></p><p><a href="https://imgchr.com/i/t9LHeJ" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/t9LHeJ.md.png" alt="t9LHeJ.png" border="0"></a></p><h2 id="运行方法"><a href="#运行方法" class="headerlink" title="运行方法"></a>运行方法</h2><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hadoop" scheme="http://tianyong.fun/categories/Hadoop/"/>
    
    
  </entry>
  
  <entry>
    <title>maven安装</title>
    <link href="http://tianyong.fun/maven%E5%AE%89%E8%A3%85.html"/>
    <id>http://tianyong.fun/maven%E5%AE%89%E8%A3%85.html</id>
    <published>2020-05-24T09:25:09.000Z</published>
    <updated>2020-05-24T09:25:09.881Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>linux相关命令</title>
    <link href="http://tianyong.fun/linux%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4.html"/>
    <id>http://tianyong.fun/linux%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4.html</id>
    <published>2020-05-24T09:23:25.000Z</published>
    <updated>2020-05-24T09:23:25.344Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>IDM破解</title>
    <link href="http://tianyong.fun/IDM%E7%A0%B4%E8%A7%A3.html"/>
    <id>http://tianyong.fun/IDM%E7%A0%B4%E8%A7%A3.html</id>
    <published>2020-05-20T13:48:29.000Z</published>
    <updated>2020-05-20T13:57:44.759Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">输入密码，查看文章</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="c3ef0d90e9668753b03184dba9152b88e6ab9dc08dda5f22d54c42d05f7d410c">b0c437b3beff531915a15d7156f4a2ccab261e2a563e90527e1e6bd77213d64fbe99135195d702c34891935ba5641f292e9eaae659e4a78885e910bf5d11695ae1db0432f21468845f73c5aa8f40db4dbe4d56a87e6ce9aa5b142ab4b9a0efb31f2746f55dbdde7eaf2b5e84e6dadeb134944a06770f37b260ed47938dd51f95177a7c8dbedcf1c030c06bd0de3b7a9a5859bba8fdc3e3ee1332acabcbd4156c336e4d6ca6f55f50f980fb2729097f5a8d5e5ca0ec1fd749e633f1dd9bb76fb6280d79a70aeb2deb7062d4b4be47dba8de5fa25834c14ab43dfbd17f7108681bba25760fc98bf588932c0d9e90606018bf205fe8416fc330a8c8e7124a3ecd64a1d59c1284dd092db131f60ca15fd43a800f4bdb3c18f5d23ebc2112ac0b618dcd4f911f4730f9b33f62f7e9ecfdc11c40f360b63c1b8e7ab3a73a1ff9ee0249570b2a0e8539b47afc9a9a68ea748b47f07157c7bdda91ed044c7e52f10a72953e369a665131ef1bc7e69beeafba612807b1a951f7fc0a823be343e0fc92441470330495c08320ab53e0459713ddd945fa53450de67a4eca1c25f7ab3d3598d7a9c29f47c8727ba30eb0124add458d34fcb47b330ce962059e3134d1212e9bb0dd63d0486999ed46688b2836aaa87e642d673aca5df700dcf8357e472f25ae48e2b561e642de3b5f9ba6029dd151b5545bf2b7c999d411a514fe9c6242e5798679904f162359bb5dbe7ac8d1588d7237</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      这是一篇加密文章
    
    </summary>
    
    
      <category term="软件" scheme="http://tianyong.fun/categories/%E8%BD%AF%E4%BB%B6/"/>
    
    
      <category term="破解" scheme="http://tianyong.fun/tags/%E7%A0%B4%E8%A7%A3/"/>
    
      <category term="激活" scheme="http://tianyong.fun/tags/%E6%BF%80%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>数据库系统-sql执行过程遇到的异常</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-sql%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E9%81%87%E5%88%B0%E7%9A%84%E5%BC%82%E5%B8%B8.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-sql%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E9%81%87%E5%88%B0%E7%9A%84%E5%BC%82%E5%B8%B8.html</id>
    <published>2020-05-20T10:01:17.000Z</published>
    <updated>2020-05-27T08:36:04.555Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="存储过程变量输出"><a href="#存储过程变量输出" class="headerlink" title="存储过程变量输出"></a>存储过程变量输出</h2><h2 id="格式转换"><a href="#格式转换" class="headerlink" title="格式转换"></a>格式转换</h2><p>CAST(XXX AS XXX)</p><h2 id="查看存在的存储过程"><a href="#查看存在的存储过程" class="headerlink" title="查看存在的存储过程"></a>查看存在的存储过程</h2><p><a href="https://www.cnblogs.com/sunliyuan/p/6625862.html" target="_blank" rel="external nofollow noopener noreferrer">url</a></p><h2 id="触发器中For-和-after等同"><a href="#触发器中For-和-after等同" class="headerlink" title="触发器中For 和 after等同"></a>触发器中For 和 after等同</h2><h2 id="当一个表的某属性被另一个表某属性引用时，删除第一个表的元组，默认不能执行，可以设置为级联删除"><a href="#当一个表的某属性被另一个表某属性引用时，删除第一个表的元组，默认不能执行，可以设置为级联删除" class="headerlink" title="当一个表的某属性被另一个表某属性引用时，删除第一个表的元组，默认不能执行，可以设置为级联删除"></a>当一个表的某属性被另一个表某属性引用时，删除第一个表的元组，默认不能执行，可以设置为级联删除</h2><h3 id="显示设置"><a href="#显示设置" class="headerlink" title="显示设置"></a>显示设置</h3><p><em>选中要操作的表，右键-&gt;设计-&gt;顶部的关系按钮-&gt;insert和update规范-&gt;设置为级联操作</em></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>数据库系统-数据库编程</title>
    <link href="http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B.html"/>
    <id>http://tianyong.fun/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B.html</id>
    <published>2020-05-19T06:14:37.000Z</published>
    <updated>2020-05-26T06:26:28.105Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h1 id="数据库编程"><a href="#数据库编程" class="headerlink" title="数据库编程"></a>数据库编程</h1><h2 id="SQL-Server编程结构"><a href="#SQL-Server编程结构" class="headerlink" title="SQL Server编程结构"></a>SQL Server编程结构</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="声明局部变量"><a href="#声明局部变量" class="headerlink" title="声明局部变量"></a>声明局部变量</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span> @局部变量名 数据类型</span><br><span class="line">[， @局部变量名 数据类型]</span><br></pre></td></tr></table></figure><p><em>可以同时定义多个变量，中间用逗号隔开</em></p><h4 id="赋值局部变量"><a href="#赋值局部变量" class="headerlink" title="赋值局部变量"></a>赋值局部变量</h4><p><em>为局部变量赋值可以用SET或SELECT语句</em></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> @变量名=表达式</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> 列<span class="number">1</span>,..,列n</span><br><span class="line">@变量名=表达式</span><br><span class="line"><span class="keyword">FROM</span> 表名</span><br><span class="line"><span class="keyword">WHERE</span> 条件表达式</span><br></pre></td></tr></table></figure><p><em>注: 如果SELECT语句返回多个值，则局部变量取最后一个返回值。例：</em></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> @Sname = Sname </span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Ssex = <span class="string">'男'</span></span><br></pre></td></tr></table></figure><h4 id="显示信息"><a href="#显示信息" class="headerlink" title="显示信息"></a>显示信息</h4><h5 id="Print语句"><a href="#Print语句" class="headerlink" title="Print语句"></a>Print语句</h5><p><em>print语句只能显示字符数据类型</em></p><h5 id><a href="#" class="headerlink" title></a></h5><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*注释文本*/</span></span><br><span class="line">或</span><br><span class="line"><span class="comment">-- 注释文本</span></span><br></pre></td></tr></table></figure><h3 id="批处理"><a href="#批处理" class="headerlink" title="批处理"></a>批处理</h3><p><em>批处理是成组执行的一条或多条T-SQL指令</em></p><p><em>GO语句用于指定批处理语句的结束处，单独使用一行。本身不是T-SQL的部分</em></p><p><strong>注意</strong>：</p><p>不能在同一个批处理处，先删除，后使用</p><p>不在在同一个批处理处，先修改，后使用</p><h3 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h3><h4 id="BEGIN…END"><a href="#BEGIN…END" class="headerlink" title="BEGIN…END"></a>BEGIN…END</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">语句</span><br><span class="line">....</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure><h4 id="IF语句"><a href="#IF语句" class="headerlink" title="IF语句"></a>IF语句</h4><h5 id="IF-THEN语句"><a href="#IF-THEN语句" class="headerlink" title="IF-THEN语句"></a>IF-THEN语句</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IF condition THEN</span><br><span class="line">Sequence_of_statements;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>;</span><br></pre></td></tr></table></figure><h5 id="IF-THEN-ELSE语句"><a href="#IF-THEN-ELSE语句" class="headerlink" title="IF-THEN-ELSE语句"></a>IF-THEN-ELSE语句</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IF condition THEN</span><br><span class="line">Sequence_of_statements1;</span><br><span class="line">ELSE</span><br><span class="line">Sequence_of_statements2;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>;</span><br></pre></td></tr></table></figure><h5 id="嵌套的IF语句"><a href="#嵌套的IF语句" class="headerlink" title="嵌套的IF语句"></a>嵌套的IF语句</h5><p><em>在THEN和ELSE子句中还可以包含IF语句</em></p><h5 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h5><p><a href="https://imgchr.com/i/Y5Mhaq" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/19/Y5Mhaq.th.png" alt="Y5Mhaq.png" border="0"></a></p><img src="https://s1.ax1x.com/2020/05/20/YTFdDP.png" alt="YTFdDP.png" border="0"><h4 id="WHILE"><a href="#WHILE" class="headerlink" title="WHILE"></a>WHILE</h4><h4 id="GOTO"><a href="#GOTO" class="headerlink" title="GOTO"></a>GOTO</h4><h4 id="WAITFOR"><a href="#WAITFOR" class="headerlink" title="WAITFOR"></a>WAITFOR</h4><h4 id="RETURN"><a href="#RETURN" class="headerlink" title="RETURN"></a>RETURN</h4><h4 id="CASE"><a href="#CASE" class="headerlink" title="CASE"></a>CASE</h4><h2 id="存储过程-重点"><a href="#存储过程-重点" class="headerlink" title="存储过程(重点)"></a>存储过程(重点)</h2><p><em>过程化 SQ L块主要有两种类型，即命名块和匿名块</em></p><p><em>匿名块每次执行时都要进行编译，它不能被存储到数据库中，也不能在其他过程化SQ L块中调用</em></p><p>  <em>过程和函数是命名块，它们被编译后保存在数据库中，称 为持久性存储模块) ,可以被反复调用，运行速度较快</em></p><h3 id="存储过程的基本概念"><a href="#存储过程的基本概念" class="headerlink" title="存储过程的基本概念"></a>存储过程的基本概念</h3><p><em>存储过程是由过程化SQ L 语句书写的过程，这个过程经编译和优化后存储在数据库服务器中，因此称它为存储过程，使用时只要调用即可</em>  </p><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>存储过程降低了客户机和服务器之间的通信量  </p><p>运行效率高  </p><p>方便实施企业规则  </p><h3 id="创建存储过程"><a href="#创建存储过程" class="headerlink" title="创建存储过程"></a>创建存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 过程名([@参数<span class="number">1</span> 类型,.., @参数n 类型)</span><br><span class="line"><span class="keyword">AS</span> &lt;过程化<span class="keyword">SQL</span>块&gt;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--参数不带括号也可以</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 过程名</span><br><span class="line">@参数<span class="number">1</span> 类型,.., @参数n 类型</span><br><span class="line"><span class="keyword">AS</span></span><br></pre></td></tr></table></figure><p><em>可简写成PROC</em></p><h4 id="无参数"><a href="#无参数" class="headerlink" title="无参数"></a>无参数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> aa</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SQL</span>语句</span><br></pre></td></tr></table></figure><h4 id="带参数"><a href="#带参数" class="headerlink" title="带参数"></a>带参数</h4><img src="https://s1.ax1x.com/2020/05/19/Y5Y8jf.png" alt="Y5Y8jf.png" border="0"><img src="https://s1.ax1x.com/2020/05/20/YTuBVA.png" alt="YTuBVA.png" border="0"><h4 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h4><img src="https://s1.ax1x.com/2020/05/20/YTkJaT.png" alt="YTkJaT.png" border="0"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXECUTE</span> exp4</span><br><span class="line"><span class="keyword">EXECUTE</span> exp4 <span class="string">'%...'</span></span><br><span class="line"><span class="keyword">EXECUTE</span> exp4 @pno=<span class="string">'....'</span></span><br><span class="line"><span class="keyword">EXECUTE</span> exp4 <span class="string">'...'</span>, <span class="string">'...'</span></span><br></pre></td></tr></table></figure><h3 id="执行存储过程"><a href="#执行存储过程" class="headerlink" title="执行存储过程"></a>执行存储过程</h3><img src="https://s1.ax1x.com/2020/05/19/Y5dghQ.png" alt="Y5dghQ.png" border="0"><p><em>可简写成EXEC</em></p><h3 id="修改存储过程"><a href="#修改存储过程" class="headerlink" title="修改存储过程"></a>修改存储过程</h3><h4 id="重命名"><a href="#重命名" class="headerlink" title="重命名"></a>重命名</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">PROCEDURE</span> 过程名<span class="number">1</span> <span class="keyword">RENAME</span> <span class="keyword">TO</span> 过程名<span class="number">2</span>;</span><br></pre></td></tr></table></figure><h4 id="重编译"><a href="#重编译" class="headerlink" title="重编译"></a>重编译</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">PROCEDURE</span> 过程名(参数)</span><br><span class="line"><span class="keyword">AS</span></span><br></pre></td></tr></table></figure><h3 id="删除存储过程"><a href="#删除存储过程" class="headerlink" title="删除存储过程"></a>删除存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> 过程名;</span><br></pre></td></tr></table></figure><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p><em>和存储过程一样都是持久性存储模块；不同的是函数要指定返回类型</em></p><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> 函数名([参数<span class="number">1</span>, ..., 参数n]) <span class="keyword">RETURNS</span>&lt;类型&gt;</span><br><span class="line"><span class="keyword">AS</span> &lt;过程化<span class="keyword">SQL</span>块&gt;</span><br></pre></td></tr></table></figure><h3 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CALL</span>/<span class="keyword">SELECT</span> 函数名([参数<span class="number">1</span>, ..., 参数n])</span><br></pre></td></tr></table></figure><h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">FUNCTION</span> 过程名 <span class="number">1</span> <span class="keyword">RENAME</span> <span class="keyword">TO</span> 过程名 <span class="number">2</span>; <span class="comment">--重命名</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">FUNCTION</span> 函数名 COMPILE; <span class="comment">--重新编译一个函数</span></span><br></pre></td></tr></table></figure><h2 id="过程化SQL中的游标"><a href="#过程化SQL中的游标" class="headerlink" title="过程化SQL中的游标"></a>过程化SQL中的游标</h2><hr><blockquote><p>你未必万丈光芒，但始终温暖有光。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="数据库系统" scheme="http://tianyong.fun/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>hadoop理论课-好友推荐</title>
    <link href="http://tianyong.fun/hadoop%E7%90%86%E8%AE%BA%E5%92%8C%E5%AE%9E%E8%B7%B5-%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90.html"/>
    <id>http://tianyong.fun/hadoop%E7%90%86%E8%AE%BA%E5%92%8C%E5%AE%9E%E8%B7%B5-%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90.html</id>
    <published>2020-05-19T01:45:45.000Z</published>
    <updated>2020-06-03T09:25:27.842Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="好友推荐"><a href="#好友推荐" class="headerlink" title="好友推荐"></a>好友推荐</h2><h3 id="关系图"><a href="#关系图" class="headerlink" title="关系图"></a>关系图</h3><p><a href="https://imgchr.com/i/Y4YlJ1" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/19/Y4YlJ1.md.png" alt="Y4YlJ1.png" border="0"></a></p><h3 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h3><h4 id="统计数据"><a href="#统计数据" class="headerlink" title="统计数据"></a>统计数据</h4><p><em>以每个人为对象，统计直接关系</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tom cat hello hadoop</span><br><span class="line">cat tom hive</span><br><span class="line">hive cat hadoop world hello mr</span><br><span class="line">mr hive hello</span><br><span class="line">world hadoop hive hello mr</span><br><span class="line">hadoop hive tom world</span><br><span class="line">hello world tom hive mr</span><br></pre></td></tr></table></figure><h4 id="处理数据"><a href="#处理数据" class="headerlink" title="处理数据"></a>处理数据</h4><h5 id="map阶段输出数据"><a href="#map阶段输出数据" class="headerlink" title="map阶段输出数据"></a>map阶段输出数据</h5><p><em>以key-value的形式，表示两个人的直接或间接关系(0代表直接，1代表间接)</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;&#39;tom_cat&#39;: 0&gt;, &lt;&#39;tom_hello&#39;: 0&gt;, &lt;&#39;tom_hadoop&#39;: 0&gt;, &lt;&#39;cat_hello&#39;: 1&gt;, &lt;&#39;cat_hadoop&#39;: 1&gt;, &lt;&#39;hello_hadoop&#39;: 1&gt;</span><br><span class="line">&lt;&#39;cat_tom&#39;: 0&gt;， &lt;&#39;cat_hive&#39;: 0&gt;， &lt;&#39;tom_hive&#39;: 1&gt;</span><br><span class="line">&lt;&#39;hive_cat&#39;: 0&gt;, &lt;&#39;hive_hadoop&#39;: 0&gt;, &lt;&#39;hive_world&#39;: 0&gt;, &lt;&#39;hive_hello&#39;: 0&gt;, &lt;&#39;hive_mr&#39;: 0&gt;, &lt;&#39;cat_hadoop&#39;: 1&gt;,&lt;&#39;cat_world&#39;: 1&gt; ,&lt;&#39;cat_hello&#39;: 1&gt; ,&lt;&#39;cat_mr&#39;: 1&gt; ,&lt;&#39;hadoop_world&#39;: 1&gt;, &lt;&#39;hadoop_hello&#39;: 1&gt;, &lt;&#39;hadoop_mr&#39;: 1&gt;, &lt;&#39;world_hello&#39;: 1&gt;, &lt;&#39;world_mr&#39;: 1&gt;, &lt;&#39;hello_mr&#39;: 1&gt;,</span><br><span class="line">....</span><br></pre></td></tr></table></figure><p><em>通过Map函数形成两个人的关系，要注意升序还是降序，确保一致性</em></p><h5 id="reduce阶段传入数据"><a href="#reduce阶段传入数据" class="headerlink" title="reduce阶段传入数据"></a>reduce阶段传入数据</h5><p><em>key中两个人的顺序不同，记为同一个关系</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;tom_cat:（0,1,0,0,0）&gt;,&lt;tom_hadoop:(1,1,1)&gt;,&lt;tom_hive:(1,1,1,1,1,1)&gt;,&lt;tom_world:(1,1,1,1,1,1)&gt;，</span><br><span class="line">&lt;hadoop_world:(1,1,1,1)&gt;,&lt;hadoop_hello:(0,1,1)&gt;</span><br></pre></td></tr></table></figure><h5 id="reduce阶段传出数据"><a href="#reduce阶段传出数据" class="headerlink" title="reduce阶段传出数据"></a>reduce阶段传出数据</h5><p><em>传出间接关系拥有的共同好友</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cat_hadoop2</span><br><span class="line">cat_hello2</span><br><span class="line">cat_mr1</span><br><span class="line">cat_world1</span><br><span class="line">hadoop_hello3</span><br><span class="line">hadoop_mr1</span><br><span class="line">hive_tom3</span><br><span class="line">mr_tom1</span><br><span class="line">mr_world2</span><br><span class="line">tom_world2</span><br></pre></td></tr></table></figure><h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><h6 id="Mapper"><a href="#Mapper" class="headerlink" title="Mapper"></a>Mapper</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">recommendFriendMapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt;</span>&#123;</span><br><span class="line">Text key2 = <span class="keyword">new</span> Text();</span><br><span class="line">IntWritable value2 = <span class="keyword">new</span> IntWritable();</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable key, Text value, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">String data = value.toString();</span><br><span class="line">String list[] = data.split(<span class="string">" "</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; list.length-<span class="number">1</span>; m++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> n = m + <span class="number">1</span>; n &lt; list.length; n++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(m == <span class="number">0</span>) &#123;</span><br><span class="line">String outcome = linkStr(list[<span class="number">0</span>], list[n]);</span><br><span class="line">key2.set(outcome);</span><br><span class="line">value2.set(<span class="number">0</span>);</span><br><span class="line">context.write(key2, value2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">String outcome = linkStr(list[m], list[n]);</span><br><span class="line">key2.set(outcome);</span><br><span class="line">value2.set(<span class="number">1</span>);</span><br><span class="line">context.write(key2, value2);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">static</span> String <span class="title">linkStr</span><span class="params">(String a1, String a2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(a1.compareTo(a2) &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> a1+<span class="string">"_"</span>+a2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> a2+<span class="string">"_"</span>+a1;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Reducer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">recommendFriendReducer</span> <span class="keyword">extends</span> <span class="title">Reducer</span>&lt;<span class="title">Text</span>, <span class="title">IntWritable</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt;</span>&#123;</span><br><span class="line">IntWritable v4 = <span class="keyword">new</span> IntWritable();</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">reduce</span><span class="params">(Text k3, Iterable&lt;IntWritable&gt; v3, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">for</span>(IntWritable value:v3) &#123;</span><br><span class="line"><span class="keyword">if</span>(value.get() == <span class="number">1</span>)&#123;</span><br><span class="line">total += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">flag = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag) &#123;</span><br><span class="line">v4.set(total);</span><br><span class="line">context.write(k3, v4);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Job;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sudo.edu.hadoop.mapreduce.wordCount.wordCountMain;</span><br><span class="line"><span class="keyword">import</span> sudo.edu.hadoop.mapreduce.wordCount.wordCountMapper;</span><br><span class="line"><span class="keyword">import</span> sudo.edu.hadoop.mapreduce.wordCount.wordCountReducer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">recommendFriendMain</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">Job job = Job.getInstance(<span class="keyword">new</span> Configuration());</span><br><span class="line">job.setJarByClass(recommendFriendMain<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">job.setMapperClass(recommendFriendMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">job.setMapOutputKeyClass(Text<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">job.setMapOutputValueClass(IntWritable<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">job.setReducerClass(recommendFriendReducer<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">job.setOutputKeyClass(Text<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">job.setOutputValueClass(IntWritable<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">FileInputFormat.setInputPaths(job, <span class="keyword">new</span> Path(args[<span class="number">0</span>]));</span><br><span class="line">FileOutputFormat.setOutputPath(job, <span class="keyword">new</span> Path(args[<span class="number">1</span>]));</span><br><span class="line">job.waitForCompletion(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h6><p><img src="https://s1.ax1x.com/2020/06/03/tdPuiF.md.png" alt="tdPuiF.md.png" border="0"></p><h4 id="对XX-XX后续处理"><a href="#对XX-XX后续处理" class="headerlink" title="对XX_XX后续处理"></a>对XX_XX后续处理</h4><p><em>不需要reduce阶段；对前阶段得到的数据xx_xx进行处理</em></p><h5 id="Mapper-1"><a href="#Mapper-1" class="headerlink" title="Mapper"></a>Mapper</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.NullWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">RecommentResInfo</span>, <span class="title">NullWritable</span>&gt;</span>&#123;</span><br><span class="line">RecommentResInfo keySend = <span class="keyword">new</span> RecommentResInfo();</span><br><span class="line"><span class="meta">@Override</span> </span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable k1, Text v1, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// 数据</span></span><br><span class="line"><span class="comment">//xx_xx 5</span></span><br><span class="line">String line = v1.toString();</span><br><span class="line">String words[] = line.split(<span class="string">"\t"</span>);</span><br><span class="line">String personStr = words[<span class="number">0</span>];</span><br><span class="line">String[] ps = personStr.split(<span class="string">"_"</span>);</span><br><span class="line">String p1Str = ps[<span class="number">0</span>];</span><br><span class="line">String p2Str = ps[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> comNum = Integer.parseInt(words[<span class="number">1</span>]);</span><br><span class="line">keySend.setName(p1Str);</span><br><span class="line">keySend.setRecommentName(p2Str);</span><br><span class="line">keySend.setCommonNum(comNum);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">keySend.setName(p2Str);</span><br><span class="line">keySend.setRecommentName(p1Str);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="RecommentResInfo-序列化，排序，人物类"><a href="#RecommentResInfo-序列化，排序，人物类" class="headerlink" title="RecommentResInfo(序列化，排序，人物类)"></a>RecommentResInfo(序列化，排序，人物类)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.NullWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">RecommentResInfo</span>, <span class="title">NullWritable</span>&gt;</span>&#123;</span><br><span class="line">RecommentResInfo keySend = <span class="keyword">new</span> RecommentResInfo();</span><br><span class="line"><span class="meta">@Override</span> </span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable k1, Text v1, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// 数据</span></span><br><span class="line"><span class="comment">//xx_xx 5</span></span><br><span class="line">String line = v1.toString();</span><br><span class="line">String words[] = line.split(<span class="string">"\t"</span>);</span><br><span class="line">String personStr = words[<span class="number">0</span>];</span><br><span class="line">String[] ps = personStr.split(<span class="string">"_"</span>);</span><br><span class="line">String p1Str = ps[<span class="number">0</span>];</span><br><span class="line">String p2Str = ps[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> comNum = Integer.parseInt(words[<span class="number">1</span>]);</span><br><span class="line">keySend.setName(p1Str);</span><br><span class="line">keySend.setRecommentName(p2Str);</span><br><span class="line">keySend.setCommonNum(comNum);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">keySend.setName(p2Str);</span><br><span class="line">keySend.setRecommentName(p1Str);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Main-1"><a href="#Main-1" class="headerlink" title="Main"></a>Main</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.NullWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">RecommentResInfo</span>, <span class="title">NullWritable</span>&gt;</span>&#123;</span><br><span class="line">RecommentResInfo keySend = <span class="keyword">new</span> RecommentResInfo();</span><br><span class="line"><span class="meta">@Override</span> </span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable k1, Text v1, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// 数据</span></span><br><span class="line"><span class="comment">//xx_xx 5</span></span><br><span class="line">String line = v1.toString();</span><br><span class="line">String words[] = line.split(<span class="string">"\t"</span>);</span><br><span class="line">String personStr = words[<span class="number">0</span>];</span><br><span class="line">String[] ps = personStr.split(<span class="string">"_"</span>);</span><br><span class="line">String p1Str = ps[<span class="number">0</span>];</span><br><span class="line">String p2Str = ps[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> comNum = Integer.parseInt(words[<span class="number">1</span>]);</span><br><span class="line">keySend.setName(p1Str);</span><br><span class="line">keySend.setRecommentName(p2Str);</span><br><span class="line">keySend.setCommonNum(comNum);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">keySend.setName(p2Str);</span><br><span class="line">keySend.setRecommentName(p1Str);</span><br><span class="line">context.write(keySend, NullWritable.get());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="结果-1"><a href="#结果-1" class="headerlink" title="结果"></a>结果</h5><p><a href="https://imgchr.com/i/tdPKG4" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/03/tdPKG4.png" alt="tdPKG4.png" border="0"></a></p><hr><blockquote><p>每个人心中都有一团火，不过路过的人只看到了烟。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hadoop" scheme="http://tianyong.fun/categories/Hadoop/"/>
    
    
      <category term="好友推荐" scheme="http://tianyong.fun/tags/%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90/"/>
    
  </entry>
  
  <entry>
    <title>计算机网络-第五章</title>
    <link href="http://tianyong.fun/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E4%BA%94%E7%AB%A0.html"/>
    <id>http://tianyong.fun/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E4%BA%94%E7%AB%A0.html</id>
    <published>2020-05-18T01:36:08.000Z</published>
    <updated>2020-05-26T09:51:29.815Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="第五章-运输层"><a href="#第五章-运输层" class="headerlink" title="第五章-运输层"></a>第五章-运输层</h2><p><em>网络层是为主机之间提供逻辑通信，<br>运输层为应用进程之间提供端到端的逻辑通信</em></p><h3 id="运输层的作用"><a href="#运输层的作用" class="headerlink" title="运输层的作用"></a>运输层的作用</h3><p><em>运输层为应用进程之间提供端到端的逻辑通信</em></p><p><em>在一台主机中经常有多个应用进程同时分别和另一台主机中的多个应用进程通信。<br>这表明运输层有一个很重要的<strong>功能——复用</strong> (multiplexing)和分用</em></p><p><a href="https://imgchr.com/i/tp8cdg" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/tp8cdg.md.png" alt="tp8cdg.png" border="0"></a></p><h3 id="运输层的端口"><a href="#运输层的端口" class="headerlink" title="运输层的端口"></a>运输层的端口</h3><p><em>运行在计算机中的进程是用进程标识符来标志的</em></p><p><em>但运行在应用层的各种应用进程却不应当让计算机操作系统指派它的进程标识符。这是因为在互联网上使用的计算机的操作系统种类很多，而不同的操作系统又使用不同格式的进程标识符</em></p><p><em>必须用统一的方法对 TCP/IP 体系的应用进程进行标志</em></p><p><em>解决这个问题的方法就是在运输层使用<strong>协议端口号</strong> (protocol port number)，或通常简称为<strong>端口</strong> (port)</em></p><h4 id="软件端口与硬件端口"><a href="#软件端口与硬件端口" class="headerlink" title="软件端口与硬件端口"></a>软件端口与硬件端口</h4><p><em>在协议栈层间的抽象的协议端口是*</em>软件端口<strong>。<br>路由器或交换机上的端口是</strong>硬件端口***</p><h4 id="TCP-IP-运输层端口"><a href="#TCP-IP-运输层端口" class="headerlink" title="TCP/IP 运输层端口"></a>TCP/IP 运输层端口</h4><p><em>端口用一个 16 位端口号进行标志</em></p><p><em>端口号只具有<strong>本地意义</strong>，即端口号只是为了标志<strong>本计算机应用层中的各进程</strong>。<br>在互联网中，不同计算机的相同端口号是没有联系的</em></p><h4 id="两大类端口"><a href="#两大类端口" class="headerlink" title="两大类端口"></a>两大类端口</h4><h5 id="服务器端使用的端口号"><a href="#服务器端使用的端口号" class="headerlink" title="服务器端使用的端口号"></a>服务器端使用的端口号</h5><p>熟知端口，数值一般为 0<del>1023。<br>登记端口号，数值为 1024</del>49151</p><h5 id="客户端使用的端口号"><a href="#客户端使用的端口号" class="headerlink" title="客户端使用的端口号"></a>客户端使用的端口号</h5><p><em>又称为短暂端口号，数值为 49152~65535，留给客户进程选择暂时使用</em></p><h3 id="用户数据报协议-UDP-User-Datagram-Protocol"><a href="#用户数据报协议-UDP-User-Datagram-Protocol" class="headerlink" title="用户数据报协议 UDP (User Datagram Protocol)"></a>用户数据报协议 UDP (User Datagram Protocol)</h3><p><em>面向连接的 TCP 协议</em></p><p><em>采用无连接的 UDP 协议</em></p><p><em>传送的数据单位协议是 *</em>UDP 报文<strong>或</strong>用户数据报***</p><p><strong>UDP实时性更好</strong></p><h4 id="UDP-的主要特点"><a href="#UDP-的主要特点" class="headerlink" title="UDP 的主要特点"></a>UDP 的主要特点</h4><p>(1) UDP 是无连接的</p><p>(2) UDP 使用尽最大努力交付</p><p>(3) UDP 是面向报文的(UDP 对应用层交下来的报文，既不合并，也不拆分，而是保留这些报文的边界。)</p><p>(4) UDP 没有拥塞控制</p><p>(5) UDP 支持一对一、一对多、多对一和多对多</p><p>的交互通信。<br>(6) UDP 的首部开销小</p><h4 id="UDP-的首部格式"><a href="#UDP-的首部格式" class="headerlink" title="UDP 的首部格式"></a>UDP 的首部格式</h4><p><em>用户数据报=首部+数据部分</em></p><p><em>首部<strong>8个字节</strong>：源端口，目的端口，长度，检验和</em></p><p><a href="https://imgchr.com/i/YWYcjg" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YWYcjg.md.png" alt="YWYcjg.md.png" border="0"></a></p><h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><img src="https://s1.ax1x.com/2020/05/18/YWY2uQ.png" alt="YWY2uQ.png" border="0"><img src="https://s1.ax1x.com/2020/05/18/YWasaj.jpg" alt="YWasaj.jpg" border="0"><p><a href="https://imgchr.com/i/YWYRBj" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YWYRBj.png" alt="YWYRBj.png" border="0"></a></p><p><em>目的端口小的是服务器，大的是客户机</em></p><img src="https://s1.ax1x.com/2020/05/25/tp83M6.md.png" alt="tp83M6.png" border="0"><h3 id="传输控制协议-TCP-Transmission-Control-Protocol-概述"><a href="#传输控制协议-TCP-Transmission-Control-Protocol-概述" class="headerlink" title="传输控制协议 TCP (Transmission Control Protocol)概述"></a>传输控制协议 TCP (Transmission Control Protocol)概述</h3><p><em>传送的数据单位协议是 TCP 报文段 (segment)</em></p><h4 id="TCP-最主要的特点"><a href="#TCP-最主要的特点" class="headerlink" title="TCP 最主要的特点"></a>TCP 最主要的特点</h4><p><em>TCP 是*</em>面向连接的<strong>运输层协议。<br>每一条 TCP 连接</strong>只能有两个端点** (endpoint)，每一条 TCP 连接<strong>只能是点对点</strong>的（一对一）。<br>TCP 提供<strong>可靠交付</strong>的服务。<br>TCP 提供<strong>全双工</strong>通信。<br><strong>面向字节流：*</strong></p><p><em>TCP 中的“流”(stream)指的是流入或流出进程的字节序列</em></p><p><em>“面向字节流”的含义是：虽然应用程序和 TCP 的交互是一次一个数据块，但 TCP 把应用程序交下来的数据看成仅仅是一连串无结构的字节流</em></p><h5 id="TCP-面向流的概念"><a href="#TCP-面向流的概念" class="headerlink" title="TCP 面向流的概念"></a>TCP 面向流的概念</h5><p><em>不保证发送方和接收方数据块具有对应大小的关系，但字节流完全一样</em></p><p><em>TCP 不关心应用进程一次把多长的报文发送到 TCP 缓存。<br>TCP 对连续的字节流进行分段，形成 TCP 报文段</em></p><h4 id="注-意"><a href="#注-意" class="headerlink" title="注 意"></a>注 意</h4><p><em>TCP 连接是一条虚连接</em></p><p><em>TCP 对应用进程一次把多长的报文发送到TCP 的缓存中是不关心的</em></p><p><em>TCP 根据对方给出的窗口值和当前网络拥塞的程度来决定一个报文段应包含多少个字节（UDP 发送的报文长度是应用进程给出的）</em></p><p><em>TCP 可把太长的数据块划分短一些再传送</em></p><p><em>TCP 也可等待积累有足够多的字节后再构成报文段发送出去</em></p><h4 id="TCP-的连接"><a href="#TCP-的连接" class="headerlink" title="TCP 的连接"></a>TCP 的连接</h4><p><em>TCP 连接的端点叫做套接字 (socket) 或插口</em></p><p><em>端口号拼接到 (contatenated with) IP 地址即构成了套接字</em></p><h3 id="可靠传输的工作原理"><a href="#可靠传输的工作原理" class="headerlink" title="可靠传输的工作原理"></a>可靠传输的工作原理</h3><p><em>理想的传输条件有以下两个特点：<br>(1) 传输信道不产生差错。<br>(2) 不管发送方以多快的速度发送数据，接收方总是来得及处理收到的数据</em></p><p><strong>然而实际的网络都不具备以上两个理想条件</strong></p><h5 id="停止等待协议"><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h5><p><em>“停止等待”就是每发送完一个分组就停止发送，等待对方的确认。在收到确认后再发送下一个分组</em></p><p><em>全双工通信的双方既是发送方也是接收方</em></p><h6 id="无差错情况"><a href="#无差错情况" class="headerlink" title="无差错情况"></a>无差错情况</h6><img src="https://s1.ax1x.com/2020/05/25/t98ruV.png" alt="t98ruV.png" border="0"><h6 id="出现差错"><a href="#出现差错" class="headerlink" title="出现差错"></a>出现差错</h6><p><em>当以某一方为接收方时，可能出现：*</em>收到，检查异常，丢弃<strong>；</strong>传输过程丢失<strong>。此时接收方不会做出相应，为了确保能够正确接收，使用</strong>超时重传***</p><h6 id="确认丢失和确认迟到"><a href="#确认丢失和确认迟到" class="headerlink" title="确认丢失和确认迟到"></a>确认丢失和确认迟到</h6><p><strong>确认丢失</strong></p><p><strong>确认迟到</strong></p><p><em>接收方发送的确认，接收方在规定时间没有收到</em></p><p><em>处理方法是：A 会收到重复的确认。对重复的确认的处理很简单：收下后就丢弃。<br>B 仍然会收到重复的 M1，并且同样要丢弃重复的 M1，并重传确认分组</em></p><h5 id="连续-ARQ-协议"><a href="#连续-ARQ-协议" class="headerlink" title="连续 ARQ 协议"></a>连续 ARQ 协议</h5><p><em>连续 ARQ 协议规定，发送方每收到一个确认，就把发送窗口向前滑动一个分组的位置</em></p><h5 id="TCP-报文段的首部格式"><a href="#TCP-报文段的首部格式" class="headerlink" title="TCP 报文段的首部格式"></a>TCP 报文段的首部格式</h5><p><em>TCP 报文段首部的前 20 个字节是固定的，后面有 4n 字节是根据需要而增加的选项 (n 是整数)。*</em>因此 TCP 首部的最小长度是 20 字节。***</p><img src="https://s1.ax1x.com/2020/05/25/t9YQ39.png" alt="t9YQ39.png" border="0"><p><strong>序号字段</strong>——<em>占 4 字节。TCP 连接中传送的数据流中的每一个字节都编上一个序号。序号字段的值则指的是本报文段所发送的数据的第一个字节的序号</em></p><h6 id="习题-1"><a href="#习题-1" class="headerlink" title="习题"></a>习题</h6><p><a href="https://imgchr.com/i/t9QSzV" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/t9QSzV.md.jpg" alt="t9QSzV.md.jpg" border="0"></a><br><a href="https://imgchr.com/i/t9MzR0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/t9MzR0.md.jpg" alt="t9MzR0.md.jpg" border="0"></a><br><a href="https://imgchr.com/i/t9MxGq" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/t9MxGq.md.jpg" alt="t9MxGq.md.jpg" border="0"></a></p><h3 id="TCP-流量控制"><a href="#TCP-流量控制" class="headerlink" title="TCP 流量控制"></a>TCP 流量控制</h3><h4 id="利用滑动窗口实现流量控制"><a href="#利用滑动窗口实现流量控制" class="headerlink" title="利用滑动窗口实现流量控制"></a>利用滑动窗口实现流量控制</h4><h4 id="TCP-的传输效率"><a href="#TCP-的传输效率" class="headerlink" title="TCP 的传输效率"></a>TCP 的传输效率</h4><h3 id="TCP-的拥塞控制"><a href="#TCP-的拥塞控制" class="headerlink" title="TCP 的拥塞控制"></a>TCP 的拥塞控制</h3><p><em>超时：初始门限减半，拥塞窗口变为1；3个ACK：拥塞窗口减半</em></p><p><em>轮次就是指发送一个数据出去，收到确认回来</em></p><p><em>有多少个拥塞窗口，就可以发送多少个报文段</em></p><p><em>指数增长时，超过门限，可以等于</em></p><p><a href="https://imgchr.com/i/tiTrxU" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiTrxU.md.png" alt="tiTrxU.md.png" border="0"></a><br><a href="https://imgchr.com/i/tiTD2T" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiTD2T.md.png" alt="tiTD2T.md.png" border="0"></a><br><a href="https://imgchr.com/i/tiTBGV" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiTBGV.md.png" alt="tiTBGV.md.png" border="0"></a><br><a href="https://imgchr.com/i/tiT0P0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiT0P0.md.png" alt="tiT0P0.md.png" border="0"></a></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="计算机网络" scheme="http://tianyong.fun/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
  </entry>
  
  <entry>
    <title>线性代数-第一章</title>
    <link href="http://tianyong.fun/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0.html"/>
    <id>http://tianyong.fun/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0.html</id>
    <published>2020-05-16T00:03:41.000Z</published>
    <updated>2020-05-27T08:37:53.816Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><script type="text/javascript" src="/js/src/bai.js"></script><h2 id="第一章-行列式"><a href="#第一章-行列式" class="headerlink" title="第一章 行列式"></a>第一章 行列式</h2><h3 id="二阶与三阶行列式"><a href="#二阶与三阶行列式" class="headerlink" title="二阶与三阶行列式"></a>二阶与三阶行列式</h3><p><a href="https://imgchr.com/i/YyoAun" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/16/YyoAun.png" alt="YyoAun.png" border="0"></a><br><a href="https://imgchr.com/i/YyoEBq" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/16/YyoEBq.md.png" alt="YyoEBq.md.png" border="0"></a></p><h3 id="行列式的性质"><a href="#行列式的性质" class="headerlink" title="行列式的性质"></a>行列式的性质</h3><p>*<em>性质 1 行列式与它的转置行列式相等.  *</em></p><p>*<em>性质 2 对换行列式的两行（列） ， 行列式变号  *</em></p><p><strong>推论 如果行列式两行(列)完全相同，则此行列式为0</strong></p><p><strong>性质3 行列式的某一行(列)中所有的元素都乘以同一数k,等于k乘以这个行列式</strong></p><p> <strong>推论 行列式中某一行(列)的所有元素的公因子可以提到行列式记号的外面</strong></p><p><strong>性质4 行列式中如果有两行（列） 元素成比例， 则此行列式等于零</strong></p><p><strong>性质5 若行列式的某一行（列） 的元素都是两数之和， 例如第 i 行的元素都是两数之和</strong></p><p><strong>性质 6 把行列式的某一行（列） 的各元素乘同一数然后加到另一行（列） 对<br>应的元素上去， 行列式不变</strong></p><h3 id="逆序数"><a href="#逆序数" class="headerlink" title="逆序数"></a>逆序数</h3><p><em>对于 n 个不同的元素， 先规定各元素之间有一个标准次序（例如 n 个不同的<br>自然数， 可规定由小到大为标准次序）， 于是在这 n 个元素的任一排列中， 当某一<br>对元素的先后次序与标准次序不同时， 就说它构成 1 个逆序.一个排列中所有逆<br>序的总数叫做这个排列的逆序数</em></p><h3 id="上三角法求矩阵"><a href="#上三角法求矩阵" class="headerlink" title="上三角法求矩阵"></a>上三角法求矩阵</h3><p><em>等于主对角线的乘积</em></p><h3 id="行列式按行-列-展开"><a href="#行列式按行-列-展开" class="headerlink" title="行列式按行(列)展开"></a>行列式按行(列)展开</h3><p><em>行列式等于它的任一行(列)的各元素与其对应的代数余子式乘积之和</em></p><p><em>行列式某一行（列） 的元素与另一行（列） 的对应元素的代数余子式<br>乘积之和等于零</em></p><img src="https://s1.ax1x.com/2020/05/16/Y6bih6.png" alt="Y6bih6.png" border="0"><h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><p><em>当常数项 b1， b2， …， bm 不全为零时， 线性方程组（1） 叫做<strong>n元非齐次线性方程组</strong>.</em></p><p><strong>n 元齐次线性方程组</strong></p><p><em>n 元齐次线性方程组一定有零解，可能有非零解</em></p><p><em>元素是实数的矩阵称为实矩阵， 元素是复数的矩阵称为复矩阵</em></p><p><em>只有一行的矩阵A =（a1，a2… an）称为<strong>行矩阵</strong>， 又称<strong>行向量</strong>.</em></p><p><em>只有一列的矩阵称为<strong>列矩阵</strong>， 又称<strong>列向量*</strong>.</em></p><p>  A 称为<strong>系数矩阵</strong>， x 称为<strong>未知数矩阵</strong>， b 称为<strong>常数项矩阵</strong>， B 称为<strong>增广矩阵</strong></p><p><strong>对角矩阵</strong>， <em>简称对角阵.对角阵也记作:</em><br>$$<br>A = diag（λ1， λ2， …， λn）<br>$$<br>   <em>位矩阵， 简称单位阵</em></p><h3 id="矩阵运算"><a href="#矩阵运算" class="headerlink" title="矩阵运算"></a>矩阵运算</h3><h4 id="矩阵加法"><a href="#矩阵加法" class="headerlink" title="矩阵加法"></a>矩阵加法</h4><p>（i） A +B = B +A；<br>（ii） （A +B） + C = A +（B +C） </p><h4 id="数与矩阵相乘"><a href="#数与矩阵相乘" class="headerlink" title="数与矩阵相乘"></a>数与矩阵相乘</h4><p><a href="https://imgchr.com/i/YcBNOe" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/16/YcBNOe.png" alt="YcBNOe.png" border="0"></a></p><p>（i） （λμ)A =λ（μA） ；<br>（ii） （λ +μ） A =λA +μA；<br>（iii） λ（A +B） =λA +λ B.  </p><h4 id="矩阵乘矩阵"><a href="#矩阵乘矩阵" class="headerlink" title="矩阵乘矩阵"></a>矩阵乘矩阵</h4><p><em>定义4 设A=（ai）j 是一个m×s矩阵， B=（bi）j 是一个s×n矩阵， 那么规定矩<br>阵 A 与矩阵 B 的乘积是一个 m×n 矩阵 C =（cij）</em></p><p><strong>必须注意： 只有当第一个矩阵（左矩阵） 的列数等于第二个矩阵（右矩阵） 的<br>行数时， 两个矩阵才能相乘</strong></p><p>*<em>总之， 矩阵的乘法不满足交换律， 即在一般情形下， A B≠ BA *</em><br>$$<br>（i） （A B） C = A（B C） ；<br>$$</p><p>$$<br>（ii） λ（A B） =（λA） B = A（λB） （其中λ 为数） ；<br>$$</p><p>$$<br>（iii） A（B + C） = A B +A C， （B + C） A = BA + CA.<br>$$</p><p>$$<br>对于单位矩阵 E， 容易验证E m A m × n = A m × n， A m × n E n = A m × n，或简写成E A = A E = A .<br>$$</p><h4 id="矩阵的幂"><a href="#矩阵的幂" class="headerlink" title="矩阵的幂"></a>矩阵的幂</h4><p>$$<br>A kA l = A k+l， （A k） l = A kl<br>$$</p><p>$$<br>又因矩阵乘法一般不满足交换律， 所以对于两个 n 阶矩阵 A与 B， 一般说来（A B） k≠ A k B k， 只有当 A 与 B 可交换时， 才有（A B） k = A k B k<br>$$</p><p><em>例如（A +B） 2 = A 2 +2A B + B 2、 （A - B） （A + B） = A 2 - B 2 等公式， 也只有当 A与 B 可交换时才成立</em></p><hr><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="线性代数" scheme="http://tianyong.fun/categories/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/"/>
    
    
  </entry>
  
</feed>
