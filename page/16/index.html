<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>田勇的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="欢迎来到我的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="田勇的博客">
<meta property="og:url" content="http://tianyong.fun/page/16/index.html">
<meta property="og:site_name" content="田勇的博客">
<meta property="og:description" content="欢迎来到我的博客">
<meta property="article:author" content="TTYONG">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="田勇的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet">
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 4.2.0"></head></html>
<!-- 样式一（鼠标点击更换样式） -->
<script src="https://g.joyinshare.com/hc/ribbon.min.js" type="text/javascript"></script>
<!-- 样式二（飘动的彩带） -->
<script src="https://g.joyinshare.com/hc/piao.js" type="text/javascript"></script>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">TTYONG</a></h1>
        </hgroup>

        
        <p class="header-subtitle">比你优秀的人都努力，有什么理由不努力！</p>
        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/Home">博客首页</a></li>
                        
                            <li><a href="/works">作品展示</a></li>
                        
                            <li><a href="/about">留言打卡</a></li>
                        
                            <li><a href="/FrontEndGuide">前端导航</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail" rel="external nofollow noopener noreferrer">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/luuman" title="github" rel="external nofollow noopener noreferrer">github</a>
                            
                                <a class="fl zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo" target="_blank" href="#" title="weibo">weibo</a>
                            
                                <a class="fl google" target="_blank" href="#" title="google">google</a>
                            
                                <a class="fl twitter" target="_blank" href="#" title="twitter">twitter</a>
                            
                                <a class="fl linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/ALTER/" style="font-size: 10px;">ALTER</a> <a href="/tags/APlayer/" style="font-size: 10px;">APlayer</a> <a href="/tags/CDN/" style="font-size: 10px;">CDN</a> <a href="/tags/CREATE/" style="font-size: 10px;">CREATE</a> <a href="/tags/C%E5%9F%BA%E6%9C%AC%E5%B8%B8%E8%AF%86/" style="font-size: 10px;">C基本常识</a> <a href="/tags/C%E7%8A%AF%E7%9A%84%E9%94%99%E8%AF%AF/" style="font-size: 10px;">C犯的错误</a> <a href="/tags/DROP/" style="font-size: 10px;">DROP</a> <a href="/tags/HDFS/" style="font-size: 20px;">HDFS</a> <a href="/tags/Hadoop/" style="font-size: 16.67px;">Hadoop</a> <a href="/tags/Hbase/" style="font-size: 10px;">Hbase</a> <a href="/tags/Hexo/" style="font-size: 13.33px;">Hexo</a> <a href="/tags/Hive/" style="font-size: 10px;">Hive</a> <a href="/tags/Mapreduce/" style="font-size: 10px;">Mapreduce</a> <a href="/tags/Pig/" style="font-size: 10px;">Pig</a> <a href="/tags/SELECT/" style="font-size: 10px;">SELECT</a> <a href="/tags/SEO/" style="font-size: 13.33px;">SEO</a> <a href="/tags/SQL/" style="font-size: 16.67px;">SQL</a> <a href="/tags/TOC/" style="font-size: 10px;">TOC</a> <a href="/tags/Text/" style="font-size: 10px;">Text</a> <a href="/tags/URL/" style="font-size: 10px;">URL</a> <a href="/tags/beautifulSoup/" style="font-size: 10px;">beautifulSoup</a> <a href="/tags/bs4/" style="font-size: 10px;">bs4</a> <a href="/tags/charles/" style="font-size: 10px;">charles</a> <a href="/tags/charless/" style="font-size: 10px;">charless</a> <a href="/tags/draft/" style="font-size: 10px;">draft</a> <a href="/tags/eclipse/" style="font-size: 10px;">eclipse</a> <a href="/tags/encrypt/" style="font-size: 10px;">encrypt</a> <a href="/tags/hadoop/" style="font-size: 10px;">hadoop</a> <a href="/tags/hadoop%E6%BA%90%E7%A0%81/" style="font-size: 10px;">hadoop源码</a> <a href="/tags/hdfs/" style="font-size: 10px;">hdfs</a> <a href="/tags/hexo/" style="font-size: 20px;">hexo</a> <a href="/tags/hive/" style="font-size: 10px;">hive</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/mapreduce/" style="font-size: 10px;">mapreduce</a> <a href="/tags/nofollw/" style="font-size: 10px;">nofollw</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/pymongo/" style="font-size: 10px;">pymongo</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/python%E7%88%AC%E8%99%AB/" style="font-size: 10px;">python爬虫</a> <a href="/tags/request%E5%BA%93/" style="font-size: 10px;">request库</a> <a href="/tags/re%E5%BA%93/" style="font-size: 10px;">re库</a> <a href="/tags/seo/" style="font-size: 16.67px;">seo</a> <a href="/tags/seo%E4%BC%98%E5%8C%96/" style="font-size: 13.33px;">seo优化</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/urllib/" style="font-size: 10px;">urllib</a> <a href="/tags/vmware/" style="font-size: 10px;">vmware</a> <a href="/tags/xpath/" style="font-size: 10px;">xpath</a> <a href="/tags/yarn/" style="font-size: 10px;">yarn</a> <a href="/tags/zookeeper/" style="font-size: 10px;">zookeeper</a> <a href="/tags/%E4%B9%B1%E7%A0%81/" style="font-size: 13.33px;">乱码</a> <a href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" style="font-size: 10px;">二分查找</a> <a href="/tags/%E4%BA%8C%E7%BB%B4%E7%A0%81/" style="font-size: 10px;">二维码</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 13.33px;">优化</a> <a href="/tags/%E5%85%B3%E9%94%AE%E8%AF%8D%E4%B8%8E%E6%8F%8F%E8%BF%B0/" style="font-size: 10px;">关键词与描述</a> <a href="/tags/%E5%88%9B%E5%BB%BA%E8%A1%A8/" style="font-size: 10px;">创建表</a> <a href="/tags/%E5%88%A0%E9%99%A4/" style="font-size: 10px;">删除</a> <a href="/tags/%E5%88%A0%E9%99%A4%E8%A1%A8/" style="font-size: 10px;">删除表</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 10px;">加密</a> <a href="/tags/%E5%8A%A0%E9%80%9F/" style="font-size: 10px;">加速</a> <a href="/tags/%E5%8C%85%E5%AF%BC%E5%85%A5/" style="font-size: 10px;">包导入</a> <a href="/tags/%E5%8D%95%E8%AF%8D/" style="font-size: 10px;">单词</a> <a href="/tags/%E5%8E%8B%E7%BC%A9%E6%96%87%E4%BB%B6/" style="font-size: 10px;">压缩文件</a> <a href="/tags/%E5%91%BD%E4%BB%A4/" style="font-size: 13.33px;">命令</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" style="font-size: 10px;">命令行</a> <a href="/tags/%E5%9B%BE%E7%89%87/" style="font-size: 10px;">图片</a> <a href="/tags/%E5%9C%86%E8%A7%92/" style="font-size: 10px;">圆角</a> <a href="/tags/%E5%A4%96%E9%93%BE/" style="font-size: 10px;">外链</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%A1%8C%E4%B8%9A%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98/" style="font-size: 10px;">大数据行业项目部署实战</a> <a href="/tags/%E5%A4%B4%E5%83%8F/" style="font-size: 10px;">头像</a> <a href="/tags/%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90/" style="font-size: 10px;">好友推荐</a> <a href="/tags/%E5%AD%97%E6%95%B0/" style="font-size: 10px;">字数</a> <a href="/tags/%E5%AE%9E%E9%AA%8C%E8%AF%BE/" style="font-size: 13.33px;">实验课</a> <a href="/tags/%E5%AF%B9%E9%BD%90/" style="font-size: 10px;">对齐</a> <a href="/tags/%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7/" style="font-size: 10px;">封装成帧</a> <a href="/tags/%E5%B4%94%E5%BA%86%E6%89%8D/" style="font-size: 13.33px;">崔庆才</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95/" style="font-size: 10px;">常用用法</a> <a href="/tags/%E5%BB%96%E9%9B%AA%E5%B3%B0/" style="font-size: 13.33px;">廖雪峰</a> <a href="/tags/%E5%BC%80%E5%90%AF/" style="font-size: 10px;">开启</a> <a href="/tags/%E5%BC%82%E5%B8%B8/" style="font-size: 13.33px;">异常</a> <a href="/tags/%E5%BC%95%E7%94%A8/" style="font-size: 10px;">引用</a> <a href="/tags/%E5%BC%95%E7%94%A8%E8%87%AA%E5%B7%B1%E6%96%87%E7%AB%A0/" style="font-size: 10px;">引用自己文章</a> <a href="/tags/%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A3%80%E6%B5%8BCRC/" style="font-size: 10px;">循环冗余检测CRC</a> <a href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 10px;">快捷键</a> <a href="/tags/%E6%89%80%E6%80%9D%E6%89%80%E6%83%B3/" style="font-size: 10px;">所思所想</a> <a href="/tags/%E6%89%93%E8%B5%8F/" style="font-size: 10px;">打赏</a> <a href="/tags/%E6%8E%92%E7%89%88/" style="font-size: 10px;">排版</a> <a href="/tags/%E6%8E%A8%E9%80%81/" style="font-size: 10px;">推送</a> <a href="/tags/%E6%91%98%E5%BD%95/" style="font-size: 10px;">摘录</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89/" style="font-size: 10px;">数据定义</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0/" style="font-size: 10px;">数据更新</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/" style="font-size: 10px;">数据查询</a> <a href="/tags/%E6%97%8B%E8%BD%AC/" style="font-size: 10px;">旋转</a> <a href="/tags/%E6%A0%87%E9%A2%98%E4%BC%98%E5%8C%96/" style="font-size: 10px;">标题优化</a> <a href="/tags/%E6%A6%82%E8%BF%B0/" style="font-size: 10px;">概述</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">正则表达式</a> <a href="/tags/%E6%BF%80%E6%B4%BB/" style="font-size: 10px;">激活</a> <a href="/tags/%E7%81%AB%E8%BD%A6%E8%AE%A2%E7%A5%A8%E7%B3%BB%E7%BB%9F/" style="font-size: 13.33px;">火车订票系统</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 13.33px;">爬虫</a> <a href="/tags/%E7%89%9B%E9%A1%BF%E6%B3%95/" style="font-size: 10px;">牛顿法</a> <a href="/tags/%E7%89%A9%E7%90%86%E5%B1%82/" style="font-size: 10px;">物理层</a> <a href="/tags/%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">直接插入排序</a> <a href="/tags/%E7%9B%B4%E9%93%BE/" style="font-size: 10px;">直链</a> <a href="/tags/%E7%A0%B4%E8%A7%A3/" style="font-size: 10px;">破解</a> <a href="/tags/%E7%A8%80%E7%96%8F%E5%90%91%E9%87%8F/" style="font-size: 10px;">稀疏向量</a> <a href="/tags/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" style="font-size: 10px;">第二章</a> <a href="/tags/%E7%BA%A6%E6%9D%9F/" style="font-size: 10px;">约束</a> <a href="/tags/%E7%BA%A6%E6%9D%9F%E7%B1%BB%E5%9E%8B/" style="font-size: 10px;">约束类型</a> <a href="/tags/%E7%BA%BF%E6%80%A7%E5%88%86%E7%B1%BB%E5%99%A8/" style="font-size: 10px;">线性分类器</a> <a href="/tags/%E7%BB%93%E6%9E%84/" style="font-size: 10px;">结构</a> <a href="/tags/%E8%8D%89%E7%A8%BF/" style="font-size: 10px;">草稿</a> <a href="/tags/%E8%A7%86%E5%9B%BE/" style="font-size: 10px;">视图</a> <a href="/tags/%E8%A7%A3%E7%A0%81/" style="font-size: 10px;">解码</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">计算机网络</a> <a href="/tags/%E8%AF%84%E8%AE%BA/" style="font-size: 10px;">评论</a> <a href="/tags/%E8%AF%AD%E6%B3%95/" style="font-size: 16.67px;">语法</a> <a href="/tags/%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93/" style="font-size: 10px;">透明传输</a> <a href="/tags/%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF/" style="font-size: 13.33px;">阅读时长</a> <a href="/tags/%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE/" style="font-size: 10px;">音乐播放</a> <a href="/tags/%E9%A2%84%E6%98%BE%E7%A4%BA/" style="font-size: 10px;">预显示</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://luuman.github.io/" rel="external nofollow noopener noreferrer">name</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">纯海迷、爱运动、爱交友、爱旅行、喜欢接触新鲜事物、迎接新的挑战，更爱游离于错综复杂的编码与逻辑中</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">TTYONG</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">TTYONG</a></h1>
            </hgroup>
            
            <p class="header-subtitle">比你优秀的人都努力，有什么理由不努力！</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/Home">博客首页</a></li>
                
                    <li><a href="/works">作品展示</a></li>
                
                    <li><a href="/about">留言打卡</a></li>
                
                    <li><a href="/FrontEndGuide">前端导航</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail" rel="external nofollow noopener noreferrer">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/luuman" title="github" rel="external nofollow noopener noreferrer">github</a>
                    
                        <a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
                    
                        <a class="google" target="_blank" href="#" title="google">google</a>
                    
                        <a class="twitter" target="_blank" href="#" title="twitter">twitter</a>
                    
                        <a class="linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-python的HTTP请求库-Urllib" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/python%E7%9A%84HTTP%E8%AF%B7%E6%B1%82%E5%BA%93-Urllib.html" class="article-date">
      <time datetime="2020-04-04T07:03:06.000Z" itemprop="datePublished">2020-04-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/python%E7%9A%84HTTP%E8%AF%B7%E6%B1%82%E5%BA%93-Urllib.html">python的HTTP请求库-Urllib</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>





<h1 id="使用urrlib"><a href="#使用urrlib" class="headerlink" title="使用urrlib"></a>使用urrlib</h1><p><strong><a href="https://docs.python.Org/3/library/urllib.html" target="_blank" rel="external nofollow noopener noreferrer">Urllib官方文档</a></strong></p>
<p><em>是python的内置的HTTP请求库</em></p>
<p>python3不存在urllib2的说法，统一为urllib*</p>
<h2 id="包括如下四个模块："><a href="#包括如下四个模块：" class="headerlink" title="包括如下四个模块："></a>包括如下四个模块：</h2><ul>
<li>request</li>
</ul>
<p><em>它是最基本的HTTP请求模块，可以用来模拟发送请求。就像在浏览器里输入网址<br>然后回车一样，只需要给库方法传入U R L 以及额外的参数，就可以模拟实现这个过程了</em></p>
<ul>
<li>error</li>
</ul>
<p><em>异常处理模块，如果出现请求错误，我们可以捕获这些异常，然后进行重试或其他操<br>作以保证程序不会意外终止</em></p>
<ul>
<li>parse</li>
</ul>
<p><em>一个工具模块，提供了许多URL处理方法，比如拆分、解析 、合并等</em></p>
<ul>
<li>robotparser</li>
</ul>
<p><em>主要是用来识别网站的robots.txt文件，然后判断哪些网站可以爬，哪些网站不<br>可以爬，它其实用得比较少。</em></p>
<h2 id="发送请求"><a href="#发送请求" class="headerlink" title="发送请求"></a>发送请求</h2><p><em>使 用 urllib的 request模块，我们可以方便地实现请求的发送并得到响应</em></p>
<h3 id="urlopen"><a href="#urlopen" class="headerlink" title="urlopen()"></a>urlopen()</h3><p><strong><a href="https://docs.python.Org/3/library/urllib.request.htmlo" target="_blank" rel="external nofollow noopener noreferrer">urlopen()官方文档</a></strong></p>
<p><strong>urllib .request</strong>模 块 提 供 了 最 基 本 的 构 造HTTP请 求 的 方 法 ，利用它可以模拟浏览器的一个请求发 起 过 程 ，同 时 它 还 带 有 处 理<strong>授 权 验 证 (authenticaton )</strong>、<strong>重 定 向 (redirection)、 浏 览 器 Cookies</strong>以及其他内容 。</p>
<h4 id="请求方法urllib-request"><a href="#请求方法urllib-request" class="headerlink" title="请求方法urllib.request"></a>请求方法urllib.request</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line">response = urllib.request.urlopen(url)</span><br><span class="line">print(type(response)) <span class="comment"># &lt;class 'http.client.HTTPResponse'&gt;</span></span><br><span class="line">print(response.read().decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure>

<h5 id="响应response常用方法"><a href="#响应response常用方法" class="headerlink" title="响应response常用方法"></a>响应response常用方法</h5><p><em>response是一个 HTTPResposne 类 型 的 对 象 ，主要包含 read(), readinto(), getheader(name),getheaders(), fileno ()等 方 法 ，以及 msg、 version, status, reason, debuglevel, closed 等 属 性 。</em>  </p>
<ul>
<li>read()</li>
</ul>
<p><em>获取响应体</em></p>
<ul>
<li>status</li>
</ul>
<p><em>响应状态码</em></p>
<ul>
<li>getheaders()</li>
</ul>
<p><em>获取响应头</em></p>
<ul>
<li>getheaders(‘server’)</li>
</ul>
<p><em>输入参数server，返回服务器类型</em></p>
<h5 id="链接传参"><a href="#链接传参" class="headerlink" title="链接传参"></a>链接传参</h5><p>urllib.request.urlopen(url, data=None, [timeout, ]*, cafile=None, capath=None, cadefault=False, context=None)  </p>
<ul>
<li>data</li>
</ul>
<p><em>data参数是可选的。如果要添加该参数，并且<strong>如果它是字节流编码格式的内容，即 bytes类型，则需要通过bytes()方法转化</strong>。另外，如果传递了这个参数，则它的请求方式就不再是GET方式，而是 POST方式</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">data = bytes(urllib.parse.urlencode(&#123;<span class="string">'word'</span>: <span class="string">'hello'</span>&#125;), encoding=<span class="string">'utf-8'</span>) <span class="comment"># urlencode()将字典转换为字符串；bytes()将字符串转换为字节流</span></span><br><span class="line">response = urllib.request.urlopen(url, data=data)</span><br></pre></td></tr></table></figure>



<p><strong><a href="http://httpbin.org" target="_blank" rel="external nofollow noopener noreferrer">http://httpbin.org</a></strong>提供HTTP测试</p>
<p><strong><a href="http://httpbin.org/post" target="_blank" rel="external nofollow noopener noreferrer">http://httpbin.org/post</a></strong>提供POST测试</p>
<ul>
<li>timeout</li>
</ul>
<p><em>timeout参数用于设置超时时间，单位为秒，意思就是如果请求超出了设置的这个时间，还没有得到响应，就会抛出异常。如果不指定该参数，就会使用全局默认时间。</em>  </p>
<p><strong>超时报urllib.error.URLError</strong></p>
<p>使用try except:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.error</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    response = urllib.request.urlopen(url, timeout=<span class="number">1</span>)</span><br><span class="line"><span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="keyword">if</span> isinstance(e.reason, socket.timeout):</span><br><span class="line">        print(<span class="string">"Time Out"</span>)</span><br></pre></td></tr></table></figure>



<ul>
<li>其它参数</li>
</ul>
<p><strong>context</strong></p>
<p><em>它必须是ssl.SSLContext类型，用来指定SSL设置</em></p>
<p><strong>cafile和capath</strong></p>
<p><em>这两个参数分别指定C A 证书和它的路径，这个在请求HTTPS链接时会<br>有用</em></p>
<h3 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h3><p><em>urlopen只能用于简单的请求</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">request = urllib.request.Request(url)</span><br><span class="line">response = urllib.request.urlopen(request)</span><br><span class="line">print(response.read().decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure>

<p><em>可以发现，我们依然是用urlopen()方法来发送这个请求，只不过这次该方法的参数不再是URL,而是一个Request类型的对象。通过构造这个数据结构，一方面我们可以将请求独立成一个对象，另一方面可更加丰富和灵活地配置参数。</em></p>
<h4 id="构造请求"><a href="#构造请求" class="headerlink" title="构造请求"></a>构造请求</h4><p>  *<em>urllib.request.Request(url, data=None, headers={},origin_req_host=None, unverifiable=False, method=None)  *</em></p>
<ul>
<li>data</li>
</ul>
<p><em>data 如果要传，必须传bytes (字节流 )类型的 。如果它是字典，可以先用<br>urllib.parse 模块里的 urlencode()编码</em></p>
<ul>
<li>headers</li>
</ul>
<p><em>headers是一个字典，它就是请求头，我们可以在构造请求时通过headers参数直接构造，也可以通过调用请求实例的add_header()方法添加。</em>  </p>
<p><em>添加请求头最常用的用法就是通过修改User-Agent来伪装浏览器，默 认 的 User-Agent是Python-urllib,我们可以通过修改它来伪装浏览器。比如要伪装火狐浏览器，你可以把它设置为：</em><br><strong>Mozilla/5.0 (X11; U; Linux i686) Gecko/20071127 Firefox/2.0.0.11</strong>  </p>
<ul>
<li>origin_req_host</li>
</ul>
<p><em>origin_req_host指的是请求方的host名称或者IP 地址</em></p>
<ul>
<li>unverifiable</li>
</ul>
<p><em>unverifiable表示这个请求是否是无法验证的，默认是F a ls e ,意思就是说用户没有足够权限来选择接收这个请求的结果。例如，我们请求一个HTML文档中的图片，但是我们没有自动抓取图像的权限，这 时 u nverifiable的值就是True。</em>  </p>
<ul>
<li>method</li>
</ul>
<p><em>method是一个字符串，用来指示请求使用的方法，比如GET、 POST和 PUT等。</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line">dict = &#123;<span class="string">"a"</span>: <span class="string">"b"</span>&#125;</span><br><span class="line">data = bytes(urllib.parse.urlencode(dict), encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'.....'</span></span><br><span class="line">    <span class="string">'Host'</span>: <span class="string">'httpbin.org'</span></span><br><span class="line">&#125;</span><br><span class="line">request = urllib.request.Request(url, data=data, headers=headers, method=<span class="string">'POST'</span>)</span><br><span class="line"><span class="comment"># request.add_header('user-agent')也可以</span></span><br><span class="line">response = urllib.request.urlopen(request)</span><br></pre></td></tr></table></figure>



<h4 id="高级用法"><a href="#高级用法" class="headerlink" title="高级用法"></a>高级用法</h4><h5 id="Handler"><a href="#Handler" class="headerlink" title="Handler"></a>Handler</h5><p>[handler官方文档](<a href="https://docs.python" target="_blank" rel="external nofollow noopener noreferrer">https://docs.python</a>.<br>org/3/library/urllib.request.html#urllib.request.BaseHandlero  )</p>
<p><em>上面无法处理代理，cookies的情况</em></p>
<p><em>简而言之，我们可以把它理解为各种处理器， 有专门处理登录验证的，有处理 Cookies的，有处理代理设置的。利用它们，我们几乎可以做到HTTP请求中所有的事情。</em>  </p>
<p><em>首先，介绍一下urllib.request模块里的BaseHandler类 ，它是所有其他Handler的父类， 它提供了最基本的方法，例如 default_open(). protocol_request()等。</em></p>
<p><strong>有各种Handler子类继承这个BaseHandler类，举例如下 ：</strong></p>
<p>□ HTTPDefaultErrorHandler： 用于处理HTTP响应错误，错误都会抛岀HTTPError类型的异常。<br>□ HTTPRedirectHandler: 用于处理重定向。<br>□ HTTPCookieProcessor: 用于处理 Cookies<br>□ ProxyHandler： 用于设置代理，默认代理为空。<br>□ HTTPPasswordMgr： 用于管理密码，它维护了用户名和密码的表。<br>□ HTTPBasicAuthHandler： 用于管理认证，如果一个链接打开时需要认证，那么可以用它来解决认证问题。  </p>
<h6 id="OpenerDirector"><a href="#OpenerDirector" class="headerlink" title="OpenerDirector"></a>OpenerDirector</h6><p><em>那么，为什么要引入Opener呢？因为需要实现更高级的功能。之前使用的Request和 urlopen()相当于类库为你封装好了极其常用的请求方法，利用它们可以完成基本的请求，但是现在不一样了，我们需要实现更高级的功能，所以需要深入一层进行配置，使用更底层的实例来完成操作，所以这里就用到了 0pener</em></p>
<p><strong>当打开网页弹出提示框要求输入密码，账号时：</strong></p>
<p><a href="https://imgchr.com/i/G0g65F" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/G0g65F.png" alt="G0g65F.png" border="0"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> HTTPPasswordMgrWithDefaultRealm, HTTPBasicAuthHandler, build_opener</span><br><span class="line"><span class="keyword">from</span> urllib.error <span class="keyword">import</span> URLError</span><br><span class="line">username = <span class="string">'username'</span></span><br><span class="line">password = <span class="string">'password'</span></span><br><span class="line">url = <span class="string">'http://localhost:5000/'</span></span><br><span class="line">p = HTTPPasswordMgrWithDefaultRealm()</span><br><span class="line">p.add_password(<span class="literal">None</span>, url, username, password)</span><br><span class="line">auth_handler = HTTPBasicAuthHandler(p)</span><br><span class="line">opener = build_opener(auth_handler)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	result = opener.open(url)</span><br><span class="line">	html = result.read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line">	print(html)</span><br><span class="line"><span class="keyword">except</span> URLError <span class="keyword">as</span> e:</span><br><span class="line">	print(e.reason)</span><br></pre></td></tr></table></figure>



<h6 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.error <span class="keyword">import</span> URLError</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> ProxyHandler, build_opener</span><br><span class="line">proxy_handler = ProxyHandler(&#123;</span><br><span class="line"><span class="string">'http'</span>: <span class="string">'http://127.0.0.1:9743'</span>,</span><br><span class="line"><span class="string">'https'</span>: <span class="string">'https://127.0.0.1:9743'</span></span><br><span class="line">&#125;)</span><br><span class="line">opener = build_opener(proxy_handler)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	response = opener.open(<span class="string">'https://www.baidu.com'</span>)</span><br><span class="line">	print(response.read().decode(<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="keyword">except</span> URLError <span class="keyword">as</span> e:</span><br><span class="line">	print(e.reason)</span><br></pre></td></tr></table></figure>



<h6 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h6><p><em>Cookies的处理就需要相关的Handler 了</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> http.cookiejar, urllib.request</span><br><span class="line">cookie = http.cookiejar.CookieJar()</span><br><span class="line">handler = urllib.request.HTTPCookieProcessor(cookie)</span><br><span class="line">opener = urllib.request.build_opener(handler)</span><br><span class="line">response = opener.open(<span class="string">'http://www.baidu.com'</span>)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> cookie:</span><br><span class="line">	print(item.name+<span class="string">"="</span>+item.value)</span><br></pre></td></tr></table></figure>



<h2 id="处理异常"><a href="#处理异常" class="headerlink" title="处理异常"></a>处理异常</h2><h3 id="URLError"><a href="#URLError" class="headerlink" title="URLError"></a>URLError</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request, error</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    response = request.urlopen(url)</span><br><span class="line"><span class="keyword">except</span> error.URLError <span class="keyword">as</span> e:</span><br><span class="line">    print(e.reason)</span><br></pre></td></tr></table></figure>





<h3 id="HTTPError"><a href="#HTTPError" class="headerlink" title="HTTPError"></a>HTTPError</h3><p><em>它是URLError的子类，专门用来处理HTTP请求错误</em></p>
<p> 有如下三个属性：</p>
<ul>
<li>code</li>
</ul>
<p><em>返 回 HTTP状态码，比如404表示网页不存在， 500表示服务器内部错误等。</em></p>
<ul>
<li>reason</li>
</ul>
<p><em>同父类一样，用于返回错误的原因。</em></p>
<ul>
<li>headers</li>
</ul>
<p><em>返回请求头。</em></p>
<h2 id="解析链接"><a href="#解析链接" class="headerlink" title="解析链接"></a>解析链接</h2><p><em>前面说过， urllib库里还提供了 parse模 块 ，它定义了处理URL的标准接口，例如实现URL各部分的抽取、合并以及链接转换。它支持如下协议的URL处 理 ： file, ftp、 gophers hdl、 http、 https、 imap、<br>mailto、 mms、 news、 nntp、 prosper。、 rsync、 rtsp、 rtspu、 sftp、 sip、 sips、 snews、 svn、 svn+ssh. telnet和 wais</em></p>
<h3 id="urlparse"><a href="#urlparse" class="headerlink" title="urlparse()"></a>urlparse()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlparse</span><br><span class="line"> result=urlparse(<span class="string">'http://www.baidu.com/index.html;user?id=5#comment'</span>)</span><br><span class="line"> print(type(result), result)   </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&lt;<span class="class"><span class="keyword">class</span> '<span class="title">urllib</span>.<span class="title">parse</span>.<span class="title">ParseResult</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">ParseResult</span><span class="params">(scheme=<span class="string">'http'</span>, netloc=<span class="string">'www.baidu.com'</span>, path=<span class="string">'/index.htmT, params='</span>use<span class="string">r', query='</span>id=<span class="number">5</span><span class="string">',</span></span></span></span><br><span class="line"><span class="class"><span class="params"><span class="string">fragment='</span>comment<span class="string">')</span></span></span></span><br></pre></td></tr></table></figure>

<p><em>可以看到，返回结果是一个ParseResult类型的对象，它 包 含 6 个部分，分另U是 scheme, netloc.path、 param， squery， fragment</em></p>
<p><em>result可以用元组的概念，也可以用属性来获取各部分</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(result[<span class="number">0</span>], result.params)</span><br></pre></td></tr></table></figure>



<h4 id="urlparse-API"><a href="#urlparse-API" class="headerlink" title="urlparse API"></a>urlparse API</h4><p>urllib.parse.urlparse(urlstring, scheme=’ ‘,  allow_fragments=True)</p>
<ul>
<li>urlstring </li>
</ul>
<ul>
<li>scheme</li>
</ul>
<p><em>当传入的url没有协议时，可以指定scheme参数为http/https</em></p>
<p><em>当本身就有协议，有传参为不同的协议，则会输出本身的协议</em></p>
<ul>
<li>allow_fragments</li>
</ul>
<p><em>设置为false时，结果就不会有fragments这一部分</em></p>
<p><em>当参数为false且链接中没有params和query时，fragment便会解析为path内容的一部分</em></p>
<h3 id="urlunparse"><a href="#urlunparse" class="headerlink" title="urlunparse()"></a>urlunparse()</h3><p><em>与urlparse()相反</em></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlunparse</span><br><span class="line">data = [<span class="string">'http'</span>, <span class="string">'www.baidu.com'</span>, <span class="string">'index.html'</span>, <span class="string">'user'</span>, <span class="string">'a=6'</span>, <span class="string">'comment'</span>]</span><br><span class="line">print(urlunparse(data))</span><br><span class="line">&gt;&gt;&gt; http://www.baidu.com/index.html;user?a=6#comment</span><br></pre></td></tr></table></figure>



<h3 id="urlsplit"><a href="#urlsplit" class="headerlink" title="urlsplit()"></a>urlsplit()</h3><p><em>这个方法和urlparse()方法非常相似，只不过它不再单独解析params这一部分，只返回5 个结果。上面例子中的params会合 并 到 path中。</em></p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlsplit</span><br><span class="line">result = urlsplit(<span class="string">'http://www.baidu.com/index.html;user?id=5#comment'</span>)</span><br><span class="line">print(result)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>SplitResult(scheme=<span class="string">'http'</span>, netloc=<span class="string">'www.baidu.com'</span>, path=<span class="string">'/index.html;user'</span>, query*<span class="string">'id=5*,</span></span><br><span class="line"><span class="string">fragment』 comment'</span>)</span><br></pre></td></tr></table></figure>



<h3 id="urlunsplit"><a href="#urlunsplit" class="headerlink" title="urlunsplit()"></a>urlunsplit()</h3><p><em>与 urlunparse()类似，它也是将链接各个部分组合成完整链接的方法，传入的参数也是一个可迭代对象，例如列表、元组等，唯一的区别是长度必须为5。</em>  </p>
<h3 id="urljoin"><a href="#urljoin" class="headerlink" title="urljoin()"></a>urljoin()</h3><p><em>有了 urlunparse()和 urlunsplit()方 法 ，我们可以完成链接的合并，不过前提必须要有特定长度的对象，链接的每一部分都要清晰分开。</em>  </p>
<p><em>生成链接还有另一个方法，那 就 是 urljoin()方法。我们可以提供一个base_url (基础链接)作为第一个参数，将新的链接作为第二个参数，该方法会分析base_url的 scheme, netloc和 path这 3个内容并对<strong>新链接缺失</strong>的部分进行补充</em> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urljoin</span><br><span class="line">print(urljoin(<span class="string">'http://www.baidu.com'</span>, <span class="string">'FAQ.html'</span>))</span><br><span class="line">print(urljoin(<span class="string">'http://www.baidu.com'</span>, <span class="string">'https://cuiqingcai.com/FAO.html'</span>))</span><br><span class="line">print(urljoin(<span class="string">'http://www.baidu.com/about.html'</span>, <span class="string">'https://cuiqingcai.com/FAO.html'</span>))</span><br><span class="line">print(u:rljoin(<span class="string">'http://www.baidu.com/about.html'</span>, <span class="string">'https://cuiqingcai.com/FAO.html?question=2'</span>))</span><br><span class="line">print(urljoin(<span class="string">'http://www.baidu.com?wd=abc'</span>, <span class="string">'https://cuiqingcai.com/index.php'</span>))</span><br><span class="line">print(urljoin('http://www.baidu.com，, '?category=2#comment'))</span><br><span class="line">print(urljoin(<span class="string">'www.baidu.com'</span>, <span class="string">'?category=2#comment'</span>))</span><br><span class="line">print(urljoin(<span class="string">'www.baidu.com#comment'</span>, <span class="string">'?category=2J)</span></span><br><span class="line"><span class="string">              </span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span></span><br><span class="line"><span class="string">http://www.baidu.com/FAO.html</span></span><br><span class="line"><span class="string">https://cuiqingcai.com/FAO.html</span></span><br><span class="line"><span class="string">https://cuiqingcai.com/FAO.html</span></span><br><span class="line"><span class="string">https://cuiqingcai.com/FAO.html?question=2</span></span><br><span class="line"><span class="string">https://cuiqingcai.com/index.php</span></span><br><span class="line"><span class="string">http://www. baidu. com?ca tego:ry=2#comme nt</span></span><br><span class="line"><span class="string">www.baidu.com?category=2#comment</span></span><br><span class="line"><span class="string">www.baidu.com?category=2</span></span><br></pre></td></tr></table></figure>

<p><em>可以发现， base_url提供了三项内容scheme, netloc和 path。 如果这3 项在新的链接里不存在，就予以补充；如果新的链接存在，就使用新的链接的部分。而 base_url中的 params、 query和 fragment<br>是不起作用的。</em>  </p>
<h3 id="urlencode"><a href="#urlencode" class="headerlink" title="urlencode()"></a>urlencode()</h3><p><em>它 在 构 造 GET请求参数的时候非常有用</em></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlencode</span><br><span class="line">params = &#123;</span><br><span class="line"><span class="string">'name'</span>: <span class="string">'germey'</span>,</span><br><span class="line"><span class="string">'age'</span>: <span class="number">22</span></span><br><span class="line">&#125;</span><br><span class="line">base_url = <span class="string">'http://www.baidu.com?'</span></span><br><span class="line">url = base_url + urlencode(params)</span><br><span class="line">print(url)</span><br><span class="line">&gt;&gt;&gt; http://www.baidu.com?name=germey&amp;age=22</span><br></pre></td></tr></table></figure>



<h3 id="parse-qs"><a href="#parse-qs" class="headerlink" title="parse_qs()"></a>parse_qs()</h3><p><em>有了序列化，必然就有反序列化。如果我们有一串GET请求参数，利 用 parse_qs()方 法 ， 就可以将它转回字典，示例如下</em></p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> parse_qs</span><br><span class="line">query = <span class="string">'name=germey&amp;age=22'</span></span><br><span class="line">print(parse_qs(query))</span><br><span class="line">运行结果如下：</span><br><span class="line">&#123; <span class="string">'name'</span>: [<span class="string">'germey'</span>], <span class="string">'age'</span>: [<span class="string">'22'</span>]&#125;</span><br></pre></td></tr></table></figure>



<h3 id="parse-qsl"><a href="#parse-qsl" class="headerlink" title="parse_qsl()"></a>parse_qsl()</h3><p><em>另外，还 有 一 个 parse_qsl()方 法 ，它用于将参数转化为元组组成的列表</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> parse_qsl</span><br><span class="line">query = <span class="string">'name=germey&amp;age=22'</span></span><br><span class="line">print(parse_qsl(query))</span><br><span class="line">&gt;&gt;&gt;[(<span class="string">'name'</span>, <span class="string">'germey'</span>), (<span class="string">'age'</span>, <span class="string">'22'</span>)]</span><br></pre></td></tr></table></figure>



<h3 id="quote"><a href="#quote" class="headerlink" title="quote()"></a>quote()</h3><p><em>该方法可以将内容转化为U RL编码的格式。 U R L 中带有中文参数时，有时可能会导致乱码的问题 ，此时用这个方法可以将中文字符转化为URL编码</em>  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote</span><br><span class="line">keyword = <span class="string">'壁纸'</span></span><br><span class="line">url = <span class="string">'https://www.baidu.com/s?wd='</span> + quote(keyword)</span><br><span class="line">prin t(url)</span><br><span class="line">&gt;&gt;&gt; https://www. baidu. com/s?wd=%E 5%A3%81%E7%BA%B8</span><br></pre></td></tr></table></figure>



<h3 id="unquote"><a href="#unquote" class="headerlink" title="unquote()"></a>unquote()</h3><p><em>有了 quote。 方法，当然还有unquote()方法，它可以进行URL解 码</em></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> unquote</span><br><span class="line">url = <span class="string">'https://www.baidu.com/s7wdn%E5%A3%81%E7%BA%B8'</span></span><br><span class="line">print(unquote(url))</span><br><span class="line">这是上面得到的URL编码后的结果，这里 利 用 unquote()方法还原，结果如下：</span><br><span class="line">https://www.baidu. com/s?wd=壁纸</span><br></pre></td></tr></table></figure>



<h2 id="分析Robots协议"><a href="#分析Robots协议" class="headerlink" title="分析Robots协议"></a>分析Robots协议</h2><h3 id="Robots协议"><a href="#Robots协议" class="headerlink" title="Robots协议"></a>Robots协议</h3><p><em>Robots协议也称作爬虫协议、机器人协议，它的全名叫作网络爬虫排除标准( Robots Exclusion Protocol) , 用来告诉爬虫和搜索引擎哪些页面可以抓取，哪些不可以抓取。它通常是一个叫作robots.txt<br>的文本文件，一般放在网站的根目录下</em>  </p>
<p><em>robots.txt文件可以为空</em></p>
<p><em>一个爬虫爬取一个网站时，首先会看是否存在robots.txt,然后在按内容爬取；如果不存在则直接爬取</em></p>
<p><em>Allow 一 般 和 Disallow 一 起 使 用 ，一般不会单独使用</em></p>
<ul>
<li>禁止所有爬虫爬取任何目录</li>
</ul>
<p>User-agent: *<br>Disallow: /  </p>
<ul>
<li>允许所有爬虫爬取任意目录</li>
</ul>
<p>User-agent: *<br>Disallow:  </p>
<ul>
<li>禁止所有爬虫爬取某些目录</li>
</ul>
<p>User-agent: *<br>Disallow: /private/<br>Disallow: /tmp/  </p>
<ul>
<li>只允许某一个爬虫爬取爬取</li>
</ul>
<p>User-agent: Webcrawler<br>Disallow:<br>User-agent: *<br>Disallow: /  </p>
<h3 id="爬虫名称"><a href="#爬虫名称" class="headerlink" title="爬虫名称"></a>爬虫名称</h3><p><em>大家可能会疑惑，爬虫名是哪儿来的？为什么就叫这个名？其实它是有固定名字的了，比如百度的就叫作BaiduSpider</em></p>
  <img src="https://s1.ax1x.com/2020/04/05/GDPj7n.png" alt="GDPj7n.png" border="0">



<h3 id="robotparser"><a href="#robotparser" class="headerlink" title="robotparser"></a>robotparser</h3><p>*了 解 Robots协议之后， 我们就可以使用robotparser模块来解析robots.txt 了。该模块提供了一个类 R obotFileParser,它可以根据某网站的robots.txt文件来判断一个爬取爬虫是否有权限来爬取这个</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">urllib.robotparser.RobotFileParser(url)</span><br><span class="line"><span class="comment"># 等同于</span></span><br><span class="line">rp = urllib.robotparser.RobotFileParser()</span><br><span class="line">rp.set_url(url)</span><br></pre></td></tr></table></figure>

<p>这个类常用方法：</p>
<ul>
<li><p>set_url</p>
<p><em>实例化这个类时传入了url，就不需要这个方法了</em></p>
</li>
<li><p>read()</p>
<p><em>读 取 robots.txt文件并进行分析。注意，这个方法执行一个读取和分析操作，如果不调用这个方法，接下来的 判 断 都 会 为F a ls e ,所以一定记得调用这个方法。这个方法不会返回任何内容，但是执行了读取操作。</em>  </p>
<p><strong>直接传入url和set_url()需要执行read(), 使用parse()不需要使用</strong></p>
</li>
<li><p>parse()</p>
</li>
</ul>
<p><em>用来解析robots.txt文件，传入的参数是robots.txt某些行的内容，它会按照robots.txt的语法规则来分析这些内容。</em>  </p>
<p><strong>传入的可以是数组，元组</strong></p>
<ul>
<li><p>can_fetch()</p>
<p><em>该方法传入两个参数，第一个是U ser-agent,第二个是要抓取的URL。 返回的内容是该搜索引擎是否可以抓取这个U R L ,返回结果是True或 False。</em>  </p>
</li>
<li><p>mtime()</p>
<p><em>该方法传入两个参数，第一个是U ser-agent,第二个是要抓取的URL。 返回的内容是该搜索引擎是否可以抓取这个U R L ,返回结果是True或 False。</em>  </p>
</li>
<li><p>modified()</p>
<p><em>它同样对长时间分析和抓取的搜索爬虫很有帮助，将当前时间设置为上次抓取和分析robots.txt的时间。</em>  </p>
</li>
</ul>
<p><em>使用can_fetch()</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.robotparser <span class="keyword">import</span> RobotFileParser</span><br><span class="line"></span><br><span class="line">rp = RobotFileParser(<span class="string">'url/robots.txt'</span>)</span><br><span class="line">rp.read()</span><br><span class="line">print(rp.can_fetch(<span class="string">'*'</span>, <span class="string">'某个url'</span>))</span><br></pre></td></tr></table></figure>

<p><em>使用parse()</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.robotparser <span class="keyword">import</span> RobotParser</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"></span><br><span class="line">rp = RobotFileParser()</span><br><span class="line">rp.parse(urlopen(<span class="string">'url/robots.txt'</span>).read().decode(<span class="string">'utf-8'</span>).split(<span class="string">'\n'</span>))</span><br><span class="line">print(rp.can_fetch(<span class="string">'*'</span>, url))</span><br></pre></td></tr></table></figure>





<hr>
<blockquote>
<p>问候不一定要郑重其事，但一定要真诚感人。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E7%88%AC%E8%99%AB/">爬虫</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/urllib/" rel="tag">urllib</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hexo文章内引用自己的文章" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/hexo%E6%96%87%E7%AB%A0%E5%86%85%E5%BC%95%E7%94%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E6%96%87%E7%AB%A0.html" class="article-date">
      <time datetime="2020-04-02T08:00:29.000Z" itemprop="datePublished">2020-04-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hexo%E6%96%87%E7%AB%A0%E5%86%85%E5%BC%95%E7%94%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E6%96%87%E7%AB%A0.html">hexo文章内引用自己的文章</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% post_link 文章文件名（不要后缀） 文章标题（可选） %&#125;</span><br></pre></td></tr></table></figure>













<hr>
<blockquote>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Hexo/">Hexo</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BC%95%E7%94%A8%E8%87%AA%E5%B7%B1%E6%96%87%E7%AB%A0/" rel="tag">引用自己文章</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hadoop理论课-第三章HDFS" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E4%B8%89%E7%AB%A0HDFS.html" class="article-date">
      <time datetime="2020-04-02T03:45:48.000Z" itemprop="datePublished">2020-04-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E4%B8%89%E7%AB%A0HDFS.html">hadoop理论课-第三章HDFS</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="第三章HDFS"><a href="#第三章HDFS" class="headerlink" title="第三章HDFS"></a>第三章HDFS</h2><h3 id="HDFS简介"><a href="#HDFS简介" class="headerlink" title="HDFS简介"></a>HDFS简介</h3><p><em>HDFS是Google公司的GFS分布式文件系统的开源实现</em></p>
<p><em>HDFS是Apache Hadoop项目的一个子项目</em></p>
<p><em>支持海量数据存储，成百上千的计算机组成存储集群</em></p>
<p><em>HDFS可以在低成本的硬件之上，具有高容错，高可靠性，高扩展，高吞吐率等特征</em></p>
<p><em>非常适合大规模数据集的应用</em></p>
<h4 id="HDFS的生态圈"><a href="#HDFS的生态圈" class="headerlink" title="HDFS的生态圈"></a>HDFS的生态圈</h4><img src="https://s1.ax1x.com/2020/04/02/GGoFIJ.png" alt="GGoFIJ.png" border="0">

<h4 id="HDFS优点"><a href="#HDFS优点" class="headerlink" title="HDFS优点"></a>HDFS优点</h4><h5 id="高容错性"><a href="#高容错性" class="headerlink" title="高容错性"></a>高容错性</h5><p><em>数据自动保存多个副本</em></p>
<p><em>副本丢失后，自动恢复</em></p>
<h5 id="适合批处理"><a href="#适合批处理" class="headerlink" title="适合批处理"></a>适合批处理</h5><p><em>移动计算而非移动数据</em></p>
<p><em>移动位置暴露给计算框架</em></p>
<h5 id="适合大数据处理"><a href="#适合大数据处理" class="headerlink" title="适合大数据处理"></a>适合大数据处理</h5><p><em>GB, TB, 甚至PB级数据</em></p>
<p><em>百万规模以上的文件数量</em></p>
<p><em>10k+节点</em></p>
<h5 id="支持流式文件访问"><a href="#支持流式文件访问" class="headerlink" title="支持流式文件访问"></a>支持流式文件访问</h5><p><em>一次写入，多次读取</em></p>
<p><em>保证数据一致性</em></p>
<h5 id="可构建在廉价机器上"><a href="#可构建在廉价机器上" class="headerlink" title="可构建在廉价机器上"></a>可构建在廉价机器上</h5><p><em>通过多副本提高可靠性</em></p>
<p><em>提供容错和恢复机制</em></p>
<h4 id="HDFS缺点"><a href="#HDFS缺点" class="headerlink" title="HDFS缺点"></a>HDFS缺点</h4><h5 id="不适合低延迟数据访问"><a href="#不适合低延迟数据访问" class="headerlink" title="不适合低延迟数据访问"></a>不适合低延迟数据访问</h5><p><em>比如毫秒级</em></p>
<p><em>低延迟与高吞吐率</em></p>
<h5 id="不适合小文件存取"><a href="#不适合小文件存取" class="headerlink" title="不适合小文件存取"></a>不适合小文件存取</h5><p><em>占用NameNode大量内存</em></p>
<p><em>寻找时间超过读取时间</em></p>
<h5 id="不适合并发写入，文件随机修改"><a href="#不适合并发写入，文件随机修改" class="headerlink" title="不适合并发写入，文件随机修改"></a>不适合并发写入，文件随机修改</h5><p><em>一个文件只能有一个写入者</em></p>
<p><em>仅支持append(附加)</em></p>
<h3 id="HDFS的组成与架构"><a href="#HDFS的组成与架构" class="headerlink" title="HDFS的组成与架构"></a>HDFS的组成与架构</h3><h4 id="HDFS基本组件"><a href="#HDFS基本组件" class="headerlink" title="HDFS基本组件"></a>HDFS基本组件</h4><img src="https://s1.ax1x.com/2020/04/02/GGbSfJ.png" alt="GGbSfJ.png" border="0">

<h5 id="NameNode"><a href="#NameNode" class="headerlink" title="NameNode"></a>NameNode</h5><img src="https://s1.ax1x.com/2020/04/02/GGbXjI.png" alt="GGbXjI.png" border="0">

<p><em>edits是日志文件，包含一条条edit log; fsimage是最终结果</em></p>
<img src="https://s1.ax1x.com/2020/04/02/GJec5D.png" alt="GJec5D.png" border="0">

<h5 id="DataNode"><a href="#DataNode" class="headerlink" title="DataNode"></a>DataNode</h5><h6 id="数据块"><a href="#数据块" class="headerlink" title="数据块"></a>数据块</h6><img src="https://s1.ax1x.com/2020/04/02/GJmfFU.png" alt="GJmfFU.png" border="0">

<h6 id="分块原因"><a href="#分块原因" class="headerlink" title="分块原因"></a>分块原因</h6><ul>
<li>一个巨大文件一块磁盘空间不够</li>
<li>利于备份</li>
<li>提高吞吐量(并发读写，计算，利用不同节点存储，减少一个节点的负载)</li>
</ul>
<h6 id="DataNode的主要职责"><a href="#DataNode的主要职责" class="headerlink" title="DataNode的主要职责"></a>DataNode的主要职责</h6><p><a href="https://imgchr.com/i/GJuBKs" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJuBKs.md.png" alt="GJuBKs.png" border="0"></a></p>
<h6 id="机架感知与副本冗余存储策略"><a href="#机架感知与副本冗余存储策略" class="headerlink" title="机架感知与副本冗余存储策略"></a>机架感知与副本冗余存储策略</h6><img src="https://s1.ax1x.com/2020/04/02/GJ3Ebd.md.png" alt="GJ3Ebd.md.png" border="0">

<p><a href="https://imgchr.com/i/GJ3eUI" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJ3eUI.md.png" alt="GJ3eUI.md.png" border="0"></a></p>
<h5 id="Secondary-NameNode"><a href="#Secondary-NameNode" class="headerlink" title="Secondary NameNode"></a>Secondary NameNode</h5><h6 id="Secondary-NameNode的职责"><a href="#Secondary-NameNode的职责" class="headerlink" title="Secondary NameNode的职责"></a>Secondary NameNode的职责</h6><p><a href="https://imgchr.com/i/GJ84f0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJ84f0.md.png" alt="GJ84f0.png" border="0"></a></p>
<p><em>secondary namenode和namenode占用同样大的内存大小；在不同节点上</em></p>
<h6 id="Secondary-NameNode工作流程"><a href="#Secondary-NameNode工作流程" class="headerlink" title="Secondary NameNode工作流程"></a>Secondary NameNode工作流程</h6><p><a href="https://imgchr.com/i/GJGbgf" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJGbgf.md.png" alt="GJGbgf.png" border="0"></a></p>
<h6 id="检查点"><a href="#检查点" class="headerlink" title="检查点"></a>检查点</h6><p><img src="C:%5CUsers%5CTy%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200402153039014.png" alt="image-20200402153039014"></p>
<h5 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h5><p><a href="https://imgchr.com/i/GJt0Hg" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJt0Hg.md.png" alt="GJt0Hg.png" border="0"></a></p>
<p><em>答案：edits。因为现在的fsimage保存的是最新也就是最近检查节点产生的fsimage；而现在的edits文件是保存的最近检查节点产生fsimage以来，Hdfs的操作信息</em></p>
<h4 id="HDFS架构"><a href="#HDFS架构" class="headerlink" title="HDFS架构"></a>HDFS架构</h4><img src="https://s1.ax1x.com/2020/04/02/GGbBn0.png" alt="GGbBn0.png" border="0">





<h3 id="操作HDFS"><a href="#操作HDFS" class="headerlink" title="操作HDFS"></a>操作HDFS</h3><h3 id="HDFS-web访问"><a href="#HDFS-web访问" class="headerlink" title="HDFS web访问"></a>HDFS web访问</h3><ul>
<li><p><strong>IP:50070</strong>访问NameNode</p>
</li>
<li><p><strong>IP:50090</strong>访问SecondaryNameNode</p>
</li>
</ul>
<h3 id="HDFS-shell访问"><a href="#HDFS-shell访问" class="headerlink" title="HDFS shell访问"></a>HDFS shell访问</h3><h4 id="操作命令"><a href="#操作命令" class="headerlink" title="操作命令"></a>操作命令</h4><a href="/hadoop%E5%B8%B8%E7%94%A8HDFS%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4.html" title="第三章 shell命令操作HDFS-常用HDFS操作命令">第三章 shell命令操作HDFS-常用HDFS操作命令</a>

<h4 id="管理命令"><a href="#管理命令" class="headerlink" title="管理命令"></a>管理命令</h4><a href="/hadoop%E5%B8%B8%E7%94%A8HDFS%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4.html" title="第三章 shell命令操作HDFS-常用HDFS管理命令">第三章 shell命令操作HDFS-常用HDFS管理命令</a>

<h4 id="其它命令"><a href="#其它命令" class="headerlink" title="其它命令"></a>其它命令</h4><p><a href="https://imgchr.com/i/GJWkfx" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJWkfx.md.png" alt="GJWkfx.png" border="0"></a></p>
<h4 id="Hadoop中三种shell命令"><a href="#Hadoop中三种shell命令" class="headerlink" title="Hadoop中三种shell命令"></a>Hadoop中三种shell命令</h4><p><a href="https://imgchr.com/i/GJ4lN9" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJ4lN9.md.png" alt="GJ4lN9.png" border="0"></a></p>
<h3 id="JAVA-API端口访问"><a href="#JAVA-API端口访问" class="headerlink" title="JAVA API端口访问"></a>JAVA API端口访问</h3><p><a href="https://imgchr.com/i/GJ4o3q" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJ4o3q.md.png" alt="GJ4o3q.png" border="0"></a></p>
<p><a href="https://imgchr.com/i/GJIMWR" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJIMWR.md.png" alt="GJIMWR.png" border="0"></a></p>
<p><a href="https://imgchr.com/i/GJ770f" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/02/GJ770f.png" alt="GJ770f.png" border="0"></a></p>
<h3 id="HDFS工作原理"><a href="#HDFS工作原理" class="headerlink" title="HDFS工作原理"></a>HDFS工作原理</h3><h4 id="HDFS写文件流程"><a href="#HDFS写文件流程" class="headerlink" title="HDFS写文件流程"></a>HDFS写文件流程</h4><p><a href="https://imgchr.com/i/GdIN1e" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GdIN1e.md.png" alt="GdIN1e.md.png" border="0"></a><br><a href="https://imgchr.com/i/GdItpD" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GdItpD.md.png" alt="GdItpD.md.png" border="0"></a></p>
<h4 id="HDFS读文件流程"><a href="#HDFS读文件流程" class="headerlink" title="HDFS读文件流程"></a>HDFS读文件流程</h4><p><a href="https://imgchr.com/i/GdoSN6" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GdoSN6.md.png" alt="GdoSN6.md.png" border="0"></a></p>
<h4 id="HDFS容错"><a href="#HDFS容错" class="headerlink" title="HDFS容错"></a>HDFS容错</h4><p><a href="https://imgchr.com/i/GdIzAx" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GdIzAx.md.png" alt="GdIzAx.md.png" border="0"></a></p>
<h5 id="NameNode出错"><a href="#NameNode出错" class="headerlink" title="NameNode出错"></a>NameNode出错</h5><p><a href="https://imgchr.com/i/Gdojxg" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/Gdojxg.md.png" alt="Gdojxg.md.png" border="0"></a></p>
<h5 id="DataNode出错"><a href="#DataNode出错" class="headerlink" title="DataNode出错"></a>DataNode出错</h5><p><a href="https://imgchr.com/i/GdoxMQ" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GdoxMQ.md.png" alt="GdoxMQ.md.png" border="0"></a></p>
<h5 id="数据出错"><a href="#数据出错" class="headerlink" title="数据出错"></a>数据出错</h5><p><a href="https://imgchr.com/i/Gd7rA1" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/Gd7rA1.md.png" alt="Gd7rA1.png" border="0"></a></p>
<h3 id="HDFS的高级功能"><a href="#HDFS的高级功能" class="headerlink" title="HDFS的高级功能"></a>HDFS的高级功能</h3><h4 id="安全模式"><a href="#安全模式" class="headerlink" title="安全模式"></a>安全模式</h4><p><a href="https://imgchr.com/i/GwS9eK" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GwS9eK.md.png" alt="GwS9eK.png" border="0"></a></p>
<h4 id="回收站"><a href="#回收站" class="headerlink" title="回收站"></a>回收站</h4><p><a href="https://imgchr.com/i/GwSVSA" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GwSVSA.md.png" alt="GwSVSA.png" border="0"></a></p>
<h4 id="快照"><a href="#快照" class="headerlink" title="快照"></a>快照</h4><p><a href="https://imgchr.com/i/GwStO0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GwStO0.md.png" alt="GwStO0.png" border="0"></a></p>
<h4 id="配额"><a href="#配额" class="headerlink" title="配额"></a>配额</h4><p><a href="https://imgchr.com/i/GwSsp9" target="_blank" rel="external nofollow noopener noreferrer"><a href="https://imgchr.com/i/GwSsp9" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GwSsp9.png" alt="GwSsp9.png" border="0"></a></a></p>
<h4 id="HA-High-Availability高可用"><a href="#HA-High-Availability高可用" class="headerlink" title="HA(High Availability高可用)"></a>HA(High Availability高可用)</h4><p><a href="https://imgchr.com/i/Gwpn39" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/Gwpn39.md.png" alt="Gwpn39.png" border="0"></a></p>
<p><a href="https://imgchr.com/i/GwpBHf" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GwpBHf.md.png" alt="GwpBHf.md.png" border="0"></a><br><a href="https://imgchr.com/i/GwprE8" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GwprE8.md.png" alt="GwprE8.md.png" border="0"></a></p>
<h4 id="联邦Federation"><a href="#联邦Federation" class="headerlink" title="联邦Federation"></a>联邦Federation</h4><h5 id="HDFS使用过程存在的问题"><a href="#HDFS使用过程存在的问题" class="headerlink" title="HDFS使用过程存在的问题"></a>HDFS使用过程存在的问题</h5><p><a href="https://imgchr.com/i/Gw9nIS" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/Gw9nIS.png" alt="Gw9nIS.png" border="0"></a></p>
<h5 id="什么是Federation"><a href="#什么是Federation" class="headerlink" title="什么是Federation"></a>什么是Federation</h5><p><a href="https://imgchr.com/i/Gw9ma8" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/Gw9ma8.md.png" alt="Gw9ma8.md.png" border="0"></a></p>
<h5 id="联邦的优点"><a href="#联邦的优点" class="headerlink" title="联邦的优点"></a>联邦的优点</h5><p><a href="https://imgchr.com/i/Gw9fRH" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/Gw9fRH.md.png" alt="Gw9fRH.png" border="0"></a></p>
<h4 id="HA与Federation的区别"><a href="#HA与Federation的区别" class="headerlink" title="HA与Federation的区别"></a>HA与Federation的区别</h4><p><a href="https://imgchr.com/i/GwC9e0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/04/GwC9e0.md.png" alt="GwC9e0.png" border="0"></a></p>
<hr>
<blockquote>
<p>直道相思了无益，未妨惆怅是清狂。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Hadoop/">Hadoop</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HDFS/" rel="tag">HDFS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-数据库系统-SQL概述" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-SQL%E6%A6%82%E8%BF%B0.html" class="article-date">
      <time datetime="2020-04-01T09:41:02.000Z" itemprop="datePublished">2020-04-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-SQL%E6%A6%82%E8%BF%B0.html">数据库系统-数据定义</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="关系数据库标准语言SQL"><a href="#关系数据库标准语言SQL" class="headerlink" title="关系数据库标准语言SQL"></a>关系数据库标准语言SQL</h2><h3 id="SQL概述"><a href="#SQL概述" class="headerlink" title="SQL概述"></a>SQL概述</h3><h4 id="SQL的产生与发展"><a href="#SQL的产生与发展" class="headerlink" title="SQL的产生与发展"></a>SQL的产生与发展</h4><p><em>SQ L 是 在 1974年 由 Boyce和 Chamberlin提出的，最初叫 S e q u e l</em></p>
<p><em>1987 年，国际标准化组织 (International Organization for Standardization, I S O ) 也通过了这一标准.</em></p>
<p><em>同时，许多软件厂商对SQ L基本命令集还进行了不同程度的扩充和修改，又可以支持标准以外的一些功能特性</em></p>
<p><em>目前，没有一个数据库系统能够支持SQ L标准的所有概念和特性</em></p>
<h4 id="SQL的特点"><a href="#SQL的特点" class="headerlink" title="SQL的特点"></a>SQL的特点</h4><p><em>SQ L集数据查询(data query) ， 数据操纵 (data manipulation）数 据 定 义 (data definition)和 数 据 控 制 (data control)功能于一体</em></p>
<p><strong>主要特点</strong></p>
<ul>
<li><p>综合统一</p>
<p><em>SQL集数据定义语言、数据操纵语言、数据控制语言的功能于一体，语言风格统一，可以独立完成数据库生命周期中的全部活动，包括以下一系列操作要求：</em></p>
<p>・定义和修改、删除关系模式，定义和删除视图，插入数据，建立数据库。<br>・对数据库中的数据进行查询和更新。<br> • 数据库重构和维护。<br> • 数据库安全性、完整性控制，以及事务控制。<br>・嵌入式 SQL和 动 态 SQL定义。  </p>
</li>
<li><p>高度非过程化</p>
<p><em>非关系数据模型的数据操纵语言是“面向过程”的语言，用 “过程化”语言完成某项请求必须指定存取路径</em></p>
<p><em>而 用 SQL进行数据操作时，只要提 出 “做什么”，而无须指明’’怎么做”，因此无须了解存取路径。存取路径的选择以及SQ L 的操作过程由系统自动完成</em></p>
</li>
<li><p>面向集合的操作方式</p>
<p><em>非关系数据模型采用的是面向记录的操作方式，操作对象是一条记录(</em>例如查询所有平均成绩在8 0 分以上的学生姓名，用户必须一条一条地把满足条件的学生记录找出来 )</p>
<p><em>而 SQL采用集合操作方式，不仅操作对象、查找结果可以是元组的集合，而且一次插入、删除、更新操作的对象也可以是元组的集合</em></p>
</li>
<li><p>以同一种语法结构提供多种使用方式</p>
<p><em>SQL既是独立的语言，又是嵌入式语言(可以使用单独的SQL,也可以使用高级语言，例如C,C++,JAVA等)</em></p>
</li>
<li><p>语言简洁，易学易用</p>
<p>*<em>完成核心功能只用了 9 个动词  *</em></p>
</li>
</ul>
<p><a href="https://imgchr.com/i/G1eqVe" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/01/G1eqVe.png" alt="G1eqVe.png" border="0"></a></p>
<h4 id="SQL基本概念"><a href="#SQL基本概念" class="headerlink" title="SQL基本概念"></a>SQL基本概念</h4><p><em>支 持 SQ L 的关系数据库管理系统同样支持关系数据库三级模式结构</em></p>
<img src="https://s1.ax1x.com/2020/04/01/G1Qx2j.png" alt="G1Qx2j.png" border="0">

<p><strong>外模式包括若干视图和部分基本表</strong></p>
<p><strong>模式包括若干基本表</strong></p>
<p><strong>内模式包括若干存储文件</strong></p>
<p><em>基本表是本身独立存在的表，一个或多个基本表对应一个存储文件，一个表可以带若干索引，索引也存放在存储文件中</em></p>
<p><em>存储文件的逻辑结构组成了关系数据库的内模式</em></p>
<p><em>视图是从一个或几个基本表导出的表。它本身不独立存储在数据库中，即数据库中只存放视图的定义而不存放视图对应的数据。这些数据仍存放在导出视图的基本表中，因此视图是一个虚表。视图在概念上与基本表等同，用户可以在视图上再定义视图</em></p>
<hr>
<blockquote>
<p>不问花期，不负春光，向阳而生，自由盛放。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">数据库系统</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-数据库系统-数据查询" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2.html" class="article-date">
      <time datetime="2020-04-01T08:53:11.000Z" itemprop="datePublished">2020-04-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2.html">数据库系统-数据查询</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="数据查询"><a href="#数据查询" class="headerlink" title="数据查询"></a>数据查询</h2><h3 id="单表查询"><a href="#单表查询" class="headerlink" title="单表查询"></a>单表查询</h3><h4 id="选择表中若干列"><a href="#选择表中若干列" class="headerlink" title="选择表中若干列"></a>选择表中若干列</h4><h5 id="指定列"><a href="#指定列" class="headerlink" title="指定列"></a>指定列</h5> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sno,sname</span><br><span class="line"><span class="keyword">FROM</span> Student;</span><br></pre></td></tr></table></figure>



<h5 id="全部列"><a href="#全部列" class="headerlink" title="全部列"></a>全部列</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * </span><br><span class="line"><span class="keyword">FROM</span> Student;</span><br></pre></td></tr></table></figure>



<h5 id="查询计算过得值"><a href="#查询计算过得值" class="headerlink" title="查询计算过得值"></a>查询计算过得值</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>子句的＜目标列表达式〉不仅可以是表中的属性列，也可以是表达式</span><br><span class="line"><span class="keyword">SELECT</span> Sname, <span class="number">2014</span>-Sage</span><br><span class="line"><span class="keyword">FROM</span> Student;</span><br></pre></td></tr></table></figure>

<p><em>目标表达水不仅可以是算数表达式，也可以是字符串常量，函数等</em></p>
<h5 id="修改查询列标题"><a href="#修改查询列标题" class="headerlink" title="修改查询列标题"></a>修改查询列标题</h5><p><em>用户可以通过指定别名来改变查询结果的列标题，这对于含算术表达式、常量、函数名的目标列表达式尤为有用</em> </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname [<span class="keyword">AS</span>] newName</span><br></pre></td></tr></table></figure>



<h4 id="选择表中的若干元组"><a href="#选择表中的若干元组" class="headerlink" title="选择表中的若干元组"></a>选择表中的若干元组</h4><p><em>系统查询的思路是，将关系中的所有元组一一进行条件匹配，然后在输出。当数据量大时，这种思路就不太合适了。可以创建索引解决</em></p>
<h5 id="消除重复行"><a href="#消除重复行" class="headerlink" title="消除重复行"></a>消除重复行</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Sno</span><br><span class="line"><span class="keyword">FROM</span> SC;</span><br></pre></td></tr></table></figure>



<h5 id="查询满足条件的元组"><a href="#查询满足条件的元组" class="headerlink" title="查询满足条件的元组"></a>查询满足条件的元组</h5><p><em>通过<strong>WHERE</strong>来实现</em></p>
<p>查询条件：</p>
<img src="https://s1.ax1x.com/2020/04/01/G3sx3j.png" alt="G3sx3j.png" border="0">

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,Sdept,Sage</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept <span class="keyword">IN</span>(<span class="string">'CS'</span>,<span class="string">'MA'</span>,<span class="string">'IS'</span>);</span><br></pre></td></tr></table></figure>

<p><em>注意：’IS’ 有时不能用‘=’代替，如’IS NULL’</em></p>
<p><strong>字符匹配时，可以有通配符，如下：</strong></p>
<ul>
<li><p>_</p>
<p><em>代表任意单个字符</em></p>
</li>
<li><p>%</p>
<p><em>任意长度的字符，零个也包括</em></p>
</li>
</ul>
<p><em>当数据中本身就有通配符时，就需要用到ESCAPE ‘&lt;换码字符&gt;’</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Cno,Credit</span><br><span class="line"><span class="keyword">FROM</span> Course</span><br><span class="line"><span class="keyword">WHERE</span> Cname <span class="keyword">LIKE</span> <span class="string">'DB\_Design'</span> ESCAPE<span class="string">'\'</span>;</span><br></pre></td></tr></table></figure>



<h5 id="ORDER-BY子句"><a href="#ORDER-BY子句" class="headerlink" title="ORDER BY子句"></a>ORDER BY子句</h5><p><em>默认升序ASC</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno, Grade</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Cno=<span class="string">'3'</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Grade <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>



<p><em>可以既有升序又有降序：</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> A, B </span><br><span class="line"><span class="keyword">FROM</span> DD</span><br><span class="line"><span class="keyword">WHERE</span> ...</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> A, B <span class="keyword">DESC</span>; //A可能是具有重复值，再重复值的情况下对B降序</span><br></pre></td></tr></table></figure>



<h5 id="TOP"><a href="#TOP" class="headerlink" title="TOP"></a>TOP</h5><h6 id="TOP-N"><a href="#TOP-N" class="headerlink" title="TOP N"></a>TOP N</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TOP N * </span><br><span class="line"><span class="keyword">FROM</span> SC</span><br></pre></td></tr></table></figure>

<h6 id="TOP-N-PERCENT"><a href="#TOP-N-PERCENT" class="headerlink" title="TOP N PERCENT"></a>TOP N PERCENT</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP N PERCENT *</span><br><span class="line">FROM SC</span><br></pre></td></tr></table></figure>



<h5 id="聚集函数"><a href="#聚集函数" class="headerlink" title="聚集函数"></a>聚集函数</h5><p><em>聚集函数中除COUNT外，其它函数在计算过程中均省略NULL；WHERE子句中不能使用聚集函数</em></p>
<h6 id="COUNT"><a href="#COUNT" class="headerlink" title="COUNT()"></a>COUNT()</h6><p>COUNT(*)                                                  统计元组个数<br>COUNT（ [DISTINCT|ALL] ＜列名&gt;）  统计一列中值的个数</p>
<h6 id="SUM"><a href="#SUM" class="headerlink" title="SUM()"></a>SUM()</h6><p>SUM（ [DISTINCT|ALL] ＜列名&gt;）       计算一列值的总和（此列必须是数值型）<br>AVG（ [DISTINCT|ALL] ＜列名&gt;）        计算一列值的平均值（此列必须是数值型）</p>
<h6 id="MAX"><a href="#MAX" class="headerlink" title="MAX"></a>MAX</h6><p>MAX（ [DISTINCT|ALL] ＜列名&gt;）       求一列值中的最大值</p>
<h6 id="MIN"><a href="#MIN" class="headerlink" title="MIN"></a>MIN</h6><p>MIN（ [DISTINCTIALL] ＜列名&gt;）        求一列值中的最小值  </p>
<h5 id="GROUP-BY子句"><a href="#GROUP-BY子句" class="headerlink" title="GROUP BY子句"></a>GROUP BY子句</h5><p><em>GROUP B Y 子句将查询结果按<strong>某一列或多列</strong>的值分组，值相等的为一组。</em></p>
<p><em>分组后聚集函数将<strong>作用于每一个组</strong>，即每一组都有一个函数值。</em>  </p>
<p><em>如果分组后还要求按一定的条件对这些组进行筛选，最终只输出满足指定条件的组，则可以使用<strong>HAVING</strong>短语指定筛选条件。</em>  </p>
<p><strong>WHERE子 句 与 HAVING短语</strong>的<em>区别在于作用对象不同。 WHERE子句作用于基本表或视图，从中选择满足条件的元组。  HAVING短语作用于组，从中选择满足条件的组</em></p>
<p><em>WHERE子句中是<strong>不能用聚集函数</strong>作为条件表达式的</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*查询课程号及相应选课人数*/</span></span><br><span class="line"><span class="keyword">SELECT</span> cno, <span class="keyword">COUNT</span>(sno)</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> cno</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*查询选取三门课程以上的学生学号*/</span></span><br><span class="line"><span class="keyword">SELECT</span> sno</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> sno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">count</span>(sno) &gt; <span class="number">3</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*查询平均成绩大于等于90 分的学生学号和平均成绩。*/</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno, <span class="keyword">AVG</span>(Grade)</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">AVG</span>(Grade) &gt;= <span class="number">90</span></span><br></pre></td></tr></table></figure>

<p><em>不一定是group by 单个属性</em></p>
<h3 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h3><h4 id="等值与非等值连接"><a href="#等值与非等值连接" class="headerlink" title="等值与非等值连接"></a>等值与非等值连接</h4><p><em>连接查询的WHERE子句中用来连接两个表的条件称为<strong>连接条件</strong>或<strong>连接谓词</strong>，其一般格式为 :</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[＜表名1＞.] &lt;列名l&gt; &lt;比较运算符&gt; [＜表名2＞.] ＜列名2＞</span><br><span class="line"><span class="comment">/*其中比较运算符主要有=、＞、＜、＞=、＜=、！= (或o ) 等*/</span></span><br></pre></td></tr></table></figure>

<p><em>当连接运算符为=时，称为等值连接。使用其他运算符称为非等值连接。</em></p>
<p><strong>这就是嵌套循环连接算法</strong>： <em>一个表的全部元组的某个属性一一去和另一个元组的某个属性进行比较</em></p>
<h5 id="等值连接"><a href="#等值连接" class="headerlink" title="等值连接"></a>等值连接</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.*, SC.*</span><br><span class="line"><span class="keyword">FROM</span> Student, SC</span><br><span class="line"><span class="keyword">WHERE</span> Student.Sno = SC.Sno</span><br></pre></td></tr></table></figure>

<p><em>结果中两个Sno都存在</em></p>
<p><em>一 条 SQ L语句可以同时<strong>完成选择</strong>和<strong>连接查询</strong>，这 时 WHERE子句是由<strong>连接谓词和选择谓词组成的复合条件</strong>。</em>  </p>
<h5 id="自然连接"><a href="#自然连接" class="headerlink" title="自然连接"></a>自然连接</h5><p><em>若在等值连接中把目标列中重复的属性列去掉则为自然连接。</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno, Sname, Ssex, Sage, Sdept, Cno, Grade</span><br><span class="line"><span class="keyword">FROM</span> Student, SC</span><br><span class="line"><span class="keyword">WHERE</span> Student.Sno = SC.Sno</span><br></pre></td></tr></table></figure>

<p><em>结果只保留一个Sno</em></p>
<h5 id="自身连接"><a href="#自身连接" class="headerlink" title="自身连接"></a>自身连接</h5><p><em>Course表取两个别名，一个是 F IR S T ,另一个是SECOND。</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> FIRST.Cno,SECOND.Cpno</span><br><span class="line"><span class="keyword">FROM</span> Course <span class="keyword">FIRST</span>,Course <span class="keyword">SECOND</span></span><br><span class="line"><span class="keyword">WHERE</span> FIRST.Cpno=SECOND.Cno;</span><br></pre></td></tr></table></figure>



<h5 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h5><p><em>有 时 想 以 Student表为主体列出每个学生的基本情况及其选课情况。若某个学生没有选课，仍 把 Student的悬浮元组保存在结果关系中，而 在 S C 表的属性上填空值NULL ,这时就需要使用外连接</em>  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno,Sname,Ssex,Sage,Sdept,Cno,Grade</span><br><span class="line"><span class="keyword">FROM</span> Student <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> SC <span class="keyword">ON</span> (Student.Sno=SC.Sno);</span><br><span class="line"><span class="comment">/*也可以使用USING來去掉结果中的重复值： FROM Student LEFT OUTER JOIN SC USING (Sno);*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*RIGHT OUTER JOIN ON 右连接</span></span><br><span class="line"><span class="comment">FULL OUTER JOIN ON 全连接</span></span><br><span class="line"><span class="comment">LEFT OUTER JOIN ON 左连接*/</span></span><br></pre></td></tr></table></figure>

<p><a href="https://imgchr.com/i/GzUTIA" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/14/GzUTIA.md.png" alt="GzUTIA.png" border="0"></a></p>
<p><strong>左外连接</strong>列<em>出左边关系(如本例Student)中所有的元组，<strong>右外连接</strong>列出右边关系中所有的元组。</em>  </p>
<h5 id="多表连接"><a href="#多表连接" class="headerlink" title="多表连接"></a>多表连接</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno,Sname,Cname,Grade</span><br><span class="line"><span class="keyword">FROM</span> Student,SC,Course</span><br><span class="line"><span class="keyword">WHERE</span> Student.Sno=SC.Sno <span class="keyword">AND</span> SC.Cno=Course.Cno;</span><br></pre></td></tr></table></figure>

<h5 id="XXX-INNER-JOIN-XXX-ON-…"><a href="#XXX-INNER-JOIN-XXX-ON-…" class="headerlink" title="XXX INNER  JOIN XXX ON(…..)"></a>XXX INNER  JOIN XXX ON(…..)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> Student <span class="keyword">INNER</span> <span class="keyword">JOIN</span> SC <span class="keyword">ON</span>(Student.Sno=SC.Sno)</span><br></pre></td></tr></table></figure>

<h5 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询每门课程的被选修情况和课程的名字。</span></span><br><span class="line"><span class="keyword">SELECT</span> SC.*, Cname  </span><br><span class="line"><span class="keyword">FROM</span> SC <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> Courses <span class="keyword">ON</span> SC.Cno=Courses.Cno</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询选修了课程的学生姓名</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span>(Students.Sname)  </span><br><span class="line"><span class="keyword">FROM</span> Students <span class="keyword">INNER</span> <span class="keyword">JOIN</span> SC <span class="keyword">ON</span> (Students.Sno=Sc.Sno)</span><br></pre></td></tr></table></figure>



<h3 id="嵌套查询"><a href="#嵌套查询" class="headerlink" title="嵌套查询"></a>嵌套查询</h3><p><em>在 SQL语言中，一 个 SELECT-FROM-WHERE语句称为一个<strong>查询块</strong>。将一个查询块嵌套在另一个查询块的<strong>WHERE子句或 HAVING短语</strong>的条件中的查询称为嵌套查询(nested query )</em>   </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname <span class="comment">/*外层查询或父査询*/</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="keyword">IN</span></span><br><span class="line">	(<span class="keyword">SELECT</span> Sno <span class="comment">/*内层查询或子査询*/</span></span><br><span class="line">	<span class="keyword">FROM</span> SC</span><br><span class="line">	<span class="keyword">WHERE</span> Cno= <span class="string">'2'</span>);</span><br></pre></td></tr></table></figure>

<p><em>SQ L语言允许多层嵌套查询，即一个子查询中还可以嵌套其他子查询。需要特别指出的是，<strong>子查询的 SELECT语句中不能使用ORDER B Y 子句</strong>， ORDER B Y 子句只能对最终查询结果排序。</em> </p>
<p><strong>大多数嵌套查询可以用连接查询代替</strong></p>
<h4 id="带有IN谓词的子查询"><a href="#带有IN谓词的子查询" class="headerlink" title="带有IN谓词的子查询"></a>带有IN谓词的子查询</h4><p><em>在嵌套查询中，子查询的结果往往是一个集合，所 以 谓 词 IN 是嵌套查询中最经常使用的谓词。</em>  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,Sname,Sdept <span class="comment">/*例 3.55 的解法一*/</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept <span class="keyword">IN</span></span><br><span class="line">	(<span class="keyword">SELECT</span> Sdept</span><br><span class="line">	<span class="keyword">FROM</span> Student</span><br><span class="line">	<span class="keyword">WHERE</span> Sname=<span class="string">'刘晨，)；</span></span><br></pre></td></tr></table></figure>

<p><em>本例中，子查询的查询条件不依赖于父查询，称为<strong>不相关子查询</strong>。如果子查询的查询条件依赖于父查询，这类子查询称为<strong>相关子查询</strong>(correlated subquery) , 整个查询语句称为<strong>相关嵌套查询</strong>(correlated nested query) 语句</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sl.Sno,Sl.Sname,Sl.Sdept <span class="comment">/*例 3.55 的解法二 */</span></span><br><span class="line"><span class="keyword">FROM</span> Student SI,Student S2</span><br><span class="line"><span class="keyword">WHERE</span> Sl.Sdept=S2.Sdept <span class="keyword">AND</span> S2.Sname=<span class="string">'刘晨'</span>；</span><br></pre></td></tr></table></figure>

<p><em>可见，实现同一个查询请求可以有多种方法，当然不同的方法其执行效率可能会有差别 ，甚至会差别很大。这就是数据库编程人员应该掌握的数据库性能调优技术</em>  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,Sname</span><br><span class="line"><span class="keyword">FROM</span> Student ③ 最后在Student关系中</span><br><span class="line">				取tLl Sno 和 Sname</span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="keyword">IN</span></span><br><span class="line">	(<span class="keyword">SELECT</span> Sno		② 然 后 在 SC 关系中找出</span><br><span class="line">	 <span class="keyword">FROM</span> SC				选修了 <span class="number">3</span> 号课程的学生学号</span><br><span class="line">	 <span class="keyword">WHERE</span> Cno <span class="keyword">IN</span>				</span><br><span class="line">		(<span class="keyword">SELECT</span> Cno				① 首 先 在 Course关系中</span><br><span class="line">		 <span class="keyword">FROM</span> Course				找 出 “信息系统”的课</span><br><span class="line">		 <span class="keyword">WHERE</span> Cname=’信息系统<span class="string">'		 程号，结果为3 号</span></span><br><span class="line"><span class="string">		)；</span></span><br><span class="line"><span class="string">/*等价于*/</span></span><br><span class="line"><span class="string">SELECT Student.Sno,Sname</span></span><br><span class="line"><span class="string">FROM Student,SC,Course</span></span><br><span class="line"><span class="string">WHERE Student.Sno=SC.Sno AND</span></span><br><span class="line"><span class="string">SC.Cno=Course.Cno AND</span></span><br><span class="line"><span class="string">Course.Cname='</span>信息系统<span class="string">'；</span></span><br></pre></td></tr></table></figure>

<p><em>有些嵌套查询可以用连接运算替代，有些是不能替代的</em></p>
<img src="https://s1.ax1x.com/2020/04/22/JtBRK0.png" alt="JtBRK0.png" border="0">

<img src="https://s1.ax1x.com/2020/04/22/JtBgvq.png" alt="JtBgvq.png" border="0">



<img src="https://s1.ax1x.com/2020/04/22/Jt0I1I.png" alt="Jt0I1I.png" border="0">

<img src="https://s1.ax1x.com/2020/04/22/Jt059A.png" alt="Jt059A.png" border="0">

<img src="https://s1.ax1x.com/2020/04/22/Jt0hhd.png" alt="Jt0hhd.png" border="0">

<h4 id="带有比较运算符的子查询"><a href="#带有比较运算符的子查询" class="headerlink" title="带有比较运算符的子查询"></a>带有比较运算符的子查询</h4><p><em>可以用&gt;,&lt;,&gt;=,&lt;=,!=或&lt;&gt;等比较运算符</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno ,Cno</span><br><span class="line"><span class="keyword">FROM</span> SC x</span><br><span class="line"><span class="keyword">WHERE</span> Grade ＞=(<span class="keyword">SELECT</span> <span class="keyword">AVG</span>(Grade) <span class="comment">/*某学生的平均成绩*/</span></span><br><span class="line"><span class="keyword">FROM</span> SC y</span><br><span class="line"><span class="keyword">WHERE</span> y.Sno=x.Sno);</span><br><span class="line"><span class="comment">/*执行过程是，外层先取一个元组，传递给内层，内层得到平均值，在外层执行*/</span></span><br></pre></td></tr></table></figure>

<p><em>该值是与父查询相关的，因此这类查询称为相关子查询</em></p>
<p><em>求解相关子查询不能像求解不相关子查询那样一次将子查询求解出来，然后求解父查询</em></p>
  <img src="https://s1.ax1x.com/2020/04/22/JtD4yt.png" alt="JtD4yt.png" border="0">

<img src="https://s1.ax1x.com/2020/04/22/JtDhQI.png" alt="JtDhQI.png" border="0">

<h4 id="带有ANY-SOME-或ALL谓词的子查询"><a href="#带有ANY-SOME-或ALL谓词的子查询" class="headerlink" title="带有ANY(SOME)或ALL谓词的子查询"></a>带有ANY(SOME)或ALL谓词的子查询</h4><p><a href="https://imgchr.com/i/Jml6iT" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/18/Jml6iT.png" alt="Jml6iT.png" border="0"></a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,Sage</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sage&lt;<span class="keyword">ANY</span> (<span class="keyword">SELECT</span> Sage  <span class="comment">/*这里也可以用MAX()代替*/</span></span><br><span class="line">	<span class="keyword">FROM</span> Student</span><br><span class="line">	<span class="keyword">WHERE</span> Sdept=<span class="string">'CS'</span>)</span><br><span class="line"><span class="keyword">AND</span> Sdept &lt;&gt; <span class="string">'CS'</span> ; <span class="comment">/*注意这是父査询块中的条件*/</span></span><br></pre></td></tr></table></figure>

<p><em>用ANY后形成集合</em></p>
<p><em>事实上，用聚集函数实现子查询通常比直接用ANY或ALL查询效率要高。ANY,ALL与聚集函数的对应关系如表：</em></p>
<p><a href="https://imgchr.com/i/Jm32r9" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/18/Jm32r9.md.png" alt="Jm32r9.png" border="0"></a></p>
<img src="https://s1.ax1x.com/2020/04/21/J8twwt.png" alt="J8twwt.png" border="0">



<img src="https://s1.ax1x.com/2020/04/21/J8YXi8.png" alt="J8YXi8.png" border="0">

<h4 id="带有EXISTS谓词的子查询"><a href="#带有EXISTS谓词的子查询" class="headerlink" title="带有EXISTS谓词的子查询"></a>带有EXISTS谓词的子查询</h4><p><em>带有EXISTS谓词的子查询不返回任何数据，只产生逻辑真假值TRUE,FALSE</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">EXISTS</span></span><br><span class="line">	（<span class="keyword">SELECT</span> *</span><br><span class="line">	<span class="keyword">FROM</span> SC</span><br><span class="line">	<span class="keyword">WHERE</span> Sno=Student.Sno <span class="keyword">AND</span> Cno=<span class="string">'1'</span>）;</span><br></pre></td></tr></table></figure>

<p><em>这也是相关子查询。先取一个外层的元组</em></p>
<p><em>由 EXISTS引出的子查询，其目标列表达式通常都用**, 因为带 EXISTS的子查询只返回真值或假值，给出列名无实际意义</em></p>
<img src="https://s1.ax1x.com/2020/04/22/JtskE8.png" alt="JtskE8.png" border="0">



<p><em>与 EXISTS谓词相对应的是NOT EXISTS谓词。使用存在量词<strong>NOT EXISTS</strong>后，若内层查询结果为空，则外层的WHERE子句返回真值，否则返回假值</em>  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">	(<span class="keyword">SELECT</span> *</span><br><span class="line">	<span class="keyword">FROM</span> SC</span><br><span class="line">	<span class="keyword">WHERE</span> Sno=Student.Sno <span class="keyword">AND</span> Cno=<span class="string">'1'</span>);</span><br></pre></td></tr></table></figure>

<p><em>由于带EXISTS量词的相关子査询只关心内层查询是否有返回值，并不需要查具体值,因此其效率并不一定低于不相关子查询，有时是高效的方法</em>  </p>
<h4 id="用EXISTS-NOT-EXISTS实现全称量词"><a href="#用EXISTS-NOT-EXISTS实现全称量词" class="headerlink" title="用EXISTS/NOT EXISTS实现全称量词"></a>用EXISTS/NOT EXISTS实现全称量词</h4><p><a href="https://imgchr.com/i/JD4C0P" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/24/JD4C0P.png" alt="JD4C0P.png" border="0"></a><br><a href="https://imgchr.com/i/JD49mt" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/24/JD49mt.png" alt="JD49mt.png" border="0"></a></p>
<h4 id="用EXISTS-NOT-EXISTS实现逻辑蕴涵"><a href="#用EXISTS-NOT-EXISTS实现逻辑蕴涵" class="headerlink" title="用EXISTS/NOT EXISTS实现逻辑蕴涵"></a>用EXISTS/NOT EXISTS实现逻辑蕴涵</h4><p><a href="https://imgchr.com/i/JzutVH" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/03/JzutVH.md.png" alt="JzutVH.md.png" border="0"></a><br><a href="https://imgchr.com/i/Jzu8KO" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/03/Jzu8KO.md.png" alt="Jzu8KO.md.png" border="0"></a><br><a href="https://imgchr.com/i/JzuJqe" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/03/JzuJqe.md.png" alt="JzuJqe.md.png" border="0"></a><br><a href="https://imgchr.com/i/JzuGrD" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/03/JzuGrD.md.png" alt="JzuGrD.md.png" border="0"></a></p>
<h3 id="集合查询"><a href="#集合查询" class="headerlink" title="集合查询"></a>集合查询</h3><p><em>UNION , INTERSECT, EXCEPT</em></p>
<p><em>列数相等，对应属性相同</em></p>
<p><em>属性名无关，属性名取第一个结果属性名</em></p>
<p><em>自动除去重复; 不去重UNION ALL</em></p>
<p><em>最后使用ORDER BY(写在最后)；可以用数字代替对应第几个属性，ORDER BY 3</em></p>
<h4 id="UNION并"><a href="#UNION并" class="headerlink" title="UNION并"></a>UNION并</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Cno=<span class="string">'1'</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Cno=<span class="string">'2'</span></span><br></pre></td></tr></table></figure>



<h4 id="INTERSECT交"><a href="#INTERSECT交" class="headerlink" title="INTERSECT交"></a>INTERSECT交</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept=<span class="string">'CS'</span></span><br><span class="line"><span class="keyword">INTERSECT</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sage&lt;=<span class="number">19</span></span><br></pre></td></tr></table></figure>

<img src="https://s1.ax1x.com/2020/04/28/J5Po2d.png" alt="J5Po2d.png" border="0">

<h4 id="EXCEPT差"><a href="#EXCEPT差" class="headerlink" title="EXCEPT差"></a>EXCEPT差</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept=<span class="string">'CS'</span></span><br><span class="line"><span class="keyword">EXCEPT</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sage &lt;=<span class="number">19</span>;</span><br></pre></td></tr></table></figure>



<h3 id="基于派生表的查询"><a href="#基于派生表的查询" class="headerlink" title="基于派生表的查询"></a>基于派生表的查询</h3><p><em>子查询不仅可以出现在WHERE子句中，还可以出现在FROM 子句中，这时子查询生成的<strong>临时派生表(derived table )</strong>成为主查询的查询对象</em></p>
<img src="https://s1.ax1x.com/2020/04/30/JbxGT0.png" alt="JbxGT0.png" border="0">

<p><em>有top的子查询可以把order by放在子查询</em></p>
<p><a href="https://imgchr.com/i/JqSNM4" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/30/JqSNM4.png" alt="JqSNM4.png" border="0"></a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno, Cno</span><br><span class="line"><span class="keyword">FROM</span> SC, (<span class="keyword">SELECT</span> Sno, <span class="keyword">Avg</span>(Grade) <span class="keyword">FROM</span> SC <span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno)</span><br><span class="line"><span class="keyword">AS</span> Avg_sc(avg_sno,avg_grade) // 生成表Avg_sc,具有两个属性</span><br><span class="line"><span class="keyword">WHERE</span> SC.Sno = Avg_sc.avg_sno <span class="keyword">and</span> SC.Grade ＞= Avg_sc.avg grade</span><br></pre></td></tr></table></figure>

<p><em>如果子查询中没有聚集函数，派生表可以不指定属性列</em></p>
<p><em>通 过 FROM 子句生成派生表时， A S 关键字可以省略，但必须为派生<br>关系指定一个别名</em></p>
<hr>
<blockquote>
<p>从此无心爱良夜，任他明月下西楼。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">数据库系统</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SELECT/" rel="tag">SELECT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/" rel="tag">数据查询</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-数据库系统-数据定义" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89.html" class="article-date">
      <time datetime="2020-04-01T02:40:22.000Z" itemprop="datePublished">2020-04-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89.html">数据库系统-数据定义</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h3 id="数据定义-CREAT-DROP-ALTER"><a href="#数据定义-CREAT-DROP-ALTER" class="headerlink" title="数据定义(CREAT, DROP, ALTER)"></a>数据定义(CREAT, DROP, ALTER)</h3><p><em>关系数据库系统支持三级模式结构，其模式、外模式和内模式中的基本对象有模式、表 、视图和索引等。因此 SQ L 的数据定义功能包括模式定义、表定义、视图和索引的定义。</em></p>
<img src="https://s1.ax1x.com/2020/04/01/G1lRLq.png" alt="G1lRLq.png" border="0">

<p><strong>不支持模式修改，视图修改；只有重新删除创建</strong></p>
<p><strong>标准的SQL也不支持索引创建，商用关系数据库提供索引机制和相关语句</strong></p>
<p><em>一个关系数据库管理系统的 实 例 （instance）中可以建立多个数据库，一个数据库中可以建立多个模式， 一个模式下通常包括多个表、视图和索引等数据库对象</em></p>
<h4 id="模式定义与删除"><a href="#模式定义与删除" class="headerlink" title="模式定义与删除"></a>模式定义与删除</h4><h5 id="模式定义"><a href="#模式定义" class="headerlink" title="模式定义"></a>模式定义</h5><p><em>CREATE SCHEMA＜模式名＞AUTHORIZATION ＜用户名 &gt;</em></p>
<p><strong>如果没有指定＜模式名&gt;，那么＜模式名&gt;隐含为＜用户名 &gt;</strong></p>
<p><em>要创建模式，调用该命令的用户必须<strong>拥有数据库管理员权限</strong>，或者获得了数据库管理员授予的CREATE SCHEMA的权限</em>  </p>
<p><em>定义模式实际上定义了一个<strong>命名空间</strong>，在这个空间中可以进一步定义该模式包含的数据库对象，例如基本表、视图、索引等  。也就是说用户可以在创建模式的同时在这个模式定义中进一步创建基本表、视图，定义授权。即 ：</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span>＜模式名＞AUTHORIZATION ＜用户名 &gt; ［＜表定义子句＞ |＜视图定义子句＞|＜授权定义子句 &gt;］</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span> <span class="keyword">TEST</span> AUTHORIZATION ZHANG</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TAB1 (<span class="keyword">COL</span> <span class="number">1</span> <span class="built_in">SMALLINT</span>,</span><br><span class="line">COL2 <span class="built_in">INT</span>,</span><br><span class="line">COL3 <span class="built_in">CHAR</span>(<span class="number">20</span>),</span><br><span class="line">COL4 <span class="built_in">NUMERIC</span>(<span class="number">10</span>,<span class="number">3</span>),</span><br><span class="line">COL5 <span class="built_in">DECIMAL</span>(<span class="number">52</span>)</span><br><span class="line">)；</span><br></pre></td></tr></table></figure>



<h5 id="模式删除"><a href="#模式删除" class="headerlink" title="模式删除"></a>模式删除</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">SCHEMA</span> &lt;模式名&gt; &lt;<span class="keyword">CASCADE</span> | RESTRICT&gt;</span><br></pre></td></tr></table></figure>

<p><em>其 中 CASCADE和 RESTRICT两者<strong>必选其一</strong>。<strong>选择了 CASCADE (级联)</strong>，表示在删除模式的同时把该模式中所有的数据库对象全部删除；<strong>选择了 RESTRICT (限制)</strong>，表示如果该模式中已经定义了下属的数据库对象(如表、视图等)，则拒绝该删除语句的执行。</em></p>
<h4 id="基本表定义，删除，修改"><a href="#基本表定义，删除，修改" class="headerlink" title="基本表定义，删除，修改"></a>基本表定义，删除，修改</h4><p><em>创建了一个模式就建立了一个数据库的命名空间，一个框架。在这个空间中首先要定义的是该模式包含的数据库基本表</em></p>
<h5 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> &lt;表名&gt;(＜列名＞＜数据类型＞［列级完整性约束条件］</span><br><span class="line">［,＜列名＞＜数据类型＞［列级完整性约束条件］］</span><br><span class="line">                  ...</span><br><span class="line">［,＜表级完整性约束条件＞］) ；</span><br></pre></td></tr></table></figure>

<p><em>完整性约束条件被存入系统的<strong>数据字典中</strong>，当用户操作表中数据时由关系数据库管理系统自动检查该操作是否违背这些完整性约束条件。<strong>如果完整性约束条件涉及该表的多个属性列，则必须定义在表级上，否则既可以定义在列级也可以定义在表级</strong>。</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Course</span><br><span class="line">(Cno <span class="built_in">CHAR</span>(<span class="number">4</span>) PRIMARY <span class="keyword">KEY</span>, <span class="comment">/*严列级完整性约束条件， Cno是主码*/</span></span><br><span class="line"> Cname <span class="built_in">CHAR</span>(<span class="number">40</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>, <span class="comment">/*列级完整性约束条件， Cname不能取空值*/</span></span><br><span class="line">Cpno <span class="built_in">CHAR</span>(<span class="number">4</span>), <span class="comment">/* Cpno的 含 义 是 先 修 课 */</span></span><br><span class="line">Ccredit <span class="built_in">SMALLINT</span>,</span><br><span class="line"><span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (Cpno) <span class="keyword">REFERENCES</span> Course(Cno)</span><br><span class="line"><span class="comment">/*表级完整性约束条件， Cpno是外码，被参照表是Course ,被参照列是Cno */</span></span><br><span class="line">)；</span><br></pre></td></tr></table></figure>

<p><strong>由上可知外键和参照的表可以是同一个表</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> SC</span><br><span class="line">(Sno <span class="built_in">CHAR</span>(<span class="number">9</span>),</span><br><span class="line">Cno <span class="built_in">CHAR</span>(<span class="number">4</span>),</span><br><span class="line">Grade <span class="built_in">SMALLINT</span>,</span><br><span class="line">PRIMARY <span class="keyword">KEY</span> (Sno, Cno), <span class="comment">/*主码由两个属性构成，必须作为表级完整性进行定义*/</span></span><br><span class="line"><span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (Sno) <span class="keyword">REFERENCES</span> Student(Sno),</span><br><span class="line"><span class="comment">/*表级完整性约束条件， S no是外码，被参照表是Student */</span></span><br><span class="line"><span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (Cno) <span class="keyword">REFERENCES</span> Course(Cno)</span><br><span class="line"><span class="comment">/*表级完整性约束条件， C n o 是外码，被参照表是Course*/</span></span><br><span class="line">)；</span><br></pre></td></tr></table></figure>



<h5 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h5><img src="https://s1.ax1x.com/2020/04/01/G1UblT.png" alt="G1UblT.png" border="0">

<p><a href="https://imgchr.com/i/G1aM1f" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/01/G1aM1f.md.png" alt="G1aM1f.md.png" border="0"></a></p>
<p><strong>文本类型</strong></p>
<p><a href="https://imgchr.com/i/G1aljS" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/01/G1aljS.md.png" alt="G1aljS.md.png" border="0"></a></p>
<p><strong>时间类型</strong></p>
<p><a href="https://imgchr.com/i/G1aK9P" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/01/G1aK9P.md.png" alt="G1aK9P.md.png" border="0"></a></p>
<h5 id="模式与表"><a href="#模式与表" class="headerlink" title="模式与表"></a>模式与表</h5><p><strong>设置表所属模式的三种方式：</strong></p>
<ul>
<li>选择模式</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">"S-T"</span>.Student(...)</span><br></pre></td></tr></table></figure>



<ul>
<li>创建模式时创建表</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span> <span class="keyword">TEST</span> AUTHORIZATION ZHANG</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABL(</span><br><span class="line">	COL1 <span class="built_in">SMALLINT</span>,</span><br><span class="line">	COL2 <span class="built_in">INT</span>,</span><br><span class="line">	COL3 <span class="built_in">CHAR</span>(<span class="number">20</span>),</span><br><span class="line">	COL4 <span class="built_in">NUMERIC</span>(<span class="number">10</span>,<span class="number">3</span>),</span><br><span class="line">	COL5 <span class="built_in">DECIMAL</span>(<span class="number">52</span>)</span><br><span class="line">)；</span><br></pre></td></tr></table></figure>

<ul>
<li><p>系统根据搜索路径（search path） 来确定该对象所属的模式  </p>
<p><em>搜索路径包含一组模式列表，关系数据库管理系统会使用模式列表中第一个存在的模式作为数据库对象的模式名。若搜索路径中的模式名都不存在，系统将给出错误。</em>  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*显示当前搜索路径*/</span></span><br><span class="line"><span class="keyword">SHOW</span> search_path;</span><br><span class="line"><span class="comment">/*搜索路径的当前默认值是$user, PUBLIC。 其含义是首先搜索与用户名相同的模式名，如果该模式名不存在，则使用PUBLIC模式。*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*数据库管理员也可以设置搜索路径，例如：*/</span></span><br><span class="line"><span class="keyword">SET</span> search_path <span class="keyword">TO</span> <span class="string">"S-T"</span>, <span class="keyword">PUBLIC</span>;</span><br><span class="line"><span class="comment">/*然后，定义基本表：*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student (...)；</span><br><span class="line"><span class="comment">/*实际结果是建立了 S-T.Student基本表。因为关系数据库管理系统发现搜索路径中第一个模式名S-T 存在，就把该模式作为基本表Student所属的模式。*/</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h5 id="基本表修改"><a href="#基本表修改" class="headerlink" title="基本表修改"></a>基本表修改</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ＜表名＞</span><br><span class="line"><span class="comment">-- 增加属性</span></span><br><span class="line">[<span class="keyword">ADD</span> [<span class="keyword">COLUMN</span>] ＜新列名＞ ＜数据类型＞ [完整性约束]]</span><br><span class="line">[<span class="keyword">ADD</span>＜表级完整性约束＞] <span class="comment">-- ALTER TABLE Course ADD UNIQUE(Cname);</span></span><br><span class="line"><span class="comment">-- 删除列</span></span><br><span class="line">[<span class="keyword">DROP</span> [<span class="keyword">COLUMN</span>] ＜列名＞ [<span class="keyword">CASCADE</span>|RESTRICT]]</span><br><span class="line"><span class="comment">--删除约束</span></span><br><span class="line">[<span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span>＜完整性约束名＞ [RESTRICT | <span class="keyword">CASCADE</span> ]]</span><br><span class="line"><span class="comment">-- 修改列</span></span><br><span class="line">[<span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> ＜列名＞＜数据类型＞] ;</span><br></pre></td></tr></table></figure>



<h5 id="基本表删除"><a href="#基本表删除" class="headerlink" title="基本表删除"></a>基本表删除</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> &lt;表名&gt; [RESTRICT | <span class="keyword">CASCADE</span>];</span><br></pre></td></tr></table></figure>

<p><em>若 选 择 RESTRICT ,则该表的删除是有限制条件的。</em></p>
<p><em>若 选 择 CASCADE ,则该表的删除没有限制条件。在删除基本表的同时，相关的依赖对象，例如视图，都将被一起删除。因此执行删除基本表的操作一定要格外小心。</em>  </p>
<p><strong>注意 ：不同的数据库产品在遵循 SQL 标准的基础上具体实现细节和处理策略会与标准有差别。</strong>  </p>
<h4 id="视图建立和删除"><a href="#视图建立和删除" class="headerlink" title="视图建立和删除"></a>视图建立和删除</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> IS_Student <span class="comment">/* Student 表上建立视图*/</span></span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,Sname,Sage</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept=<span class="string">'IS'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> Student RESTRICT; <span class="comment">/*删除 Student 表引</span></span><br><span class="line"><span class="comment">-ERROR: cannot drop table Student because other objects depend on it*/</span></span><br><span class="line"><span class="comment">/* 系统返回错误信息，存在依赖该表的对象，此表不能被删除》*/</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> Student <span class="keyword">CASCADE</span>; <span class="comment">/*删除 Student 表*/</span></span><br><span class="line">—NOTICE: <span class="keyword">drop</span> cascades <span class="keyword">to</span> <span class="keyword">view</span> <span class="keyword">IS</span> Student <span class="comment">/*系统返回提示，此表上的视图也被删除*/</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> IS_Student;</span><br><span class="line"><span class="comment">--ERROR: relation " IS Student " does not exist</span></span><br></pre></td></tr></table></figure>





<h4 id="索引的建立和删除"><a href="#索引的建立和删除" class="headerlink" title="索引的建立和删除"></a>索引的建立和删除</h4><p><em>当表的数据量比较大时，查询操作会比较耗时。建立索引是加快查询速度的有效手段。  类似于图书后面的索引，能快速定位到需要查询的内容。用户可以根据应用环境的需要在基本表上建立一个或多个索引，以提供多种存取路径，加快查找速度。</em>    </p>
<p><em>数据库索引有多种类型，常见索引包括<strong>顺序文件上的索引</strong>、<strong>B+树索引</strong>、<strong>散 列 （hash）索引</strong>、<strong>位图索引</strong>等。</em>  </p>
<ul>
<li>顺序文件上的索引是针对按指定属性值升序或降序存储的关系，在该属性<br>上建立一个顺序索引文件，索引文件由属性值和相应的元组指针组成。  </li>
<li>B+树索引是将索引属性组织成B+树形式， B+树的叶结点为属性值和相应的元组指针。 B+树索引具有动态平衡的<br>优点。</li>
<li>散列索引是建立若干个桶，将索引属性按照其散列函数值映射到相应桶中，桶中存放索引属性值和相应的元组指针。散列索引具有查找速度快的特点。 </li>
<li>位图索引是用位向量记录索引属性中可能出现的值，每个位向量对应一个可能值  </li>
</ul>
<p><em>索引虽然能够加速数据库查询，但需要占用一定的存储空间，当基本表更新时，索引要进行相应的维护，这些都会增加数据库的负担,因此要根据实际应用的需要有选择地创建索引。目前SQ L标准中没有涉及索引,一般说来，建立与删除索引由数据库管理员或表的属主（owner）, 即建立表的人，负责<br>完成。用户不必也不能显式地选择索引。索引是关系数据库管理系统的内部实现技术，属于内模式的范畴。</em>  </p>
<h5 id="索引建立"><a href="#索引建立" class="headerlink" title="索引建立"></a>索引建立</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">UNIQUE</span>] [CLUSTER] <span class="keyword">INDEX</span> &lt;索引名&gt;</span><br><span class="line"><span class="keyword">ON</span>＜表名＞（＜列名＞[＜次序＞] [＜列名＞ [＜次序＞]]•••）;</span><br><span class="line"><span class="comment">/*UNIQUE表明此索引的每一个索引值只对应唯一的数据记录。</span></span><br><span class="line"><span class="comment">CLUSTER表示要建立的索引是聚簇索引。*/</span></span><br></pre></td></tr></table></figure>

<p><em>索引可以建立在该表的一列或多列上，各列名之间用逗号分隔。每个＜列名&gt;后面还可以用＜次序 &gt;指定索引值的排列次序，可 选 ASC （升序 ）或 DESC （降序），默认值为ASC。</em>  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> <span class="keyword">INDEX</span> Stusno <span class="keyword">ON</span> Student（Sno）;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> <span class="keyword">INDEX</span> Coucno <span class="keyword">ON</span> Course（Cno）;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> <span class="keyword">INDEX</span> SCno <span class="keyword">ON</span> SC（Sno <span class="keyword">ASC</span>,Cno <span class="keyword">DESC</span>）;</span><br></pre></td></tr></table></figure>



<h5 id="修改索引"><a href="#修改索引" class="headerlink" title="修改索引"></a>修改索引</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">INDEX</span> ＜旧索引名＞  <span class="keyword">RENAME</span> <span class="keyword">TO</span> ＜新索引名＞ ；</span><br></pre></td></tr></table></figure>



<h5 id="删除索引"><a href="#删除索引" class="headerlink" title="删除索引"></a>删除索引</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">INDEX</span> ＜索引名＞；</span><br></pre></td></tr></table></figure>



<h4 id="数字字典"><a href="#数字字典" class="headerlink" title="数字字典"></a>数字字典</h4><p><em>数据字典是关系数据库管理系统内部的一组系统表，它记录了数据库中所有的定义信息,包括关系模式定义、视图定义、索引定义、完整性约束定义、各类用户对数据库的操作权限、统计信息等。关系数据库管理系统在执行SQ L 的数据定义语句时，实际上就是在更新数据字<br>典表中的相应信息。在进行查询优化和查询处理时，数据字典中的信息是其重要依据。</em>  </p>
<hr>
<blockquote>
<p>最惬意的时候，往往是失败的开始。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">数据库系统</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ALTER/" rel="tag">ALTER</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CREATE/" rel="tag">CREATE</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DROP/" rel="tag">DROP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89/" rel="tag">数据定义</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hadoop理论课-第四章YARN" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E5%9B%9B%E7%AB%A0YARN.html" class="article-date">
      <time datetime="2020-03-30T08:34:02.000Z" itemprop="datePublished">2020-03-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E5%9B%9B%E7%AB%A0YARN.html">Hadoop理论课-第四章</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="第四章-YARN"><a href="#第四章-YARN" class="headerlink" title="第四章  YARN"></a>第四章  YARN</h2><h3 id="YARN-简介"><a href="#YARN-简介" class="headerlink" title="YARN 简介"></a>YARN 简介</h3><p><em>是针对MapReduce1 的缺点开发的</em></p>
<h4 id="MapReduce1工作流程"><a href="#MapReduce1工作流程" class="headerlink" title="MapReduce1工作流程"></a>MapReduce1工作流程</h4><img src="https://s1.ax1x.com/2020/03/30/GnMq0J.png" alt="GnMq0J.png" border="0">

<p><em>MapReduce1 当任务过多时，不利于系统扩展；难以支持其他的框架；JobTracker单点故障</em></p>
<h4 id="MapReduce2"><a href="#MapReduce2" class="headerlink" title="MapReduce2"></a>MapReduce2</h4><img src="https://s1.ax1x.com/2020/03/30/GnQhHH.png" alt="GnQhHH.png" border="0">

<h4 id="YARN-进程"><a href="#YARN-进程" class="headerlink" title="YARN 进程"></a>YARN 进程</h4><p>ResourceManager</p>
<p>NodeManager</p>
<h4 id="什么是YARN"><a href="#什么是YARN" class="headerlink" title="什么是YARN"></a>什么是YARN</h4><p><em>YARN ：Yet Another Resource Negotiator，另一种资源协调者。<br><strong>最初</strong>是为了改善MapReduce的实现，<strong>但也</strong>是一种资源调度框架，具有通用性，可为上层应用提供统一的资源管理和调度，可以支持其他的分布式计算模式（如Spark）。<br>它的引入为集群在利用率、资`源统一管理和数据共享等方面带来了巨大好处。</em></p>
<h3 id="YARN架构"><a href="#YARN架构" class="headerlink" title="YARN架构"></a>YARN架构</h3><img src="https://s1.ax1x.com/2020/03/30/GnUQz9.png" alt="GnUQz9.png" border="0">



<h4 id="容器-Container"><a href="#容器-Container" class="headerlink" title="容器 Container"></a>容器 Container</h4><p><em>Container是YARN中资源的抽象，它封装了某个节点上的多维度资源。</em></p>
<p><em>YARN中资源包括内存、CPU、磁盘输入输出等等</em></p>
<h4 id="ResourceManager"><a href="#ResourceManager" class="headerlink" title="ResourceManager"></a>ResourceManager</h4><p><em>负责资源分配和管理</em></p>
<p><em>主要由调度器和应用程序管理器两个组件组成</em></p>
<ul>
<li>调度器（Scheduler）：<pre><code>调度器根据资源情况为应用程序分配封装在Container中的资源。</code></pre></li>
<li>应用程序管理器（Application Manager）：<pre><code>应用程序管理器负责管理整个系统中所有应用程序</code></pre></li>
</ul>
<h4 id="NodeManager"><a href="#NodeManager" class="headerlink" title="NodeManager"></a>NodeManager</h4><p><em>是每个节点上的资源和任务管理器</em></p>
<ul>
<li>定时向ResourceManager汇报本节点上的资源使用情况和各个Container的运行状态；</li>
<li>接收并处理来自ApplicationManager的Container启动/停止等请求。</li>
</ul>
<h4 id="ApplicationMaster（主应用"><a href="#ApplicationMaster（主应用" class="headerlink" title="ApplicationMaster（主应用)"></a>ApplicationMaster（主应用)</h4><p>ApplicationMaster是一个详细的框架库，它结合从 ResourceManager 获得的资源和 NodeManager 协同工作来运行和监控任务。<br>用户提交的每一个应用程序均包含一个ApplicationMaster。<br>主要功能包括：<br>1)、与ResourceManager调度器协商以获取抽象资源（Container）；<br>2)、负责应用的监控，跟踪应用执行状态，重启失败任务等；<br>3)、与NodeManager协同工作完成Task的执行和监控。</p>
<h4 id="YARN中应用运行机制-流程"><a href="#YARN中应用运行机制-流程" class="headerlink" title="YARN中应用运行机制(流程)"></a>YARN中应用运行机制(流程)</h4><p><a href="https://imgchr.com/i/GnDCGT" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/03/30/GnDCGT.md.png" alt="GnDCGT.md.png" border="0"></a></p>
<h4 id="YARN中任务进度监控"><a href="#YARN中任务进度监控" class="headerlink" title="YARN中任务进度监控"></a>YARN中任务进度监控</h4><p><a href="https://imgchr.com/i/GnD9iV" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/03/30/GnD9iV.md.png" alt="GnD9iV.md.png" border="0"></a></p>
<h4 id><a href="#" class="headerlink" title></a></h4><h4 id="MapReduce1与YARN组成对比"><a href="#MapReduce1与YARN组成对比" class="headerlink" title="MapReduce1与YARN组成对比"></a>MapReduce1与YARN组成对比</h4><img src="https://s1.ax1x.com/2020/03/30/GnDzOH.png" alt="GnDzOH.png" border="0">

<h4 id="Yarn对MapReduce运行性能提升"><a href="#Yarn对MapReduce运行性能提升" class="headerlink" title="Yarn对MapReduce运行性能提升"></a>Yarn对MapReduce运行性能提升</h4><p>主要特点： ResourceManager与Application Master分离</p>
<p>性能提升:可以扩展支持10,000个节点，100,000个任务</p>
<h4 id="YARN调度器"><a href="#YARN调度器" class="headerlink" title="YARN调度器"></a>YARN调度器</h4><h5 id="FIFO-Scheduler"><a href="#FIFO-Scheduler" class="headerlink" title="FIFO Scheduler"></a>FIFO Scheduler</h5><p><em>最简单的调度器，任务先提交先执行</em></p>
<h5 id="Capacity-Scheduler"><a href="#Capacity-Scheduler" class="headerlink" title="Capacity Scheduler"></a>Capacity Scheduler</h5><p><em>分成多个队列，每个队列占用一定资源，可以看作是FIFO Scheduler的多队列版本</em></p>
<p><em>每个队列可以限制资源使用量。但是，队列间的资源分配以使用量作排列依据，使得容量小的队列有竞争优势</em></p>
<p><em>注意：如果不限制某队列最大容量，则运行过程中，它可以占用全部资源。</em><br><a href="https://imgchr.com/i/GI7Jx0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/10/GI7Jx0.png" alt="GI7Jx0.png" border="0"></a></p>
<h5 id="Fair-Scheduler"><a href="#Fair-Scheduler" class="headerlink" title="Fair Scheduler"></a>Fair Scheduler</h5><p><em>假设每个任务具有相同的优先级，平均分配系统的资源</em></p>
<p>单队列</p>
<img src="https://s1.ax1x.com/2020/03/30/GnyELQ.md.png" alt="GnyELQ.md.png" border="0">

<p>多队列</p>
<p><a href="https://imgchr.com/i/Gnyeds" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/03/30/Gnyeds.md.png" alt="Gnyeds.md.png" border="0"></a></p>
<h4 id="三种调度器比较"><a href="#三种调度器比较" class="headerlink" title="三种调度器比较"></a>三种调度器比较</h4><p><a href="https://imgchr.com/i/GI7G2q" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/04/10/GI7G2q.md.png" alt="GI7G2q.md.png" border="0"></a></p>
<hr>
<blockquote>
<p>世界上那些最容易的事情中，拖延时间最不费力。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Hadoop/">Hadoop</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hadoop/" rel="tag">hadoop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/yarn/" rel="tag">yarn</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-计算机网络-第三章" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E4%B8%89%E7%AB%A0.html" class="article-date">
      <time datetime="2020-03-30T02:06:47.000Z" itemprop="datePublished">2020-03-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E4%B8%89%E7%AB%A0.html">计算机网络-第三章</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              这是一篇加密文章
          
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7/" rel="tag">封装成帧</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A3%80%E6%B5%8BCRC/" rel="tag">循环冗余检测CRC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93/" rel="tag">透明传输</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E4%B8%89%E7%AB%A0.html#more">大航海 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hexo更改颜色" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/hexo%E6%9B%B4%E6%94%B9%E9%A2%9C%E8%89%B2.html" class="article-date">
      <time datetime="2020-03-29T13:53:40.000Z" itemprop="datePublished">2020-03-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hexo%E6%9B%B4%E6%94%B9%E9%A2%9C%E8%89%B2.html">hexo更改颜色</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>

















<hr>
<blockquote>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Hexo/">Hexo</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-廖雪峰java教程笔记-面向对象编程" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E5%BB%96%E9%9B%AA%E5%B3%B0java%E6%95%99%E7%A8%8B%E7%AC%94%E8%AE%B0-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B.html" class="article-date">
      <time datetime="2020-03-26T02:42:36.000Z" itemprop="datePublished">2020-03-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E5%BB%96%E9%9B%AA%E5%B3%B0java%E6%95%99%E7%A8%8B%E7%AC%94%E8%AE%B0-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B.html">廖雪峰教程笔记-面向对象编程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              这是一篇加密文章
          
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/python/">python</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BB%96%E9%9B%AA%E5%B3%B0/" rel="tag">廖雪峰</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/%E5%BB%96%E9%9B%AA%E5%B3%B0java%E6%95%99%E7%A8%8B%E7%AC%94%E8%AE%B0-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B.html#more">大航海 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/15/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/17/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2021 TTYONG
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank" rel="external nofollow noopener noreferrer">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style="display:none">
                        <span id="site-visit">海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style="display:none">
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"live2d-widget-model-hibiki"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
