<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>田勇的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="欢迎来到我的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="田勇的博客">
<meta property="og:url" content="http://tianyong.fun/page/12/index.html">
<meta property="og:site_name" content="田勇的博客">
<meta property="og:description" content="欢迎来到我的博客">
<meta property="article:author" content="TTYONG">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="田勇的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet">
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 4.2.0"></head></html>
<!-- 样式一（鼠标点击更换样式） -->
<script src="https://g.joyinshare.com/hc/ribbon.min.js" type="text/javascript"></script>
<!-- 样式二（飘动的彩带） -->
<script src="https://g.joyinshare.com/hc/piao.js" type="text/javascript"></script>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">TTYONG</a></h1>
        </hgroup>

        
        <p class="header-subtitle">比你优秀的人都努力，有什么理由不努力！</p>
        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/Home">博客首页</a></li>
                        
                            <li><a href="/works">作品展示</a></li>
                        
                            <li><a href="/about">留言打卡</a></li>
                        
                            <li><a href="/FrontEndGuide">前端导航</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail" rel="external nofollow noopener noreferrer">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/luuman" title="github" rel="external nofollow noopener noreferrer">github</a>
                            
                                <a class="fl zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo" target="_blank" href="#" title="weibo">weibo</a>
                            
                                <a class="fl google" target="_blank" href="#" title="google">google</a>
                            
                                <a class="fl twitter" target="_blank" href="#" title="twitter">twitter</a>
                            
                                <a class="fl linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/ALTER/" style="font-size: 10px;">ALTER</a> <a href="/tags/APlayer/" style="font-size: 10px;">APlayer</a> <a href="/tags/CDN/" style="font-size: 10px;">CDN</a> <a href="/tags/CREATE/" style="font-size: 10px;">CREATE</a> <a href="/tags/C%E5%9F%BA%E6%9C%AC%E5%B8%B8%E8%AF%86/" style="font-size: 10px;">C基本常识</a> <a href="/tags/C%E7%8A%AF%E7%9A%84%E9%94%99%E8%AF%AF/" style="font-size: 10px;">C犯的错误</a> <a href="/tags/DROP/" style="font-size: 10px;">DROP</a> <a href="/tags/HDFS/" style="font-size: 20px;">HDFS</a> <a href="/tags/Hadoop/" style="font-size: 16.67px;">Hadoop</a> <a href="/tags/Hbase/" style="font-size: 10px;">Hbase</a> <a href="/tags/Hexo/" style="font-size: 13.33px;">Hexo</a> <a href="/tags/Hive/" style="font-size: 10px;">Hive</a> <a href="/tags/Mapreduce/" style="font-size: 10px;">Mapreduce</a> <a href="/tags/Pig/" style="font-size: 10px;">Pig</a> <a href="/tags/SELECT/" style="font-size: 10px;">SELECT</a> <a href="/tags/SEO/" style="font-size: 13.33px;">SEO</a> <a href="/tags/SQL/" style="font-size: 16.67px;">SQL</a> <a href="/tags/TOC/" style="font-size: 10px;">TOC</a> <a href="/tags/Text/" style="font-size: 10px;">Text</a> <a href="/tags/URL/" style="font-size: 10px;">URL</a> <a href="/tags/beautifulSoup/" style="font-size: 10px;">beautifulSoup</a> <a href="/tags/bs4/" style="font-size: 10px;">bs4</a> <a href="/tags/charles/" style="font-size: 10px;">charles</a> <a href="/tags/charless/" style="font-size: 10px;">charless</a> <a href="/tags/draft/" style="font-size: 10px;">draft</a> <a href="/tags/eclipse/" style="font-size: 10px;">eclipse</a> <a href="/tags/encrypt/" style="font-size: 10px;">encrypt</a> <a href="/tags/hadoop/" style="font-size: 10px;">hadoop</a> <a href="/tags/hadoop%E6%BA%90%E7%A0%81/" style="font-size: 10px;">hadoop源码</a> <a href="/tags/hdfs/" style="font-size: 10px;">hdfs</a> <a href="/tags/hexo/" style="font-size: 20px;">hexo</a> <a href="/tags/hive/" style="font-size: 10px;">hive</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/mapreduce/" style="font-size: 10px;">mapreduce</a> <a href="/tags/nofollw/" style="font-size: 10px;">nofollw</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/pymongo/" style="font-size: 10px;">pymongo</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/python%E7%88%AC%E8%99%AB/" style="font-size: 10px;">python爬虫</a> <a href="/tags/request%E5%BA%93/" style="font-size: 10px;">request库</a> <a href="/tags/re%E5%BA%93/" style="font-size: 10px;">re库</a> <a href="/tags/seo/" style="font-size: 16.67px;">seo</a> <a href="/tags/seo%E4%BC%98%E5%8C%96/" style="font-size: 13.33px;">seo优化</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/urllib/" style="font-size: 10px;">urllib</a> <a href="/tags/vmware/" style="font-size: 10px;">vmware</a> <a href="/tags/xpath/" style="font-size: 10px;">xpath</a> <a href="/tags/yarn/" style="font-size: 10px;">yarn</a> <a href="/tags/zookeeper/" style="font-size: 10px;">zookeeper</a> <a href="/tags/%E4%B9%B1%E7%A0%81/" style="font-size: 13.33px;">乱码</a> <a href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" style="font-size: 10px;">二分查找</a> <a href="/tags/%E4%BA%8C%E7%BB%B4%E7%A0%81/" style="font-size: 10px;">二维码</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 13.33px;">优化</a> <a href="/tags/%E5%85%B3%E9%94%AE%E8%AF%8D%E4%B8%8E%E6%8F%8F%E8%BF%B0/" style="font-size: 10px;">关键词与描述</a> <a href="/tags/%E5%88%9B%E5%BB%BA%E8%A1%A8/" style="font-size: 10px;">创建表</a> <a href="/tags/%E5%88%A0%E9%99%A4/" style="font-size: 10px;">删除</a> <a href="/tags/%E5%88%A0%E9%99%A4%E8%A1%A8/" style="font-size: 10px;">删除表</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 10px;">加密</a> <a href="/tags/%E5%8A%A0%E9%80%9F/" style="font-size: 10px;">加速</a> <a href="/tags/%E5%8C%85%E5%AF%BC%E5%85%A5/" style="font-size: 10px;">包导入</a> <a href="/tags/%E5%8D%95%E8%AF%8D/" style="font-size: 10px;">单词</a> <a href="/tags/%E5%8E%8B%E7%BC%A9%E6%96%87%E4%BB%B6/" style="font-size: 10px;">压缩文件</a> <a href="/tags/%E5%91%BD%E4%BB%A4/" style="font-size: 13.33px;">命令</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" style="font-size: 10px;">命令行</a> <a href="/tags/%E5%9B%BE%E7%89%87/" style="font-size: 10px;">图片</a> <a href="/tags/%E5%9C%86%E8%A7%92/" style="font-size: 10px;">圆角</a> <a href="/tags/%E5%A4%96%E9%93%BE/" style="font-size: 10px;">外链</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%A1%8C%E4%B8%9A%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98/" style="font-size: 10px;">大数据行业项目部署实战</a> <a href="/tags/%E5%A4%B4%E5%83%8F/" style="font-size: 10px;">头像</a> <a href="/tags/%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90/" style="font-size: 10px;">好友推荐</a> <a href="/tags/%E5%AD%97%E6%95%B0/" style="font-size: 10px;">字数</a> <a href="/tags/%E5%AE%9E%E9%AA%8C%E8%AF%BE/" style="font-size: 13.33px;">实验课</a> <a href="/tags/%E5%AF%B9%E9%BD%90/" style="font-size: 10px;">对齐</a> <a href="/tags/%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7/" style="font-size: 10px;">封装成帧</a> <a href="/tags/%E5%B4%94%E5%BA%86%E6%89%8D/" style="font-size: 13.33px;">崔庆才</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95/" style="font-size: 10px;">常用用法</a> <a href="/tags/%E5%BB%96%E9%9B%AA%E5%B3%B0/" style="font-size: 13.33px;">廖雪峰</a> <a href="/tags/%E5%BC%80%E5%90%AF/" style="font-size: 10px;">开启</a> <a href="/tags/%E5%BC%82%E5%B8%B8/" style="font-size: 13.33px;">异常</a> <a href="/tags/%E5%BC%95%E7%94%A8/" style="font-size: 10px;">引用</a> <a href="/tags/%E5%BC%95%E7%94%A8%E8%87%AA%E5%B7%B1%E6%96%87%E7%AB%A0/" style="font-size: 10px;">引用自己文章</a> <a href="/tags/%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A3%80%E6%B5%8BCRC/" style="font-size: 10px;">循环冗余检测CRC</a> <a href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 10px;">快捷键</a> <a href="/tags/%E6%89%80%E6%80%9D%E6%89%80%E6%83%B3/" style="font-size: 10px;">所思所想</a> <a href="/tags/%E6%89%93%E8%B5%8F/" style="font-size: 10px;">打赏</a> <a href="/tags/%E6%8E%92%E7%89%88/" style="font-size: 10px;">排版</a> <a href="/tags/%E6%8E%A8%E9%80%81/" style="font-size: 10px;">推送</a> <a href="/tags/%E6%91%98%E5%BD%95/" style="font-size: 10px;">摘录</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89/" style="font-size: 10px;">数据定义</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0/" style="font-size: 10px;">数据更新</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/" style="font-size: 10px;">数据查询</a> <a href="/tags/%E6%97%8B%E8%BD%AC/" style="font-size: 10px;">旋转</a> <a href="/tags/%E6%A0%87%E9%A2%98%E4%BC%98%E5%8C%96/" style="font-size: 10px;">标题优化</a> <a href="/tags/%E6%A6%82%E8%BF%B0/" style="font-size: 10px;">概述</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">正则表达式</a> <a href="/tags/%E6%BF%80%E6%B4%BB/" style="font-size: 10px;">激活</a> <a href="/tags/%E7%81%AB%E8%BD%A6%E8%AE%A2%E7%A5%A8%E7%B3%BB%E7%BB%9F/" style="font-size: 13.33px;">火车订票系统</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 13.33px;">爬虫</a> <a href="/tags/%E7%89%9B%E9%A1%BF%E6%B3%95/" style="font-size: 10px;">牛顿法</a> <a href="/tags/%E7%89%A9%E7%90%86%E5%B1%82/" style="font-size: 10px;">物理层</a> <a href="/tags/%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">直接插入排序</a> <a href="/tags/%E7%9B%B4%E9%93%BE/" style="font-size: 10px;">直链</a> <a href="/tags/%E7%A0%B4%E8%A7%A3/" style="font-size: 10px;">破解</a> <a href="/tags/%E7%A8%80%E7%96%8F%E5%90%91%E9%87%8F/" style="font-size: 10px;">稀疏向量</a> <a href="/tags/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" style="font-size: 10px;">第二章</a> <a href="/tags/%E7%BA%A6%E6%9D%9F/" style="font-size: 10px;">约束</a> <a href="/tags/%E7%BA%A6%E6%9D%9F%E7%B1%BB%E5%9E%8B/" style="font-size: 10px;">约束类型</a> <a href="/tags/%E7%BA%BF%E6%80%A7%E5%88%86%E7%B1%BB%E5%99%A8/" style="font-size: 10px;">线性分类器</a> <a href="/tags/%E7%BB%93%E6%9E%84/" style="font-size: 10px;">结构</a> <a href="/tags/%E8%8D%89%E7%A8%BF/" style="font-size: 10px;">草稿</a> <a href="/tags/%E8%A7%86%E5%9B%BE/" style="font-size: 10px;">视图</a> <a href="/tags/%E8%A7%A3%E7%A0%81/" style="font-size: 10px;">解码</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">计算机网络</a> <a href="/tags/%E8%AF%84%E8%AE%BA/" style="font-size: 10px;">评论</a> <a href="/tags/%E8%AF%AD%E6%B3%95/" style="font-size: 16.67px;">语法</a> <a href="/tags/%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93/" style="font-size: 10px;">透明传输</a> <a href="/tags/%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF/" style="font-size: 13.33px;">阅读时长</a> <a href="/tags/%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE/" style="font-size: 10px;">音乐播放</a> <a href="/tags/%E9%A2%84%E6%98%BE%E7%A4%BA/" style="font-size: 10px;">预显示</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://luuman.github.io/" rel="external nofollow noopener noreferrer">name</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">纯海迷、爱运动、爱交友、爱旅行、喜欢接触新鲜事物、迎接新的挑战，更爱游离于错综复杂的编码与逻辑中</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">TTYONG</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">TTYONG</a></h1>
            </hgroup>
            
            <p class="header-subtitle">比你优秀的人都努力，有什么理由不努力！</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/Home">博客首页</a></li>
                
                    <li><a href="/works">作品展示</a></li>
                
                    <li><a href="/about">留言打卡</a></li>
                
                    <li><a href="/FrontEndGuide">前端导航</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail" rel="external nofollow noopener noreferrer">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/luuman" title="github" rel="external nofollow noopener noreferrer">github</a>
                    
                        <a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
                    
                        <a class="google" target="_blank" href="#" title="google">google</a>
                    
                        <a class="twitter" target="_blank" href="#" title="twitter">twitter</a>
                    
                        <a class="linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-数据库系统-数据库编程" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B.html" class="article-date">
      <time datetime="2020-05-19T06:14:37.000Z" itemprop="datePublished">2020-05-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B.html">数据库系统-数据库编程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h1 id="数据库编程"><a href="#数据库编程" class="headerlink" title="数据库编程"></a>数据库编程</h1><h2 id="SQL-Server编程结构"><a href="#SQL-Server编程结构" class="headerlink" title="SQL Server编程结构"></a>SQL Server编程结构</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="声明局部变量"><a href="#声明局部变量" class="headerlink" title="声明局部变量"></a>声明局部变量</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span> @局部变量名 数据类型</span><br><span class="line">[， @局部变量名 数据类型]</span><br></pre></td></tr></table></figure>

<p><em>可以同时定义多个变量，中间用逗号隔开</em></p>
<h4 id="赋值局部变量"><a href="#赋值局部变量" class="headerlink" title="赋值局部变量"></a>赋值局部变量</h4><p><em>为局部变量赋值可以用SET或SELECT语句</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> @变量名=表达式</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> 列<span class="number">1</span>,..,列n</span><br><span class="line">@变量名=表达式</span><br><span class="line"><span class="keyword">FROM</span> 表名</span><br><span class="line"><span class="keyword">WHERE</span> 条件表达式</span><br></pre></td></tr></table></figure>

<p><em>注: 如果SELECT语句返回多个值，则局部变量取最后一个返回值。例：</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> @Sname = Sname </span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Ssex = <span class="string">'男'</span></span><br></pre></td></tr></table></figure>

<h4 id="显示信息"><a href="#显示信息" class="headerlink" title="显示信息"></a>显示信息</h4><h5 id="Print语句"><a href="#Print语句" class="headerlink" title="Print语句"></a>Print语句</h5><p><em>print语句只能显示字符数据类型</em></p>
<h5 id><a href="#" class="headerlink" title></a></h5><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*注释文本*/</span></span><br><span class="line">或</span><br><span class="line"><span class="comment">-- 注释文本</span></span><br></pre></td></tr></table></figure>

<h3 id="批处理"><a href="#批处理" class="headerlink" title="批处理"></a>批处理</h3><p><em>批处理是成组执行的一条或多条T-SQL指令</em></p>
<p><em>GO语句用于指定批处理语句的结束处，单独使用一行。本身不是T-SQL的部分</em></p>
<p><strong>注意</strong>：</p>
<p>不能在同一个批处理处，先删除，后使用</p>
<p>不在在同一个批处理处，先修改，后使用</p>
<h3 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h3><h4 id="BEGIN…END"><a href="#BEGIN…END" class="headerlink" title="BEGIN…END"></a>BEGIN…END</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">语句</span><br><span class="line">....</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<h4 id="IF语句"><a href="#IF语句" class="headerlink" title="IF语句"></a>IF语句</h4><h5 id="IF-THEN语句"><a href="#IF-THEN语句" class="headerlink" title="IF-THEN语句"></a>IF-THEN语句</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IF condition THEN</span><br><span class="line">	Sequence_of_statements;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>;</span><br></pre></td></tr></table></figure>

<h5 id="IF-THEN-ELSE语句"><a href="#IF-THEN-ELSE语句" class="headerlink" title="IF-THEN-ELSE语句"></a>IF-THEN-ELSE语句</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IF condition THEN</span><br><span class="line">	Sequence_of_statements1;</span><br><span class="line">ELSE</span><br><span class="line">	Sequence_of_statements2;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>;</span><br></pre></td></tr></table></figure>

<h5 id="嵌套的IF语句"><a href="#嵌套的IF语句" class="headerlink" title="嵌套的IF语句"></a>嵌套的IF语句</h5><p><em>在THEN和ELSE子句中还可以包含IF语句</em></p>
<h5 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h5><p><a href="https://imgchr.com/i/Y5Mhaq" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/19/Y5Mhaq.th.png" alt="Y5Mhaq.png" border="0"></a></p>
<img src="https://s1.ax1x.com/2020/05/20/YTFdDP.png" alt="YTFdDP.png" border="0">

<h4 id="WHILE"><a href="#WHILE" class="headerlink" title="WHILE"></a>WHILE</h4><h4 id="GOTO"><a href="#GOTO" class="headerlink" title="GOTO"></a>GOTO</h4><h4 id="WAITFOR"><a href="#WAITFOR" class="headerlink" title="WAITFOR"></a>WAITFOR</h4><h4 id="RETURN"><a href="#RETURN" class="headerlink" title="RETURN"></a>RETURN</h4><h4 id="CASE"><a href="#CASE" class="headerlink" title="CASE"></a>CASE</h4><h2 id="存储过程-重点"><a href="#存储过程-重点" class="headerlink" title="存储过程(重点)"></a>存储过程(重点)</h2><p><em>过程化 SQ L块主要有两种类型，即命名块和匿名块</em></p>
<p><em>匿名块每次执行时都要进行编译，它不能被存储到数据库中，也不能在其他过程化SQ L块中调用</em></p>
<p>  <em>过程和函数是命名块，它们被编译后保存在数据库中，称 为持久性存储模块) ,可以被反复调用，运行速度较快</em></p>
<h3 id="存储过程的基本概念"><a href="#存储过程的基本概念" class="headerlink" title="存储过程的基本概念"></a>存储过程的基本概念</h3><p><em>存储过程是由过程化SQ L 语句书写的过程，这个过程经编译和优化后存储在数据库服务器中，因此称它为存储过程，使用时只要调用即可</em>  </p>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>存储过程降低了客户机和服务器之间的通信量  </p>
<p>运行效率高  </p>
<p>方便实施企业规则  </p>
<h3 id="创建存储过程"><a href="#创建存储过程" class="headerlink" title="创建存储过程"></a>创建存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 过程名([@参数<span class="number">1</span> 类型,.., @参数n 类型)</span><br><span class="line"><span class="keyword">AS</span> &lt;过程化<span class="keyword">SQL</span>块&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--参数不带括号也可以</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 过程名</span><br><span class="line">@参数<span class="number">1</span> 类型,.., @参数n 类型</span><br><span class="line"><span class="keyword">AS</span></span><br></pre></td></tr></table></figure>



<p><em>可简写成PROC</em></p>
<h4 id="无参数"><a href="#无参数" class="headerlink" title="无参数"></a>无参数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> aa</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SQL</span>语句</span><br></pre></td></tr></table></figure>



<h4 id="带参数"><a href="#带参数" class="headerlink" title="带参数"></a>带参数</h4><img src="https://s1.ax1x.com/2020/05/19/Y5Y8jf.png" alt="Y5Y8jf.png" border="0">

<img src="https://s1.ax1x.com/2020/05/20/YTuBVA.png" alt="YTuBVA.png" border="0">

<h4 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h4><img src="https://s1.ax1x.com/2020/05/20/YTkJaT.png" alt="YTkJaT.png" border="0">

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXECUTE</span> exp4</span><br><span class="line"><span class="keyword">EXECUTE</span> exp4 <span class="string">'%...'</span></span><br><span class="line"><span class="keyword">EXECUTE</span> exp4 @pno=<span class="string">'....'</span></span><br><span class="line"><span class="keyword">EXECUTE</span> exp4 <span class="string">'...'</span>, <span class="string">'...'</span></span><br></pre></td></tr></table></figure>



<h3 id="执行存储过程"><a href="#执行存储过程" class="headerlink" title="执行存储过程"></a>执行存储过程</h3><img src="https://s1.ax1x.com/2020/05/19/Y5dghQ.png" alt="Y5dghQ.png" border="0">

<p><em>可简写成EXEC</em></p>
<h3 id="修改存储过程"><a href="#修改存储过程" class="headerlink" title="修改存储过程"></a>修改存储过程</h3><h4 id="重命名"><a href="#重命名" class="headerlink" title="重命名"></a>重命名</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">PROCEDURE</span> 过程名<span class="number">1</span> <span class="keyword">RENAME</span> <span class="keyword">TO</span> 过程名<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<h4 id="重编译"><a href="#重编译" class="headerlink" title="重编译"></a>重编译</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">PROCEDURE</span> 过程名(参数)</span><br><span class="line"><span class="keyword">AS</span></span><br></pre></td></tr></table></figure>

<h3 id="删除存储过程"><a href="#删除存储过程" class="headerlink" title="删除存储过程"></a>删除存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> 过程名;</span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p><em>和存储过程一样都是持久性存储模块；不同的是函数要指定返回类型</em></p>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> 函数名([参数<span class="number">1</span>, ..., 参数n]) <span class="keyword">RETURNS</span>&lt;类型&gt;</span><br><span class="line"><span class="keyword">AS</span> &lt;过程化<span class="keyword">SQL</span>块&gt;</span><br></pre></td></tr></table></figure>

<h3 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CALL</span>/<span class="keyword">SELECT</span> 函数名([参数<span class="number">1</span>, ..., 参数n])</span><br></pre></td></tr></table></figure>



<h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">FUNCTION</span> 过程名 <span class="number">1</span> <span class="keyword">RENAME</span> <span class="keyword">TO</span> 过程名 <span class="number">2</span>; <span class="comment">--重命名</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">FUNCTION</span> 函数名 COMPILE; <span class="comment">--重新编译一个函数</span></span><br></pre></td></tr></table></figure>

<h2 id="过程化SQL中的游标"><a href="#过程化SQL中的游标" class="headerlink" title="过程化SQL中的游标"></a>过程化SQL中的游标</h2><hr>
<blockquote>
<p>你未必万丈光芒，但始终温暖有光。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">数据库系统</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hadoop理论和实践-好友推荐" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/hadoop%E7%90%86%E8%AE%BA%E5%92%8C%E5%AE%9E%E8%B7%B5-%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90.html" class="article-date">
      <time datetime="2020-05-19T01:45:45.000Z" itemprop="datePublished">2020-05-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hadoop%E7%90%86%E8%AE%BA%E5%92%8C%E5%AE%9E%E8%B7%B5-%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90.html">hadoop理论课-好友推荐</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="好友推荐"><a href="#好友推荐" class="headerlink" title="好友推荐"></a>好友推荐</h2><h3 id="关系图"><a href="#关系图" class="headerlink" title="关系图"></a>关系图</h3><p><a href="https://imgchr.com/i/Y4YlJ1" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/19/Y4YlJ1.md.png" alt="Y4YlJ1.png" border="0"></a></p>
<h3 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h3><h4 id="统计数据"><a href="#统计数据" class="headerlink" title="统计数据"></a>统计数据</h4><p><em>以每个人为对象，统计直接关系</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tom cat hello hadoop</span><br><span class="line">cat tom hive</span><br><span class="line">hive cat hadoop world hello mr</span><br><span class="line">mr hive hello</span><br><span class="line">world hadoop hive hello mr</span><br><span class="line">hadoop hive tom world</span><br><span class="line">hello world tom hive mr</span><br></pre></td></tr></table></figure>



<h4 id="处理数据"><a href="#处理数据" class="headerlink" title="处理数据"></a>处理数据</h4><h5 id="map阶段输出数据"><a href="#map阶段输出数据" class="headerlink" title="map阶段输出数据"></a>map阶段输出数据</h5><p><em>以key-value的形式，表示两个人的直接或间接关系(0代表直接，1代表间接)</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;&#39;tom_cat&#39;: 0&gt;, &lt;&#39;tom_hello&#39;: 0&gt;, &lt;&#39;tom_hadoop&#39;: 0&gt;, &lt;&#39;cat_hello&#39;: 1&gt;, &lt;&#39;cat_hadoop&#39;: 1&gt;, &lt;&#39;hello_hadoop&#39;: 1&gt;</span><br><span class="line">&lt;&#39;cat_tom&#39;: 0&gt;， &lt;&#39;cat_hive&#39;: 0&gt;， &lt;&#39;tom_hive&#39;: 1&gt;</span><br><span class="line">&lt;&#39;hive_cat&#39;: 0&gt;, &lt;&#39;hive_hadoop&#39;: 0&gt;, &lt;&#39;hive_world&#39;: 0&gt;, &lt;&#39;hive_hello&#39;: 0&gt;, &lt;&#39;hive_mr&#39;: 0&gt;, &lt;&#39;cat_hadoop&#39;: 1&gt;,&lt;&#39;cat_world&#39;: 1&gt; ,&lt;&#39;cat_hello&#39;: 1&gt; ,&lt;&#39;cat_mr&#39;: 1&gt; ,&lt;&#39;hadoop_world&#39;: 1&gt;, &lt;&#39;hadoop_hello&#39;: 1&gt;, &lt;&#39;hadoop_mr&#39;: 1&gt;, &lt;&#39;world_hello&#39;: 1&gt;, &lt;&#39;world_mr&#39;: 1&gt;, &lt;&#39;hello_mr&#39;: 1&gt;,</span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<p><em>通过Map函数形成两个人的关系，要注意升序还是降序，确保一致性</em></p>
<h5 id="reduce阶段传入数据"><a href="#reduce阶段传入数据" class="headerlink" title="reduce阶段传入数据"></a>reduce阶段传入数据</h5><p><em>key中两个人的顺序不同，记为同一个关系</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;tom_cat:（0,1,0,0,0）&gt;,&lt;tom_hadoop:(1,1,1)&gt;,&lt;tom_hive:(1,1,1,1,1,1)&gt;,&lt;tom_world:(1,1,1,1,1,1)&gt;，</span><br><span class="line">&lt;hadoop_world:(1,1,1,1)&gt;,&lt;hadoop_hello:(0,1,1)&gt;</span><br></pre></td></tr></table></figure>

<h5 id="reduce阶段传出数据"><a href="#reduce阶段传出数据" class="headerlink" title="reduce阶段传出数据"></a>reduce阶段传出数据</h5><p><em>传出间接关系拥有的共同好友</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cat_hadoop	2</span><br><span class="line">cat_hello	2</span><br><span class="line">cat_mr	1</span><br><span class="line">cat_world	1</span><br><span class="line">hadoop_hello	3</span><br><span class="line">hadoop_mr	1</span><br><span class="line">hive_tom	3</span><br><span class="line">mr_tom	1</span><br><span class="line">mr_world	2</span><br><span class="line">tom_world	2</span><br></pre></td></tr></table></figure>

<h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><h6 id="Mapper"><a href="#Mapper" class="headerlink" title="Mapper"></a>Mapper</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">recommendFriendMapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt;</span>&#123;</span><br><span class="line">	Text key2 = <span class="keyword">new</span> Text();</span><br><span class="line">	IntWritable value2 = <span class="keyword">new</span> IntWritable();</span><br><span class="line">	<span class="meta">@Override</span>	</span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable key, Text value, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		String data = value.toString();</span><br><span class="line">		String list[] = data.split(<span class="string">" "</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; list.length-<span class="number">1</span>; m++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> n = m + <span class="number">1</span>; n &lt; list.length; n++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>(m == <span class="number">0</span>) &#123;</span><br><span class="line">					String outcome = linkStr(list[<span class="number">0</span>], list[n]);</span><br><span class="line">					key2.set(outcome);</span><br><span class="line">					value2.set(<span class="number">0</span>);</span><br><span class="line">					context.write(key2, value2);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					String outcome = linkStr(list[m], list[n]);</span><br><span class="line">					key2.set(outcome);</span><br><span class="line">					value2.set(<span class="number">1</span>);</span><br><span class="line">					context.write(key2, value2);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">static</span> String <span class="title">linkStr</span><span class="params">(String a1, String a2)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(a1.compareTo(a2) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> a1+<span class="string">"_"</span>+a2;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> a2+<span class="string">"_"</span>+a1;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Reducer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">recommendFriendReducer</span> <span class="keyword">extends</span> <span class="title">Reducer</span>&lt;<span class="title">Text</span>, <span class="title">IntWritable</span>, <span class="title">Text</span>, <span class="title">IntWritable</span>&gt;</span>&#123;</span><br><span class="line">	IntWritable v4 = <span class="keyword">new</span> IntWritable();</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">reduce</span><span class="params">(Text k3, Iterable&lt;IntWritable&gt; v3, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">for</span>(IntWritable value:v3) &#123;</span><br><span class="line">			<span class="keyword">if</span>(value.get() == <span class="number">1</span>)&#123;</span><br><span class="line">				total += <span class="number">1</span>;	</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				flag = <span class="keyword">false</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(flag) &#123;</span><br><span class="line">			v4.set(total);</span><br><span class="line">			context.write(k3, v4);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IntWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Job;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sudo.edu.hadoop.mapreduce.wordCount.wordCountMain;</span><br><span class="line"><span class="keyword">import</span> sudo.edu.hadoop.mapreduce.wordCount.wordCountMapper;</span><br><span class="line"><span class="keyword">import</span> sudo.edu.hadoop.mapreduce.wordCount.wordCountReducer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">recommendFriendMain</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		Job job = Job.getInstance(<span class="keyword">new</span> Configuration());</span><br><span class="line">		job.setJarByClass(recommendFriendMain<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">		<span class="comment">//</span></span><br><span class="line">		job.setMapperClass(recommendFriendMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">		job.setMapOutputKeyClass(Text<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">		job.setMapOutputValueClass(IntWritable<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">		<span class="comment">//</span></span><br><span class="line">		job.setReducerClass(recommendFriendReducer<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">		job.setOutputKeyClass(Text<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">		job.setOutputValueClass(IntWritable<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">		<span class="comment">//</span></span><br><span class="line">		FileInputFormat.setInputPaths(job, <span class="keyword">new</span> Path(args[<span class="number">0</span>]));</span><br><span class="line">		FileOutputFormat.setOutputPath(job, <span class="keyword">new</span> Path(args[<span class="number">1</span>]));</span><br><span class="line">		job.waitForCompletion(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h6><p><img src="https://s1.ax1x.com/2020/06/03/tdPuiF.md.png" alt="tdPuiF.md.png" border="0"></p>
<h4 id="对XX-XX后续处理"><a href="#对XX-XX后续处理" class="headerlink" title="对XX_XX后续处理"></a>对XX_XX后续处理</h4><p><em>不需要reduce阶段；对前阶段得到的数据xx_xx进行处理</em></p>
<h5 id="Mapper-1"><a href="#Mapper-1" class="headerlink" title="Mapper"></a>Mapper</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.NullWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">RecommentResInfo</span>, <span class="title">NullWritable</span>&gt;</span>&#123;</span><br><span class="line">	RecommentResInfo keySend = <span class="keyword">new</span> RecommentResInfo();</span><br><span class="line">	<span class="meta">@Override</span> </span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable k1, Text v1, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">// 数据</span></span><br><span class="line">		<span class="comment">//xx_xx 5</span></span><br><span class="line">		String line = v1.toString();</span><br><span class="line">		String words[] = line.split(<span class="string">"\t"</span>);</span><br><span class="line">		String personStr = words[<span class="number">0</span>];</span><br><span class="line">		String[] ps = personStr.split(<span class="string">"_"</span>);</span><br><span class="line">		String p1Str = ps[<span class="number">0</span>];</span><br><span class="line">		String p2Str = ps[<span class="number">1</span>];</span><br><span class="line">		<span class="keyword">int</span> comNum = Integer.parseInt(words[<span class="number">1</span>]);</span><br><span class="line">		keySend.setName(p1Str);</span><br><span class="line">		keySend.setRecommentName(p2Str);</span><br><span class="line">		keySend.setCommonNum(comNum);</span><br><span class="line">		context.write(keySend, NullWritable.get());</span><br><span class="line">		keySend.setName(p2Str);</span><br><span class="line">		keySend.setRecommentName(p1Str);</span><br><span class="line">		context.write(keySend, NullWritable.get());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="RecommentResInfo-序列化，排序，人物类"><a href="#RecommentResInfo-序列化，排序，人物类" class="headerlink" title="RecommentResInfo(序列化，排序，人物类)"></a>RecommentResInfo(序列化，排序，人物类)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.NullWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">RecommentResInfo</span>, <span class="title">NullWritable</span>&gt;</span>&#123;</span><br><span class="line">	RecommentResInfo keySend = <span class="keyword">new</span> RecommentResInfo();</span><br><span class="line">	<span class="meta">@Override</span> </span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable k1, Text v1, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">// 数据</span></span><br><span class="line">		<span class="comment">//xx_xx 5</span></span><br><span class="line">		String line = v1.toString();</span><br><span class="line">		String words[] = line.split(<span class="string">"\t"</span>);</span><br><span class="line">		String personStr = words[<span class="number">0</span>];</span><br><span class="line">		String[] ps = personStr.split(<span class="string">"_"</span>);</span><br><span class="line">		String p1Str = ps[<span class="number">0</span>];</span><br><span class="line">		String p2Str = ps[<span class="number">1</span>];</span><br><span class="line">		<span class="keyword">int</span> comNum = Integer.parseInt(words[<span class="number">1</span>]);</span><br><span class="line">		keySend.setName(p1Str);</span><br><span class="line">		keySend.setRecommentName(p2Str);</span><br><span class="line">		keySend.setCommonNum(comNum);</span><br><span class="line">		context.write(keySend, NullWritable.get());</span><br><span class="line">		keySend.setName(p2Str);</span><br><span class="line">		keySend.setRecommentName(p1Str);</span><br><span class="line">		context.write(keySend, NullWritable.get());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Main-1"><a href="#Main-1" class="headerlink" title="Main"></a>Main</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sudo.edu.hadoop.mapreduce.recommendFriend2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.LongWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.NullWritable;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.Text;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">mapper</span> <span class="keyword">extends</span> <span class="title">Mapper</span>&lt;<span class="title">LongWritable</span>, <span class="title">Text</span>, <span class="title">RecommentResInfo</span>, <span class="title">NullWritable</span>&gt;</span>&#123;</span><br><span class="line">	RecommentResInfo keySend = <span class="keyword">new</span> RecommentResInfo();</span><br><span class="line">	<span class="meta">@Override</span> </span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">map</span><span class="params">(LongWritable k1, Text v1, Context context)</span> <span class="keyword">throws</span> IOException, InterruptedException</span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">// 数据</span></span><br><span class="line">		<span class="comment">//xx_xx 5</span></span><br><span class="line">		String line = v1.toString();</span><br><span class="line">		String words[] = line.split(<span class="string">"\t"</span>);</span><br><span class="line">		String personStr = words[<span class="number">0</span>];</span><br><span class="line">		String[] ps = personStr.split(<span class="string">"_"</span>);</span><br><span class="line">		String p1Str = ps[<span class="number">0</span>];</span><br><span class="line">		String p2Str = ps[<span class="number">1</span>];</span><br><span class="line">		<span class="keyword">int</span> comNum = Integer.parseInt(words[<span class="number">1</span>]);</span><br><span class="line">		keySend.setName(p1Str);</span><br><span class="line">		keySend.setRecommentName(p2Str);</span><br><span class="line">		keySend.setCommonNum(comNum);</span><br><span class="line">		context.write(keySend, NullWritable.get());</span><br><span class="line">		keySend.setName(p2Str);</span><br><span class="line">		keySend.setRecommentName(p1Str);</span><br><span class="line">		context.write(keySend, NullWritable.get());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="结果-1"><a href="#结果-1" class="headerlink" title="结果"></a>结果</h5><p><a href="https://imgchr.com/i/tdPKG4" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/06/03/tdPKG4.png" alt="tdPKG4.png" border="0"></a></p>
<hr>
<blockquote>
<p>每个人心中都有一团火，不过路过的人只看到了烟。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Hadoop/">Hadoop</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A5%BD%E5%8F%8B%E6%8E%A8%E8%8D%90/" rel="tag">好友推荐</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-计算机网络-第五章" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E4%BA%94%E7%AB%A0.html" class="article-date">
      <time datetime="2020-05-18T01:36:08.000Z" itemprop="datePublished">2020-05-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC%E4%BA%94%E7%AB%A0.html">计算机网络-第五章</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="第五章-运输层"><a href="#第五章-运输层" class="headerlink" title="第五章-运输层"></a>第五章-运输层</h2><p><em>网络层是为主机之间提供逻辑通信，<br>运输层为应用进程之间提供端到端的逻辑通信</em></p>
<h3 id="运输层的作用"><a href="#运输层的作用" class="headerlink" title="运输层的作用"></a>运输层的作用</h3><p><em>运输层为应用进程之间提供端到端的逻辑通信</em></p>
<p><em>在一台主机中经常有多个应用进程同时分别和另一台主机中的多个应用进程通信。<br>这表明运输层有一个很重要的<strong>功能——复用</strong> (multiplexing)和分用</em></p>
<p><a href="https://imgchr.com/i/tp8cdg" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/tp8cdg.md.png" alt="tp8cdg.png" border="0"></a></p>
<h3 id="运输层的端口"><a href="#运输层的端口" class="headerlink" title="运输层的端口"></a>运输层的端口</h3><p><em>运行在计算机中的进程是用进程<strong>标识符</strong>来标志的</em></p>
<p><em>但运行在应用层的各种应用进程却不应当让计算机操作系统指派它的进程标识符。这是因为在互联网上使用的计算机的操作系统种类很多，而不同的操作系统又使用不同格式的进程标识符</em></p>
<p><em>必须用统一的方法对 TCP/IP 体系的应用进程进行标志</em></p>
<p><em>解决这个问题的方法就是在运输层使用<strong>协议端口号</strong> (protocol port number)，或通常简称为<strong>端口</strong> (port)</em></p>
<h4 id="软件端口与硬件端口"><a href="#软件端口与硬件端口" class="headerlink" title="软件端口与硬件端口"></a>软件端口与硬件端口</h4><p><em>在协议栈层间的抽象的协议端口是*</em>软件端口<strong>。<br>路由器或交换机上的端口是</strong>硬件端口***</p>
<h4 id="TCP-IP-运输层端口"><a href="#TCP-IP-运输层端口" class="headerlink" title="TCP/IP 运输层端口"></a>TCP/IP 运输层端口</h4><p><em>端口用一个 16 位端口号进行标志</em></p>
<p><em>端口号只具有<strong>本地意义</strong>，即端口号只是为了标志<strong>本计算机应用层中的各进程</strong>。<br>在互联网中，不同计算机的相同端口号是没有联系的</em></p>
<h4 id="两大类端口"><a href="#两大类端口" class="headerlink" title="两大类端口"></a>两大类端口</h4><h5 id="服务器端使用的端口号"><a href="#服务器端使用的端口号" class="headerlink" title="服务器端使用的端口号"></a>服务器端使用的端口号</h5><p>熟知端口，数值一般为 0<del>1023。<br>登记端口号，数值为 1024</del>49151</p>
<h5 id="客户端使用的端口号"><a href="#客户端使用的端口号" class="headerlink" title="客户端使用的端口号"></a>客户端使用的端口号</h5><p><em>又称为短暂端口号，数值为 49152~65535，留给客户进程选择暂时使用</em></p>
<h3 id="用户数据报协议-UDP-User-Datagram-Protocol"><a href="#用户数据报协议-UDP-User-Datagram-Protocol" class="headerlink" title="用户数据报协议 UDP (User Datagram Protocol)"></a>用户数据报协议 UDP (User Datagram Protocol)</h3><p><em>面向连接的 TCP 协议</em></p>
<p><em>采用无连接的 UDP 协议</em></p>
<p><em>传送的数据单位协议是 *</em>UDP 报文<strong>或</strong>用户数据报***</p>
<p><strong>UDP实时性更好</strong></p>
<h4 id="UDP-的主要特点"><a href="#UDP-的主要特点" class="headerlink" title="UDP 的主要特点"></a>UDP 的主要特点</h4><p>(1) UDP 是无连接的</p>
<p>(2) UDP 使用尽最大努力交付</p>
<p>(3) UDP 是面向报文的(UDP 对应用层交下来的报文，既不合并，也不拆分，而是保留这些报文的边界。)</p>
<p>(4) UDP 没有拥塞控制</p>
<p>(5) UDP 支持一对一、一对多、多对一和多对多</p>
<p>的交互通信。<br>(6) UDP 的首部开销小</p>
<h4 id="UDP-的首部格式"><a href="#UDP-的首部格式" class="headerlink" title="UDP 的首部格式"></a>UDP 的首部格式</h4><p><em>用户数据报=首部+数据部分</em></p>
<p><em>首部<strong>8个字节</strong>：源端口，目的端口，长度，检验和</em></p>
<p><a href="https://imgchr.com/i/YWYcjg" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YWYcjg.md.png" alt="YWYcjg.md.png" border="0"></a></p>
<h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><img src="https://s1.ax1x.com/2020/05/18/YWY2uQ.png" alt="YWY2uQ.png" border="0">

<img src="https://s1.ax1x.com/2020/05/18/YWasaj.jpg" alt="YWasaj.jpg" border="0">

<p><a href="https://imgchr.com/i/YWYRBj" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YWYRBj.png" alt="YWYRBj.png" border="0"></a></p>
<p><em>目的端口小的是服务器，大的是客户机</em></p>
<img src="https://s1.ax1x.com/2020/05/25/tp83M6.md.png" alt="tp83M6.png" border="0">

<h3 id="传输控制协议-TCP-Transmission-Control-Protocol-概述"><a href="#传输控制协议-TCP-Transmission-Control-Protocol-概述" class="headerlink" title="传输控制协议 TCP (Transmission Control Protocol)概述"></a>传输控制协议 TCP (Transmission Control Protocol)概述</h3><p><em>传送的数据单位协议是 TCP 报文段 (segment)</em></p>
<h4 id="TCP-最主要的特点"><a href="#TCP-最主要的特点" class="headerlink" title="TCP 最主要的特点"></a>TCP 最主要的特点</h4><p><em>TCP 是*</em>面向连接的<strong>运输层协议。<br>每一条 TCP 连接</strong>只能有两个端点** (endpoint)，每一条 TCP 连接<strong>只能是点对点</strong>的（一对一）。<br>TCP 提供<strong>可靠交付</strong>的服务。<br>TCP 提供<strong>全双工</strong>通信。<br><strong>面向字节流：*</strong></p>
<p><em>TCP 中的“流”(stream)指的是流入或流出进程的字节序列</em></p>
<p><em>“面向字节流”的含义是：虽然应用程序和 TCP 的交互是一次一个数据块，但 TCP 把应用程序交下来的数据看成仅仅是一连串无结构的字节流</em></p>
<h5 id="TCP-面向流的概念"><a href="#TCP-面向流的概念" class="headerlink" title="TCP 面向流的概念"></a>TCP 面向流的概念</h5><p><em>不保证发送方和接收方数据块具有对应大小的关系，但字节流完全一样</em></p>
<p><em>TCP 不关心应用进程一次把多长的报文发送到 TCP 缓存。<br>TCP 对连续的字节流进行分段，形成 TCP 报文段</em></p>
<h4 id="注-意"><a href="#注-意" class="headerlink" title="注 意"></a>注 意</h4><p><em>TCP 连接是一条虚连接</em></p>
<p><em>TCP 对应用进程一次把多长的报文发送到TCP 的缓存中是不关心的</em></p>
<p><em>TCP 根据对方给出的窗口值和当前网络拥塞的程度来决定一个报文段应包含多少个字节（UDP 发送的报文长度是应用进程给出的）</em></p>
<p><em>TCP 可把太长的数据块划分短一些再传送</em></p>
<p><em>TCP 也可等待积累有足够多的字节后再构成报文段发送出去</em></p>
<h4 id="TCP-的连接"><a href="#TCP-的连接" class="headerlink" title="TCP 的连接"></a>TCP 的连接</h4><p><em>TCP 连接的端点叫做套接字 (socket) 或插口</em></p>
<p><em>端口号拼接到 (contatenated with) IP 地址即构成了套接字</em></p>
<h3 id="可靠传输的工作原理"><a href="#可靠传输的工作原理" class="headerlink" title="可靠传输的工作原理"></a>可靠传输的工作原理</h3><p><em>理想的传输条件有以下两个特点：<br>(1) 传输信道不产生差错。<br>(2) 不管发送方以多快的速度发送数据，接收方总是来得及处理收到的数据</em></p>
<p><strong>然而实际的网络都不具备以上两个理想条件</strong></p>
<h5 id="停止等待协议"><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h5><p><em>“停止等待”就是每发送完一个分组就停止发送，等待对方的确认。在收到确认后再发送下一个分组</em></p>
<p><em>全双工通信的双方既是发送方也是接收方</em></p>
<h6 id="无差错情况"><a href="#无差错情况" class="headerlink" title="无差错情况"></a>无差错情况</h6><img src="https://s1.ax1x.com/2020/05/25/t98ruV.png" alt="t98ruV.png" border="0">

<h6 id="出现差错"><a href="#出现差错" class="headerlink" title="出现差错"></a>出现差错</h6><p><em>当以某一方为接收方时，可能出现：*</em>收到，检查异常，丢弃<strong>；</strong>传输过程丢失<strong>。此时接收方不会做出相应，为了确保能够正确接收，使用</strong>超时重传***</p>
<h6 id="确认丢失和确认迟到"><a href="#确认丢失和确认迟到" class="headerlink" title="确认丢失和确认迟到"></a>确认丢失和确认迟到</h6><p><strong>确认丢失</strong></p>
<p><strong>确认迟到</strong></p>
<p><em>接收方发送的确认，接收方在规定时间没有收到</em></p>
<p><em>处理方法是：A 会收到重复的确认。对重复的确认的处理很简单：收下后就丢弃。<br>B 仍然会收到重复的 M1，并且同样要丢弃重复的 M1，并重传确认分组</em></p>
<h5 id="连续-ARQ-协议"><a href="#连续-ARQ-协议" class="headerlink" title="连续 ARQ 协议"></a>连续 ARQ 协议</h5><p><em>连续 ARQ 协议规定，发送方每收到一个确认，就把发送窗口向前滑动一个分组的位置</em></p>
<h5 id="TCP-报文段的首部格式"><a href="#TCP-报文段的首部格式" class="headerlink" title="TCP 报文段的首部格式"></a>TCP 报文段的首部格式</h5><p><em>TCP 报文段首部的前 20 个字节是固定的，后面有 4n 字节是根据需要而增加的选项 (n 是整数)。*</em>因此 TCP 首部的最小长度是 20 字节。***</p>
<img src="https://s1.ax1x.com/2020/05/25/t9YQ39.png" alt="t9YQ39.png" border="0">

<p><strong>序号字段</strong>——<em>占 4 字节。TCP 连接中传送的数据流中的每一个字节都编上一个序号。序号字段的值则指的是本报文段所发送的数据的第一个字节的序号</em></p>
<h6 id="习题-1"><a href="#习题-1" class="headerlink" title="习题"></a>习题</h6><p><strong>运输连接有三个阶段</strong>：<em>连接建立，数据传送，连接释放</em></p>
<p><em>TCP连接建立</em>：三报文握手机制</p>
<p><em>TCP连接释放：</em> 四报文握手机制</p>
<p><a href="https://imgchr.com/i/t9QSzV" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/t9QSzV.md.jpg" alt="t9QSzV.md.jpg" border="0"></a><br><a href="https://imgchr.com/i/t9MzR0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/t9MzR0.md.jpg" alt="t9MzR0.md.jpg" border="0"></a><br><a href="https://imgchr.com/i/t9MxGq" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/25/t9MxGq.md.jpg" alt="t9MxGq.md.jpg" border="0"></a></p>
<h3 id="TCP-流量控制"><a href="#TCP-流量控制" class="headerlink" title="TCP 流量控制"></a>TCP 流量控制</h3><h4 id="利用滑动窗口实现流量控制"><a href="#利用滑动窗口实现流量控制" class="headerlink" title="利用滑动窗口实现流量控制"></a>利用滑动窗口实现流量控制</h4><h4 id="TCP-的传输效率"><a href="#TCP-的传输效率" class="headerlink" title="TCP 的传输效率"></a>TCP 的传输效率</h4><h3 id="TCP-的拥塞控制"><a href="#TCP-的拥塞控制" class="headerlink" title="TCP 的拥塞控制"></a>TCP 的拥塞控制</h3><p><em>超时：初始门限减半，拥塞窗口变为1；3个ACK：拥塞窗口减半</em></p>
<p><em>轮次就是指发送一个数据出去，收到确认回来</em></p>
<p><em>有多少个拥塞窗口，就可以发送多少个报文段</em></p>
<p><em>指数增长时，超过门限，可以等于</em></p>
<p><a href="https://imgchr.com/i/tiTrxU" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiTrxU.md.png" alt="tiTrxU.md.png" border="0"></a><br><a href="https://imgchr.com/i/tiTD2T" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiTD2T.md.png" alt="tiTD2T.md.png" border="0"></a><br><a href="https://imgchr.com/i/tiTBGV" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiTBGV.md.png" alt="tiTBGV.md.png" border="0"></a><br><a href="https://imgchr.com/i/tiT0P0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/26/tiT0P0.md.png" alt="tiT0P0.md.png" border="0"></a></p>
<hr>
<blockquote>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-线性代数-第一章" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0.html" class="article-date">
      <time datetime="2020-05-16T00:03:41.000Z" itemprop="datePublished">2020-05-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0.html">线性代数-第一章</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="第一章-行列式"><a href="#第一章-行列式" class="headerlink" title="第一章 行列式"></a>第一章 行列式</h2><h3 id="二阶与三阶行列式"><a href="#二阶与三阶行列式" class="headerlink" title="二阶与三阶行列式"></a>二阶与三阶行列式</h3><p><a href="https://imgchr.com/i/YyoAun" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/16/YyoAun.png" alt="YyoAun.png" border="0"></a><br><a href="https://imgchr.com/i/YyoEBq" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/16/YyoEBq.md.png" alt="YyoEBq.md.png" border="0"></a></p>
<h3 id="行列式的性质"><a href="#行列式的性质" class="headerlink" title="行列式的性质"></a>行列式的性质</h3><p>*<em>性质 1 行列式与它的转置行列式相等.  *</em></p>
<p>*<em>性质 2 对换行列式的两行（列） ， 行列式变号  *</em></p>
<p><strong>推论 如果行列式两行(列)完全相同，则此行列式为0</strong></p>
<p><strong>性质3 行列式的某一行(列)中所有的元素都乘以同一数k,等于k乘以这个行列式</strong></p>
<p> <strong>推论 行列式中某一行(列)的所有元素的公因子可以提到行列式记号的外面</strong></p>
<p><strong>性质4 行列式中如果有两行（列） 元素成比例， 则此行列式等于零</strong></p>
<p><strong>性质5 若行列式的某一行（列） 的元素都是两数之和， 例如第 i 行的元素都是两数之和</strong></p>
<p><strong>性质 6 把行列式的某一行（列） 的各元素乘同一数然后加到另一行（列） 对<br>应的元素上去， 行列式不变</strong></p>
<h3 id="逆序数"><a href="#逆序数" class="headerlink" title="逆序数"></a>逆序数</h3><p><em>对于 n 个不同的元素， 先规定各元素之间有一个标准次序（例如 n 个不同的<br>自然数， 可规定由小到大为标准次序）， 于是在这 n 个元素的任一排列中， 当某一<br>对元素的先后次序与标准次序不同时， 就说它构成 1 个逆序.一个排列中所有逆<br>序的总数叫做这个排列的逆序数</em></p>
<h3 id="上三角法求矩阵"><a href="#上三角法求矩阵" class="headerlink" title="上三角法求矩阵"></a>上三角法求矩阵</h3><p><em>等于主对角线的乘积</em></p>
<h3 id="行列式按行-列-展开"><a href="#行列式按行-列-展开" class="headerlink" title="行列式按行(列)展开"></a>行列式按行(列)展开</h3><p><em>行列式等于它的任一行(列)的各元素与其对应的代数余子式乘积之和</em></p>
<p><em>行列式某一行（列） 的元素与另一行（列） 的对应元素的代数余子式<br>乘积之和等于零</em></p>
<img src="https://s1.ax1x.com/2020/05/16/Y6bih6.png" alt="Y6bih6.png" border="0">

<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><p><em>当常数项 b1， b2， …， bm 不全为零时， 线性方程组（1） 叫做<strong>n元非齐次线性方程组</strong>.</em></p>
<p><strong>n 元齐次线性方程组</strong></p>
<p><em>n 元齐次线性方程组一定有零解，可能有非零解</em></p>
<p><em>元素是实数的矩阵称为实矩阵， 元素是复数的矩阵称为复矩阵</em></p>
<p><em>只有一行的矩阵A =（a1，a2… an）称为<strong>行矩阵</strong>， 又称<strong>行向量</strong>.</em></p>
<p><em>只有一列的矩阵称为<strong>列矩阵</strong>， 又称<strong>列向量*</strong>.</em></p>
<p>  A 称为<strong>系数矩阵</strong>， x 称为<strong>未知数矩阵</strong>， b 称为<strong>常数项矩阵</strong>， B 称为<strong>增广矩阵</strong></p>
<p><strong>对角矩阵</strong>， <em>简称对角阵.对角阵也记作:</em><br>$$<br>A = diag（λ1， λ2， …， λn）<br>$$<br>   <em>位矩阵， 简称单位阵</em></p>
<h3 id="矩阵运算"><a href="#矩阵运算" class="headerlink" title="矩阵运算"></a>矩阵运算</h3><h4 id="矩阵加法"><a href="#矩阵加法" class="headerlink" title="矩阵加法"></a>矩阵加法</h4><p>（i） A +B = B +A；<br>（ii） （A +B） + C = A +（B +C） </p>
<h4 id="数与矩阵相乘"><a href="#数与矩阵相乘" class="headerlink" title="数与矩阵相乘"></a>数与矩阵相乘</h4><p><a href="https://imgchr.com/i/YcBNOe" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/16/YcBNOe.png" alt="YcBNOe.png" border="0"></a></p>
<p>（i） （λμ)A =λ（μA） ；<br>（ii） （λ +μ） A =λA +μA；<br>（iii） λ（A +B） =λA +λ B.  </p>
<h4 id="矩阵乘矩阵"><a href="#矩阵乘矩阵" class="headerlink" title="矩阵乘矩阵"></a>矩阵乘矩阵</h4><p><em>定义4 设A=（ai）j 是一个m×s矩阵， B=（bi）j 是一个s×n矩阵， 那么规定矩<br>阵 A 与矩阵 B 的乘积是一个 m×n 矩阵 C =（cij）</em></p>
<p><strong>必须注意： 只有当第一个矩阵（左矩阵） 的列数等于第二个矩阵（右矩阵） 的<br>行数时， 两个矩阵才能相乘</strong></p>
<p>*<em>总之， 矩阵的乘法不满足交换律， 即在一般情形下， A B≠ BA *</em><br>$$<br>（i） （A B） C = A（B C） ；<br>$$</p>
<p>$$<br>（ii） λ（A B） =（λA） B = A（λB） （其中λ 为数） ；<br>$$</p>
<p>$$<br>（iii） A（B + C） = A B +A C， （B + C） A = BA + CA.<br>$$</p>
<p>$$<br>对于单位矩阵 E， 容易验证E m A m × n = A m × n， A m × n E n = A m × n，或简写成E A = A E = A .<br>$$</p>
<h4 id="矩阵的幂"><a href="#矩阵的幂" class="headerlink" title="矩阵的幂"></a>矩阵的幂</h4><p>$$<br>A kA l = A k+l， （A k） l = A kl<br>$$</p>
<p>$$<br>又因矩阵乘法一般不满足交换律， 所以对于两个 n 阶矩阵 A与 B， 一般说来（A B） k≠ A k B k， 只有当 A 与 B 可交换时， 才有（A B） k = A k B k<br>$$</p>
<p><em>例如（A +B） 2 = A 2 +2A B + B 2、 （A - B） （A + B） = A 2 - B 2 等公式， 也只有当 A与 B 可交换时才成立</em></p>
<hr>
<blockquote>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/">线性代数</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-sql语句异常" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/sql%E8%AF%AD%E5%8F%A5%E5%BC%82%E5%B8%B8.html" class="article-date">
      <time datetime="2020-05-13T08:35:45.000Z" itemprop="datePublished">2020-05-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/sql%E8%AF%AD%E5%8F%A5%E5%BC%82%E5%B8%B8.html">sql语句异常</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="CREATE-VIEW-不是在查询语句第一行"><a href="#CREATE-VIEW-不是在查询语句第一行" class="headerlink" title="CREATE VIEW 不是在查询语句第一行"></a>CREATE VIEW 不是在查询语句第一行</h2><p><em>前面加一个go</em></p>
<h2 id="CASCADE-RESTRICT-在sql-server中只能用于定义时，删除时不能用"><a href="#CASCADE-RESTRICT-在sql-server中只能用于定义时，删除时不能用" class="headerlink" title="CASCADE/RESTRICT 在sql server中只能用于定义时，删除时不能用"></a>CASCADE/RESTRICT 在sql server中只能用于定义时，删除时不能用</h2><hr>
<blockquote>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/sql/">sql</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-数据库系统-空值" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E7%A9%BA%E5%80%BC.html" class="article-date">
      <time datetime="2020-05-12T06:09:20.000Z" itemprop="datePublished">2020-05-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E7%A9%BA%E5%80%BC.html">数据库系统-空值</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="空值"><a href="#空值" class="headerlink" title="空值"></a>空值</h2><p><em>所谓空值就是<strong>不知道</strong>或 <strong>不存在</strong>或 <strong>无意义</strong>的值。</em></p>
<p>SQ L语言中允许某些元组的某些属性在一定情况下取空值。 一般有以下几种情况：<br>•该属性应该有一个值，但目前不知道它的具体值。例如，某学生的年龄属性，因为<br>学生登记表漏填了，不知道该学生年龄，因此取空值。<br>•该属性不应该有值。例如，缺考学生的成绩为空，因为他没有参加考试。<br>. 由于某种原因不便于填写。例如， 一个人的电话号码不想让大家知道，则取空值。  </p>
<h3 id="空值的产生"><a href="#空值的产生" class="headerlink" title="空值的产生"></a>空值的产生</h3><h4 id="插入时默认空值"><a href="#插入时默认空值" class="headerlink" title="插入时默认空值"></a>插入时默认空值</h4><h4 id="显示写入空值"><a href="#显示写入空值" class="headerlink" title="显示写入空值"></a>显示写入空值</h4><h4 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h4><h4 id="空值的关系运算"><a href="#空值的关系运算" class="headerlink" title="空值的关系运算"></a>空值的关系运算</h4><h3 id="空值判断"><a href="#空值判断" class="headerlink" title="空值判断"></a>空值判断</h3><p><strong>IS NULL OR IS NOT NULL</strong></p>
<h3 id="空值的约束"><a href="#空值的约束" class="headerlink" title="空值的约束"></a>空值的约束</h3><p><em>有not null ，加了UNIQUE限制的属性</em></p>
<h3 id="空值的算数运算，比较运算和逻辑运算"><a href="#空值的算数运算，比较运算和逻辑运算" class="headerlink" title="空值的算数运算，比较运算和逻辑运算"></a>空值的算数运算，比较运算和逻辑运算</h3><p><em>空值与空值运算为空值；空值与另一个值为<strong>UNKNOWN</strong>.</em></p>
<p><em>有了<strong>UNKNOWN</strong>后常见的二值逻辑就由TRUE,FALSE变成了三值</em></p>
<hr>
<blockquote>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">数据库系统</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-数据库系统-视图" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E8%A7%86%E5%9B%BE.html" class="article-date">
      <time datetime="2020-05-12T06:08:44.000Z" itemprop="datePublished">2020-05-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E8%A7%86%E5%9B%BE.html">数据库系统-视图</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>

<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><p><em>视图是从<strong>一个或几个基本表</strong>（或视图）导出的表</em></p>
<p><em>它与基本表不同，是一个<strong>虚表</strong>.</em></p>
<p><em>数据库中只<strong>*存放视图的定义</strong>，而<strong>不存放视图对应的数据</strong>，这些数据仍存放在原来的基本表中。所以一旦基本表中的数据发生变化，从视图中查询出的数据也就随之改变了</em></p>
<p><em>视图就像一个窗口，透过它可以看到数据库中自己感兴趣的数据及其变化</em></p>
<p><em>视图一经定义，就可以和基本表一样被查询、被删除。也可以在一个视图之上再定义新的视图，但对视图的更新（增 、删 、改）操作则有一定的限制</em></p>
<p><em>如果已有视图建立在基本表上，这时修改基本表属性，可能导致视图不能运作；可以先删除视图，建立新视图</em></p>
<h3 id="定义视图"><a href="#定义视图" class="headerlink" title="定义视图"></a>定义视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> &lt;视图名&gt;[ （&lt;列名&gt; ［,&lt;列名&gt;］ …）]</span><br><span class="line"><span class="keyword">AS</span> &lt;子查询&gt;</span><br><span class="line">［<span class="keyword">WITH</span> <span class="keyword">CHECK</span> <span class="keyword">OPTION</span>］;</span><br></pre></td></tr></table></figure>

<p><em>子查询<strong>可以是任意的SELECT语句</strong>，是否可以含有ORDER B Y 子句和 DISTINCT<br>短语，则取决于具体系统的实现(<strong>通常不能用ODER BY 和 DISTINCT</strong>)</em></p>
<p><strong>WITH CHECK OPTION</strong>表<em>示对视图进行 UPDATE、 INSERT和 DELETE操作时要<br>保证更新、插入或删除的行<strong>满足视图定义中的谓词条件（即子查询中的条件表达式</strong>）</em></p>
<p><em>组成视图的属性列名或者全部省略或者全部指定，没有第三种选择</em></p>
<p>但在下列三种情况下<strong>必须明确指定组成视图的所有列名</strong>：<br>（1） 某个目标列不是单纯的属性名，而是聚集函数或列表达式<br>（2 ） 多表连接时选出了几个同名列作为视图的字段<br>（3 ） 需要在视图中为某个列启用新的更合适的名字  </p>
<h4 id="建立在一个基本表"><a href="#建立在一个基本表" class="headerlink" title="建立在一个基本表"></a>建立在一个基本表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> IS_Student</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,Sname,Sage</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept=<span class="string">'IS'</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> IS_Student</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,Sname,Sage</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept=<span class="string">'IS'</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">CHECK</span> <span class="keyword">OPTION</span>;</span><br><span class="line"><span class="comment">/*由于在定义IS_Student视图时加上了 WITH CHECK OPT1ON子句，以后对该视图进</span></span><br><span class="line"><span class="comment">行插入、修改和删除操作时，关系数据库管理系统会自动加上Sdept='IS'的条件。*/</span></span><br></pre></td></tr></table></figure>

<p><em>关系数据库管理系统执行CREATE VIEW 语句的结果只是把视图的定义存入<strong>数据字<br>典</strong>，<strong>并不执行其中的SELECT语句。只是在</strong>对视图查询时，才按视图的定义从基本表中将数据査出</em>  </p>
<p><em>若一个视图是从单个基本表导出的，并且只是去掉了基本表的某些行和某些列，但<br>保留了主码，则称这类视图为<strong>行列子集视图</strong>。 IS_Student视图就是一个行列子集视图</em></p>
<h4 id="建立在多个基本表"><a href="#建立在多个基本表" class="headerlink" title="建立在多个基本表"></a>建立在多个基本表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> IS_Sl(Sno,Sname,Grade)</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> Student.Sno,Sname,Grade</span><br><span class="line"><span class="keyword">FROM</span> Student,SC</span><br><span class="line"><span class="keyword">WHERE</span> Sdept=<span class="string">'IS'</span> <span class="keyword">AND</span></span><br><span class="line">Student.Sno=SC.Sno <span class="keyword">AND</span></span><br><span class="line">SC.Cno=<span class="string">'1'</span>;</span><br></pre></td></tr></table></figure>

<p><em>由于视图IS_S1的属性列中包含了 Student表 与 SC 表的同名列Sno ,所以必须在视图名后面明确说明视图的各个属性列名。</em></p>
<p><em>由基本数据经过各种计算派生出的数据一般是不存储的。这些派生属性由于在基本表中并不实际存在，也称它们为虚拟列。带虚拟列的视图也称为<strong>带表达式的视图</strong>。</em>    </p>
<h4 id="建立在一个视图上"><a href="#建立在一个视图上" class="headerlink" title="建立在一个视图上"></a>建立在一个视图上</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> IS_S2</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,Sname,Grade</span><br><span class="line"><span class="keyword">FROM</span> IS_S1</span><br><span class="line"><span class="keyword">WHERE</span> Grade&gt;=<span class="number">90</span>;</span><br></pre></td></tr></table></figure>

<h4 id="建立在多个视图上"><a href="#建立在多个视图上" class="headerlink" title="建立在多个视图上"></a>建立在多个视图上</h4><h4 id="分组视图"><a href="#分组视图" class="headerlink" title="分组视图"></a>分组视图</h4><p><em>GROUP BY 子句的查询来定义视图，这种视图称为分组视图</em></p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> S_G(Sno,Gavg)</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,<span class="keyword">AVG</span>(Grade)</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno;</span><br><span class="line"><span class="comment">/*由于AS子句中SELECT语句的目标列平均成绩是通过作用聚集函数得到的，所CREATE VIEW 中必须明确定义组成S_G 视图的各个属性列名。 S_G 是一个分组视图*/</span></span><br></pre></td></tr></table></figure>

<h4 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> &lt;视图名&gt; ［<span class="keyword">CASCADE</span>］ ;</span><br></pre></td></tr></table></figure>

<p><em>视图删除后<strong>视图的定义将从数据字典中删除</strong>。如果该视图上还导出了其他视图，则使用 <strong>CASCADE级联</strong>删除语句把该视图和由它导出的所有视图一起删除</em></p>
<p> <em>基本表删除后，由该基本表导出的所有视图均无法使用了，但是视图的定义没有从<br>字典中清除。删除这些视图定义需要显式地使用DROP VIEW 语句</em></p>
<h3 id="查询视图"><a href="#查询视图" class="headerlink" title="查询视图"></a>查询视图</h3><p><em>与查询基本表差不多</em></p>
<p><em>关系数据库管理系统执行对视图的查询时，<strong>首先</strong>进行有效性检查，检查查询中涉及的表 、视图等是否存在。<strong>如果存在，则</strong>从数据字典中取出视图的定义，把定义中的子查询和用户的查询结合起来，<strong>转换成等价的对基本表的查询</strong>，然后再执行修正了的查询。这一转换过程称为<strong>视图消解</strong>(view resolution)</em> </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,Sage</span><br><span class="line"><span class="keyword">FROM</span> IS_Student</span><br><span class="line"><span class="keyword">WHERE</span> Sage&lt;<span class="number">20</span>;</span><br><span class="line"><span class="comment">/*本例转换后的查询语句为*/</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,Sage</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept=<span class="string">'lS'</span> <span class="keyword">AND</span> Sage&lt;<span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<p><strong>而有时候可能出现转换错误</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> S_G</span><br><span class="line"><span class="keyword">WHERE</span> Gavg&gt;=<span class="number">90</span>;</span><br><span class="line"><span class="comment">/*将本例中的查询语句与定义S_G 视图的子查询结合，形成下列查询语句：*/</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,<span class="keyword">AVG</span>(Grade)</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">AVG</span>(Grade)&gt;=<span class="number">90</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno;</span><br></pre></td></tr></table></figure>

<p><em>WHERE子句中是不能用聚集函数作为条件表达式的，因此执行此修正后的查询<br>将会出现语法错误</em></p>
<p><em>目前多数关系数据库系统对<strong>行列子集视图</strong>的查询均能进行正确转换。但对非行列<br>子 集 视 图 的 查 询  就 不 一 定 能 做 转 换 了 ，因此这类查询应该直接对<strong>基本表</strong>进行 。</em>  </p>
<p><em>定义视图并查询视图与基于派生表的查询是有区别的。视图一旦定义，其定义将永<br>久保存在数据字典中，之后的所有查询都可以直接引用该视图。而派生表只是在语句执行时临时定义，语句执行后该定义即被删除</em>  </p>
<h3 id="更新视图"><a href="#更新视图" class="headerlink" title="更新视图"></a>更新视图</h3><h4 id="UPDATE"><a href="#UPDATE" class="headerlink" title="UPDATE"></a>UPDATE</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> IS_Student</span><br><span class="line"><span class="keyword">SET</span> Sname=<span class="string">'刘辰'</span>，</span><br><span class="line"><span class="keyword">WHERE</span> Sno=<span class="string">'201215122'</span>;</span><br><span class="line">转换后的更新语句为</span><br><span class="line"><span class="keyword">UPDATE</span> Student</span><br><span class="line"><span class="keyword">SET</span> Sname=<span class="string">'刘辰'</span>，</span><br><span class="line"><span class="keyword">WHERE</span> Sno=<span class="string">'201215122'</span> <span class="keyword">AND</span> Sdept=<span class="string">'IS'</span>;</span><br></pre></td></tr></table></figure>

<h4 id="INSERT"><a href="#INSERT" class="headerlink" title="INSERT"></a>INSERT</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span></span><br><span class="line"><span class="keyword">INTO</span> IS_Student</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">'201215129'</span>, <span class="string">'丁赵新'</span>,<span class="number">20</span>);</span><br><span class="line">转换为对基本表的更新：</span><br><span class="line"><span class="keyword">INSERT</span></span><br><span class="line"><span class="keyword">INTO</span> Student(Sno,Sname,Sage,Sdept)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">'2O1215129'</span>,<span class="string">'赵新'</span>,<span class="number">20</span>,<span class="string">'IS'</span>);</span><br></pre></td></tr></table></figure>

<h4 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> IS_Student</span><br><span class="line"><span class="keyword">WHERE</span> Sno=<span class="string">'201215129'</span>；</span><br><span class="line">转换为对基本表的更新：</span><br><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sno=<span class="string">'201215129'</span> <span class="keyword">AND</span> Sdept=<span class="string">'IS'</span>;</span><br></pre></td></tr></table></figure>

<p><em>在关系数据库中，<strong>并不是所有的视图都是可更新的</strong>，因为有些视图的更新不能唯一地有意义地转换成对相应基本表的更新</em></p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> S_G（Sno,Gavg）</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,<span class="keyword">AVG</span>（Grade）</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno;</span><br><span class="line"><span class="comment">/*如果想把视图S_G 中学号为“ 201215121 ” 的学生的平均成绩改成9 0 分 ， SQL语句如下：*/</span></span><br><span class="line"><span class="keyword">UPDATE</span> S_G</span><br><span class="line"><span class="keyword">SET</span> Gavg=<span class="number">90</span></span><br><span class="line"><span class="keyword">WHERE</span> Sno=<span class="string">'20121512'</span>；</span><br></pre></td></tr></table></figure>

<p><em>但这个对视图的更新是无法转换成对基本表S C 的更新的，因为系统无法修改各科成绩，以使平均成绩成为90。所 以 S_G 视图是不可更新的。</em></p>
<p><em>一般地，行列子集视图是可更新的</em>  </p>
<h4 id="受限更新"><a href="#受限更新" class="headerlink" title="受限更新"></a>受限更新</h4><p><strong>例如， DB2规定:</strong><br>（1 ） 若视图是由两个以上基本表导出的，则此视图不允许更新。<br>（2 ） 若视图的字段来自字段表达式或常数，则不允许对此视图执行INSERT和 UPDATE操作，但允许执行DELETE操作。<br>（3 ） 若视图的字段来自<strong>聚集函数</strong>，则此视图不允许更新。<br>（4 ） 若视图定义中含有<strong>GROUP BY</strong>子句，则此视图不允许更新。<br>（5） 若视图定义中含有<strong>DISTINCT</strong>短语，则此视图不允许更新。<br>（6 ）若视图定义中<strong>有嵌套查询，并且内层查询的FROM 子句</strong>中涉及的表也是导出该视图的基本表，则此视图不允许更新。  </p>
<h3 id="视图作用"><a href="#视图作用" class="headerlink" title="视图作用"></a>视图作用</h3><ul>
<li>视图能够简化用户的操作  </li>
<li>视图使用户能以多种角度看待同一数据  </li>
<li>视图对重构数据库提供了一定程度的逻辑独立性  </li>
<li>视图能够对机密数据提供安全保护  </li>
<li>适当利用视图可以更清晰地表达查询  </li>
</ul>
<h3 id="视图查看"><a href="#视图查看" class="headerlink" title="视图查看"></a>视图查看</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sp_helptext 视图名</span><br></pre></td></tr></table></figure>

<h3 id="视图加密"><a href="#视图加密" class="headerlink" title="视图加密"></a>视图加密</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> 视图名</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">.......</span><br><span class="line"><span class="keyword">WITH</span> ENCRYPTION <span class="comment">-- 加密</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sp_helptext 视图名 报错</span><br></pre></td></tr></table></figure>





<hr>
<blockquote>
<p>即使慢，驰而不息，纵会落后，纵会失败，但一定可以达到他所向的目标。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">数据库系统</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hadoop理论课-第六章Hbase, Hive, Pig" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E5%85%AD%E7%AB%A0Hbase,%20Hive,%20Pig.html" class="article-date">
      <time datetime="2020-05-11T08:09:32.000Z" itemprop="datePublished">2020-05-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hadoop%E7%90%86%E8%AE%BA%E8%AF%BE-%E7%AC%AC%E5%85%AD%E7%AB%A0Hbase,%20Hive,%20Pig.html">hadoop理论课-第六章Hbase, Hive, Pig</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h1 id="Hbase-Hive-Pig"><a href="#Hbase-Hive-Pig" class="headerlink" title="Hbase, Hive, Pig"></a>Hbase, Hive, Pig</h1><h2 id="Hbase"><a href="#Hbase" class="headerlink" title="Hbase"></a>Hbase</h2><p><em>采用列式存储</em></p>
<h3 id="Hbase简介"><a href="#Hbase简介" class="headerlink" title="Hbase简介"></a>Hbase简介</h3><p><em>HBase是一个分布式的、面向列的开源数据库，该技术来源于Google论文。HBase在Hadoop之上提供了类似于Bigtable的能力。</em></p>
<h4 id="HBase的特性"><a href="#HBase的特性" class="headerlink" title="HBase的特性"></a>HBase的特性</h4><p><strong>伸缩性</strong>：表可以很“高”（数十亿个数据行），可以很“宽”（数百万个列）。<br><strong>自动分区</strong>：当表增长时，表会自动分裂成Region，并分布到可用节点上。<br><strong>线性扩展和对于新节点的自动处理</strong>：增加节点，指它指向RegionServer，Region自动负载均衡。<br><strong>普通商用硬件支持</strong><br><strong>容错</strong>：HBase在Hadoop的文件系统之上，利用了Hadoop的文件系统（HDFS）提供的容错能力。<br><strong>检索性能</strong>：HBase是一个数据模型，类似于谷歌的大表设计，可以提供快速随机访问海量结构化数据。</p>
<h4 id="HBase数据模型"><a href="#HBase数据模型" class="headerlink" title="HBase数据模型"></a>HBase数据模型</h4><h5 id="关系型数据库和Hbase对比"><a href="#关系型数据库和Hbase对比" class="headerlink" title="关系型数据库和Hbase对比"></a>关系型数据库和Hbase对比</h5><p><a href="https://imgchr.com/i/YJQCZQ" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/11/YJQCZQ.md.png" alt="YJQCZQ.png" border="0"></a></p>
<h5 id="列族存储的概念"><a href="#列族存储的概念" class="headerlink" title="列族存储的概念"></a>列族存储的概念</h5><p><a href="https://imgchr.com/i/YJQReg" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/11/YJQReg.md.png" alt="YJQReg.png" border="0"></a></p>
<h5 id="HBase的数据模型"><a href="#HBase的数据模型" class="headerlink" title="HBase的数据模型"></a>HBase的数据模型</h5><p><a href="https://imgchr.com/i/Yf6q8e" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/Yf6q8e.md.png" alt="Yf6q8e.png" border="0"></a></p>
<img src="https://s1.ax1x.com/2020/05/11/YJ3xYj.png" alt="YJ3xYj.png" border="0">

<h6 id="列数据属性"><a href="#列数据属性" class="headerlink" title="列数据属性"></a>列数据属性</h6><img src="https://s1.ax1x.com/2020/05/11/YJ8Yhd.png" alt="YJ8Yhd.png" border="0">



<h3 id="Region"><a href="#Region" class="headerlink" title="Region"></a>Region</h3><p><em>Hbase的Table中的所有行都按照row key的字典序排列</em></p>
<p><em>Table 在行的方向上分割为多个Region。Region是HBase中分布式存储和负载均衡的最小单元</em></p>
<p><em>不同Region分布到不同RegionServer上</em></p>
<h4 id="Region分裂-Split"><a href="#Region分裂-Split" class="headerlink" title="Region分裂(Split)"></a>Region分裂(Split)</h4><p><a href="https://imgchr.com/i/YfgIfO" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YfgIfO.png" alt="YfgIfO.png" border="0"></a></p>
<h3 id="行式存储和列式存储"><a href="#行式存储和列式存储" class="headerlink" title="行式存储和列式存储"></a>行式存储和列式存储</h3><img src="https://s1.ax1x.com/2020/05/11/YJmulD.png" alt="YJmulD.png" border="0">

<h4 id="OLTP-amp-OLAP"><a href="#OLTP-amp-OLAP" class="headerlink" title="OLTP &amp; OLAP"></a>OLTP &amp; OLAP</h4><h5 id="OLTP"><a href="#OLTP" class="headerlink" title="OLTP"></a>OLTP</h5><p><em>On-Line Transaction Processing（联机事务处理过程）。<br>也称为面向交易的处理过程，其基本特征是前台接收的用户数据可以立即传送到计算中心进行处理，并在很短的时间内给出处理结果，是对用户操作快速响应的方式之一。</em></p>
<p><em>典型案例：银行转账</em></p>
<p>（1）对于单列，获取频率较高，就使用列式存储。<br>（2）如果针对多列查询，使用并行处理查询效率也是很高，可采用列式存储。<br>（3）对于大数据的环境，利于数据压缩和线性扩展，也可以采用列式存储。<br>（4）事务使用率不高，数据量非常大。<br>（5）对于更新某些行的频率不高，也可以选择列式存储</p>
<h5 id="OLAP"><a href="#OLAP" class="headerlink" title="OLAP"></a>OLAP</h5><p><em>On-Line Analytic Processing（联机分析处理过程）。<br>OLAP是数据仓库系统的主要应用，支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。</em></p>
<p><em>典型案例：商品推荐</em></p>
<p>（1）关系之间的解决方案，表与表之关联大，可以采用行式存储。主键–外键<br>（2）强事务特性，如消费、资金的业务。<br>（3）如数据小于千万级，可考虑行式存储</p>
<p><strong>OLTP是用于事务和查询处理<br>OLAP用于数据分析</strong></p>
<h2 id="PIG"><a href="#PIG" class="headerlink" title="PIG"></a>PIG</h2><h2 id="HIVE-重点"><a href="#HIVE-重点" class="headerlink" title="HIVE(重点)"></a>HIVE(重点)</h2><h3 id="Hive简介"><a href="#Hive简介" class="headerlink" title="Hive简介"></a>Hive简介</h3><p><em>Hive是基于Hadoop的一个<strong>数据仓库工具</strong>，可以将<strong>结构化的</strong>数据文件映射为一张<strong>数据库表</strong>，并提供简单的<strong>sql</strong>查询功能，可以将sql语句转换为MapReduce任务进行运行</em></p>
<p><em>Hive是一个翻译器：SQL —&gt; Hive引擎  —&gt; MapReduce程序</em></p>
<p><em>Hive是构建在HDFS上的一个数据仓库（Data Warehouse）</em></p>
<h4 id="为什么要使用Hive？"><a href="#为什么要使用Hive？" class="headerlink" title="为什么要使用Hive？"></a>为什么要使用Hive？</h4><p>直接使用 MapReduce 所面临的问题：<br>　　1、人员学习成本太高<br>　　2、项目周期要求太短<br>　　3、MapReduce实现复杂查询逻辑开发难度太大<br>为什么要使用 Hive：<br>　    1、更友好的接口：操作接口采用类 SQL 的语法，提供快速开发的能力。<br>         2、更低的学习成本：避免了写 MapReduce，减少开发人员的学习成本，使<br>                DBA、运维人员可以通过SQL来实现操作大数据。<br>         3、更好的扩展性：可自由扩展集群规模而无需重启服务，还支持用户自定<br>               义函数。　　　　</p>
<h3 id="安装Hive"><a href="#安装Hive" class="headerlink" title="安装Hive"></a>安装Hive</h3><h4 id="Metastore三种运行模式"><a href="#Metastore三种运行模式" class="headerlink" title="Metastore三种运行模式"></a>Metastore三种运行模式</h4><img src="https://s1.ax1x.com/2020/05/18/Yf53HH.png" alt="Yf53HH.png" border="0">

<h4 id="了解Metastore配置属性"><a href="#了解Metastore配置属性" class="headerlink" title="了解Metastore配置属性"></a>了解Metastore配置属性</h4><img src="https://s1.ax1x.com/2020/05/18/YfIfJI.png" alt="YfIfJI.png" border="0">

<h4 id="安装Hive-1"><a href="#安装Hive-1" class="headerlink" title="安装Hive"></a>安装Hive</h4><img src="https://s1.ax1x.com/2020/05/18/YfoHc6.png" alt="YfoHc6.png" border="0">

<h3 id="Hive的架构与工作原理"><a href="#Hive的架构与工作原理" class="headerlink" title="Hive的架构与工作原理"></a>Hive的架构与工作原理</h3><h4 id="Hive体系结构"><a href="#Hive体系结构" class="headerlink" title="Hive体系结构"></a>Hive体系结构</h4><p><a href="https://imgchr.com/i/YfTbPs" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YfTbPs.md.png" alt="YfTbPs.png" border="0"></a></p>
<p><em>CLI(终端)：常采用这个</em></p>
<h4 id="Hive工作原理"><a href="#Hive工作原理" class="headerlink" title="Hive工作原理"></a>Hive工作原理</h4><p><a href="https://imgchr.com/i/Yf7rQ0" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/Yf7rQ0.md.png" alt="Yf7rQ0.png" border="0"></a></p>
<h4 id="Hive与传统数据库的比较"><a href="#Hive与传统数据库的比较" class="headerlink" title="Hive与传统数据库的比较"></a>Hive与传统数据库的比较</h4><img src="https://s1.ax1x.com/2020/05/18/YfHiTg.png" alt="YfHiTg.png" border="0">



<h3 id="HiveQL"><a href="#HiveQL" class="headerlink" title="HiveQL"></a>HiveQL</h3><h4 id="Hive支持的数据类型"><a href="#Hive支持的数据类型" class="headerlink" title="Hive支持的数据类型"></a>Hive支持的数据类型</h4><img src="https://s1.ax1x.com/2020/05/18/YfbJUg.md.png" alt="YfbJUg.png" border="0">

<h4 id="建表命令"><a href="#建表命令" class="headerlink" title="建表命令"></a>建表命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE 表名（...）</span><br></pre></td></tr></table></figure>

<p><a href="https://imgchr.com/i/YfL639" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YfL639.md.png" alt="YfL639.png" border="0"></a></p>
<h4 id="数据加载命名"><a href="#数据加载命名" class="headerlink" title="数据加载命名"></a>数据加载命名</h4><h5 id="导入HDFS数据"><a href="#导入HDFS数据" class="headerlink" title="导入HDFS数据"></a>导入HDFS数据</h5><p><a href="https://imgchr.com/i/YfXdFU" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YfXdFU.png" alt="YfXdFU.png" border="0"></a></p>
<p><em>会把hdfs中对应文件移动到hive仓库中</em></p>
<h5 id="导入本地数据"><a href="#导入本地数据" class="headerlink" title="导入本地数据"></a>导入本地数据</h5><img src="https://s1.ax1x.com/2020/05/18/YfXUoT.png" alt="YfXUoT.png" border="0">

<p><em>复制</em></p>
<h4 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h4><h5 id="内部表-托管表"><a href="#内部表-托管表" class="headerlink" title="内部表(托管表)"></a>内部表(托管表)</h5><h6 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h6><p><a href="https://imgchr.com/i/YfjLuR" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YfjLuR.md.png" alt="YfjLuR.md.png" border="0"></a></p>
<h6 id="创建内部表"><a href="#创建内部表" class="headerlink" title="创建内部表"></a>创建内部表</h6><img src="https://s1.ax1x.com/2020/05/18/Yfjbv9.md.png" alt="Yfjbv9.md.png" border="0">



<h5 id="外部表"><a href="#外部表" class="headerlink" title="外部表"></a>外部表</h5><h6 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h6><p><a href="https://imgchr.com/i/Yfx0fS" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/Yfx0fS.md.png" alt="Yfx0fS.md.png" border="0"></a></p>
<h6 id="创建外部表"><a href="#创建外部表" class="headerlink" title="创建外部表"></a>创建外部表</h6><p><a href="https://imgchr.com/i/YfxwY8" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YfxwY8.md.png" alt="YfxwY8.md.png" border="0"></a></p>
<h5 id="分区表"><a href="#分区表" class="headerlink" title="分区表"></a>分区表</h5><p><a href="https://imgchr.com/i/YfzCnA" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YfzCnA.md.png" alt="YfzCnA.png" border="0"></a></p>
<h5 id="桶表"><a href="#桶表" class="headerlink" title="桶表"></a>桶表</h5><p><a href="https://imgchr.com/i/YfzQ7q" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YfzQ7q.md.png" alt="YfzQ7q.png" border="0"></a></p>
<h5 id="临时表"><a href="#临时表" class="headerlink" title="临时表"></a>临时表</h5><p><a href="https://imgchr.com/i/YfzfHI" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YfzfHI.md.png" alt="YfzfHI.png" border="0"></a></p>
<h5 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h5><h6 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h6><p><a href="https://imgchr.com/i/YhSlKH" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YhSlKH.md.png" alt="YhSlKH.md.png" border="0"></a></p>
<h6 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h6><p><a href="https://imgchr.com/i/YhSMxe" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YhSMxe.md.png" alt="YhSMxe.md.png" border="0"></a></p>
<h5 id="数据查询"><a href="#数据查询" class="headerlink" title="数据查询"></a>数据查询</h5><h6 id><a href="#" class="headerlink" title></a><a href="https://imgchr.com/i/YhpZLj" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YhpZLj.md.png" alt="YhpZLj.png" border="0"></a></h6><p><a href="https://imgchr.com/i/YhpWkt" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/YhpWkt.png" alt="YhpWkt.png" border="0"></a></p>
<h6 id="条件函数"><a href="#条件函数" class="headerlink" title="条件函数"></a>条件函数</h6><p><a href="https://imgchr.com/i/Yh9pX4" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/Yh9pX4.png" alt="Yh9pX4.png" border="0"></a></p>
<p><strong>Hive不支持数据删除和修改</strong></p>
<h5 id="用户自定义函数"><a href="#用户自定义函数" class="headerlink" title="用户自定义函数"></a>用户自定义函数</h5><p><a href="https://imgchr.com/i/Yh9BEn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/Yh9BEn.md.png" alt="Yh9BEn.md.png" border="0"></a><br><a href="https://imgchr.com/i/Yh9r40" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/18/Yh9r40.md.png" alt="Yh9r40.md.png" border="0"></a></p>
<h5 id="Hive如何调优"><a href="#Hive如何调优" class="headerlink" title="Hive如何调优"></a>Hive如何调优</h5><p><img src="https://s1.ax1x.com/2020/05/18/Yh9DNq.md.png" alt="Yh9DNq.md.png" border="0"></p>
<hr>
<blockquote>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Hadoop/">Hadoop</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hbase/" rel="tag">Hbase</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hive/" rel="tag">Hive</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Pig/" rel="tag">Pig</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-算法-第二章" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E7%AE%97%E6%B3%95-%E7%AC%AC%E4%BA%8C%E7%AB%A0.html" class="article-date">
      <time datetime="2020-05-10T10:17:27.000Z" itemprop="datePublished">2020-05-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E7%AE%97%E6%B3%95-%E7%AC%AC%E4%BA%8C%E7%AB%A0.html">算法-第二章</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><h3 id="数组和链表"><a href="#数组和链表" class="headerlink" title="数组和链表"></a>数组和链表</h3><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p><em>在内存中需要分配连续的存储空间</em></p>
<p><em>支持顺序访问和随机访问</em></p>
<p><strong>数组擅长随机访问，链表擅长删除和插入</strong></p>
<h4 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h4><p><em>链表中的元素可以存储在内存中任何地方</em></p>
<p><em>只支持顺序访问</em></p>
<p><em>每个元素存储了下一个元素的位置，将每个元素连接起来</em></p>
<p><em>对于需要直接定位到某个元素，链表比数组效率要低，因为需要上一个元素知道下一个元素的地址</em></p>
<p><em>删除和插入操作，链表比数组跟高效</em></p>
<p><em>删除一定会成功，插入不一定，因为可能内存不够</em></p>
<img src="https://s1.ax1x.com/2020/05/10/Y3zj9x.png" alt="Y3zj9x.png" border="0">

<p><em>链表和数组混合使用</em></p>
<h3 id="选择排序-1"><a href="#选择排序-1" class="headerlink" title="选择排序"></a>选择排序</h3><hr>
<blockquote>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-算法-第一章" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/%E7%AE%97%E6%B3%95-%E7%AC%AC%E4%B8%80%E7%AB%A0.html" class="article-date">
      <time datetime="2020-05-10T00:59:22.000Z" itemprop="datePublished">2020-05-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E7%AE%97%E6%B3%95-%E7%AC%AC%E4%B8%80%E7%AB%A0.html">算法-第一章</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h1 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h1><h2 id="算法简介"><a href="#算法简介" class="headerlink" title="算法简介"></a>算法简介</h2><p><em>算法是一组完成任务的指令。任何代码都可以叫做算法</em></p>
<h3 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h3><p><em>二分查找时一种算法，其输入是一个<strong>有序</strong>的元素列表</em></p>
<h4 id="次数"><a href="#次数" class="headerlink" title="次数"></a>次数</h4><p><em>1到100的数字集，只需要<strong>7步</strong>就可以找到正确的数值</em></p>
<p><em>一般而言，对于包含n个元素的列表，用二分查找最多需：</em><br>$$<br>log2n<br>$$</p>
<h4 id="python实现"><a href="#python实现" class="headerlink" title="python实现"></a>python实现</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span><span class="params">(list, item)</span>:</span></span><br><span class="line">    low = <span class="number">0</span></span><br><span class="line">    high = len(list) - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> low &lt;= high:</span><br><span class="line">        mid = (low + high) / <span class="number">2</span></span><br><span class="line">        guess = list[mid]</span><br><span class="line">        <span class="keyword">if</span> guess &gt; item:</span><br><span class="line">            high = mid - <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> guess &lt; item:</span><br><span class="line">            low = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>: </span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure>

<h4 id="运行时间"><a href="#运行时间" class="headerlink" title="运行时间"></a>运行时间</h4><p>简单查询(线性时间)：O(n)</p>
<p>二分查找(对数时间)：O(log2n)</p>
<h3 id="大O表示法"><a href="#大O表示法" class="headerlink" title="大O表示法"></a>大O表示法</h3><p><em>大O表示法能够比较操作次数，它指出了算法运行时间的增速</em></p>
<p><em>表示的是最糟糕情况下的时间</em></p>
<p><strong>除最糟糕情况下的运行时间外，还应该考虑平均情况的运行时间，这是很重要的</strong></p>
<p><em>大O表示法并不考虑乘以，除以，加上，减去的数字</em></p>
<p><em>常见的五种大O运行时间：</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">O(log2n)  对数时间  二分查找</span><br><span class="line"></span><br><span class="line">O(n)  线性时间，简单查找</span><br><span class="line"></span><br><span class="line">O(n*log2n)  快速排序</span><br><span class="line"></span><br><span class="line">O(n^2)  一种速度较慢的排序方法</span><br><span class="line"></span><br><span class="line">O(n!)  旅行商问题</span><br></pre></td></tr></table></figure>

<p><a href="https://imgchr.com/i/Y17M6I" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://s1.ax1x.com/2020/05/10/Y17M6I.md.png" alt="Y17M6I.png" border="0"></a></p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p><em>算法的速度并非指时间，而是操作数的增速</em></p>
<p><em>谈论算法的时间时，我们说的是输入的增加，其运行时间以什么样的速度增加</em></p>
<p><em>算法的时间并不以秒为单位</em></p>
<hr>
<blockquote>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" rel="tag">二分查找</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/11/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/13/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2021 TTYONG
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank" rel="external nofollow noopener noreferrer">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style="display:none">
                        <span id="site-visit">海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style="display:none">
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"live2d-widget-model-hibiki"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
