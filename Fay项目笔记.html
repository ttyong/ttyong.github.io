<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/piao.js"></script>
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="baidu-site-verification" content="s8Pe1TBqyy">


  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-big-counter.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/animal_bear_panda_32px_4023_easyicon.net.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/animal_bear_panda_16px_4023_easyicon.net.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="tianyong">





  <link rel="alternate" href="/atom.xml" title="TianYong's Blog" type="application/atom+xml">






<meta name="description" content="大模型项目笔记Fay项目带货版部署123456789101112131415Wayne:部署模型很简单 随便上hugginface调一个，随便写个函数 又没有上下文Wayne:或者可以用openllmWayne:随便部署个随遇而安:微软的tts非必填，可以使用默认的edge_tts随遇而安:新手可以选择直接对接在线的大模型。chatglm、funasr这些本地化的都需要一定的技术的">
<meta property="og:type" content="article">
<meta property="og:title" content="Fay项目笔记">
<meta property="og:url" content="http://tianyong.fun/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html">
<meta property="og:site_name" content="TianYong&#39;s Blog">
<meta property="og:description" content="大模型项目笔记Fay项目带货版部署123456789101112131415Wayne:部署模型很简单 随便上hugginface调一个，随便写个函数 又没有上下文Wayne:或者可以用openllmWayne:随便部署个随遇而安:微软的tts非必填，可以使用默认的edge_tts随遇而安:新手可以选择直接对接在线的大模型。chatglm、funasr这些本地化的都需要一定的技术的">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021445161.png">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021536471.png">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021714567.png">
<meta property="og:image" content="http://tianyong.fun/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.htm/D:%5CGitHub%5Cmyblog%5Csource_posts%5Cassets%5Cimage-20230702202902721.png">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021508973.jpeg">
<meta property="og:image" content="http://tianyong.fun/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.htm/D:%5CGitHub%5Cmyblog%5Csource_posts%5Cassets%5Cimage-20230702203128548.png">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021909424.png">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021910589.png">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021911716.png">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021916925.png">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021917606.png">
<meta property="og:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021918736.png">
<meta property="article:published_time" content="2023-06-28T06:49:03.000Z">
<meta property="article:modified_time" content="2023-07-02T17:04:49.793Z">
<meta property="article:author" content="TTYONG">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021445161.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://tianyong.fun/Fay项目笔记.html">





  <title>Fay项目笔记 | TianYong's Blog</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>


<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">TianYong's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">比你优秀的人都努力，有什么理由不努力！</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            站点地图
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tianyong.fun/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TTYONG">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TianYong's Blog">
    </span>

    
      <header class="post-header">
	  
	  



        
        
          <h2 class="post-title" itemprop="name headline">Fay项目笔记</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-06-28T14:49:03+08:00">
                2023-06-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Fay%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index">
                    <span itemprop="name">Fay项目</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i> 浏览
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>次
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  7.2k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  27
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <hr>
<script type="text/javascript" src="/js/src/bai.js"></script>



<h1 id="大模型项目笔记"><a href="#大模型项目笔记" class="headerlink" title="大模型项目笔记"></a>大模型项目笔记</h1><h2 id="Fay项目"><a href="#Fay项目" class="headerlink" title="Fay项目"></a>Fay项目</h2><h3 id="带货版"><a href="#带货版" class="headerlink" title="带货版"></a>带货版</h3><h4 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Wayne:</span><br><span class="line">部署模型很简单 随便上hugginface调一个，随便写个函数 又没有上下文</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Wayne:</span><br><span class="line">或者可以用openllm</span><br><span class="line"></span><br><span class="line">Wayne:</span><br><span class="line">随便部署个</span><br><span class="line"></span><br><span class="line">随遇而安:</span><br><span class="line">微软的tts非必填，可以使用默认的edge_tts</span><br><span class="line"></span><br><span class="line">随遇而安:</span><br><span class="line">新手可以选择直接对接在线的大模型。chatglm、funasr这些本地化的都需要一定的技术的</span><br></pre></td></tr></table></figure>



<h4 id="本地大模型方案"><a href="#本地大模型方案" class="headerlink" title="本地大模型方案"></a>本地大模型方案</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rasa+chatglm</span><br><span class="line"></span><br><span class="line">up主配置：3060显卡+12g显存+cpu:amd ryzen 9 5900x +内存：64G</span><br></pre></td></tr></table></figure>



<h2 id="JittorLLMs"><a href="#JittorLLMs" class="headerlink" title="JittorLLMs"></a>JittorLLMs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">你好，这是Bing。很高兴为你提供帮助。😊</span><br><span class="line"></span><br><span class="line">WSL是Windows Subsystem for Linux的缩写，意思是Windows系统的Linux子系统，它可以让你在Windows上运行Linux环境和应用程序，而不需要虚拟机或双重启动⁵。WSL有两个版本，WSL 1和WSL 2，它们有不同的体系结构和性能¹。你可以通过Microsoft Store或命令行安装和管理不同的Linux发行版，例如Ubuntu、Debian、Kali等²。</span><br><span class="line"></span><br><span class="line">如果你想通过WSL部署Windows 10，你需要满足一些先决条件，例如运行Windows 10版本2004或更高版本，并启用虚拟机平台功能²。然后你可以使用wsl --install命令来安装WSL和Ubuntu发行版²。安装完成后，你需要为Linux发行版创建一个用户账户和密码，并根据你的需要进行一些设置和优化²。</span><br></pre></td></tr></table></figure>



<h2 id="常识"><a href="#常识" class="headerlink" title="常识"></a>常识</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CUDA是英伟达（NVIDIA）推出的一种通用并行计算架构，它可以利用GPU的强大计算能力来加速各种应用程序，特别是深度学习等领域123。CUDA提供了一套编程接口，让开发者可以在C&#x2F;C++等语言中编写GPU核函数，实现数据并行的计算密集型任务24。CUDA还提供了一些数学库，如CUFFT和CUBLAS，以及针对深度卷积神经网络的加速库CUDNN25。如果您想使用CUDA进行GPU编程，您需要安装CUDA工具包，并且确保您的显卡是NVIDIA的支持CUDA的型号</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PyTorch 是一种基于 Python 的科学计算库，它可以用于构建深度学习模型，特别是在图像识别和自然语言处理等领域有很强的表现123。PyTorch 的特点是使用动态计算图，这意味着可以根据需要随时修改模型的结构和参数2。PyTorch 还提供了丰富的工具和库，支持各种数据处理、可视化、调试、优化等功能1。PyTorch 可以很好地与 Numpy 和其他 Python 库集成，方便开发者使用 Python 语言进行深度学习的开发和研究1。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">AIGC功能的服务器是指用于支持AIGC技术的服务器，它们通常需要具备高性能的计算能力和存储能力，以处理大量的数据和模型123。AIGC功能的服务器可以分为训练服务器和推理服务器，根据不同的场景和需求，选择不同的硬件配置和软件平台12。</span><br><span class="line"></span><br><span class="line">训练服务器：用于训练AIGC模型，需要消耗大量的算力和时间，通常使用GPU或FPGA等异构计算设备来加速训练过程12。训练服务器的硬件配置要求较高，需要有足够的内存、显存、硬盘空间等。训练服务器的软件平台可以使用CUDA、TensorFlow、PyTorch等深度学习框架，以及各种数学库和工具包12。</span><br><span class="line">推理服务器：用于运行AIGC模型，提供内容生成服务，需要快速响应用户的请求，通常使用CPU或GPU等异构计算设备来加速推理过程12。推理服务器的硬件配置要求较低，主要取决于模型的复杂度和服务的规模等。推理服务器的软件平台可以使用ONNX、TensorRT、OpenVINO等推理引擎，以及各种部署工具和框架</span><br></pre></td></tr></table></figure>



<h3 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">您好，这是Bing。如果您想要通过任务管理器查看您的电脑有多少个内存卡槽，您可以按照以下步骤操作：</span><br><span class="line"></span><br><span class="line">使用 Ctrl + Alt + Del 快捷键打开「任务管理器」。</span><br><span class="line">点击「性能」标签。</span><br><span class="line">再点击左侧「内存」项。</span><br><span class="line">在「任务管理器」右下方即可查看到当前设备内存插槽总数和已使用的插槽个数。12</span><br><span class="line">您也可以使用「命令提示符」来查看内存卡槽的信息，具体方法如下：</span><br><span class="line"></span><br><span class="line">使用 Win + R 组合快捷键，打开「运行」操作框。</span><br><span class="line">在打开后面输入命令 cmd ，并点击下方的「确定」进入命令操作窗口。</span><br><span class="line">然后在打开的CMD命令窗口输入命令： wmic memphysical get maxcapacity, memorydevices 。</span><br><span class="line">这样就可以看到内存卡槽的个数和最大支持的内存容量。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">您好，这是Bing。最大支持容量是指您的电脑主板能够识别和使用的内存容量的上限。也就是说，如果您的电脑最大支持32GB的内存，那么即使您安装了64GB的内存条，也只能用到32GB。1</span><br><span class="line"></span><br><span class="line">要查看您的电脑最大支持多少内存，您可以使用命令提示符来查询。具体方法如下：</span><br><span class="line"></span><br><span class="line">使用 Win + R 组合快捷键，打开「运行」操作框。</span><br><span class="line">在打开后面输入命令 cmd ，并点击下方的「确定」进入命令操作窗口。</span><br><span class="line">然后在打开的CMD命令窗口输入命令： wmic memphysical get maxcapacity 。</span><br><span class="line">这样就可以看到一个数字，这个数字是以千字节为单位的最大支持内存容量。</span><br><span class="line">您可以用这个公式来换算成GB单位： GB &#x3D; 千字节 ÷1024÷1024 。2</span><br><span class="line">例如，如果您查询出 33554432 这个数字，经过计算就可以得知，您的电脑最大支持 32GB 的内存。</span><br><span class="line"></span><br><span class="line">目前，大部分家用笔记本电脑的最大支持内存容量都在 16GB 到 64GB 之间。要想达到 256GB 的内存，可能需要专业的工作站或服务器级别的笔记本电脑。3</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">您好，这是Bing。根据笔记本型号和内存条参数去购买，是指您需要根据您的笔记本电脑的品牌和型号，以及您的内存条的类型、容量、频率等信息，去选择合适的内存条。1</span><br><span class="line"></span><br><span class="line">不同的笔记本电脑可能支持不同的内存条规格，例如 DDR3 或 DDR4，以及不同的最大容量和最大频率。23</span><br><span class="line"></span><br><span class="line">内存条的参数一般可以在内存条的标签上看到，例如 8G 2*4GB DDR4 2666MHz 这样的信息。</span><br><span class="line"></span><br><span class="line">8G 表示总容量是 8GB。</span><br><span class="line">2*4GB 表示是两根 4GB 的内存条组成的双通道。</span><br><span class="line">DDR4 表示是 DDR4 类型的内存条。</span><br><span class="line">2666MHz 表示是 2666MHz 的频率。</span><br><span class="line">您也可以通过任务管理器或者第三方软件来查看您的笔记本电脑和内存条的参数。12</span><br><span class="line"></span><br><span class="line">如果您想要加装或者更换内存条，您需要购买和您的笔记本电脑和原有内存条相匹配的内存条，否则可能会出现兼容性问题或者性能下降。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">譬如单条内存话可以说是随便插了，两条内存选择插2、4插槽。考虑兼容性问题，最好是同品牌同型号同容量的内存。假如是4G+8G组合一共12G，结果是4G+4G为双通道模式，另外4G为单通道模式，这种情况属于弹性双通模式，也叫做非对称双通模式。除此之外可能还会带来一些兼容性问题，比如蓝屏死机之类的；三条内存的情况，在双通道插法的基础上，第三条再插在第一个槽上，这种情况就是2条内存双通，1条内存单通。这句话的2、4插槽是什么意思</span><br><span class="line"></span><br><span class="line">这句话的意思是，如果您有两根内存条，要插在主板上的第二个和第四个插槽上，这样可以组成双通道模式，提高内存的性能。双通道模式是指两根内存条分别在两个不同的通道上工作，相当于增加了内存的带宽，可以提高数据传输的速度。12</span><br><span class="line"></span><br><span class="line">一般来说，主板上有四个内存插槽，分为A通道和B通道，每个通道有两个插槽，分别编号为A1、A2、B1、B2。如下图所示：3</span><br><span class="line"></span><br><span class="line">如果您要使用双通道模式，您需要注意以下几点：</span><br><span class="line"></span><br><span class="line">您的两根内存条要和主板、CPU、系统等硬件兼容，不能超过主板支持的最大内存容量。</span><br><span class="line">您的两根内存条要和原有的内存条同样的DDR代数，比如DDR4，否则无法插入或者识别。</span><br><span class="line">您的两根内存条最好和原有的内存条同样的品牌、型号、频率、时序等规格，这样可以避免兼容性问题。</span><br><span class="line">您的两根内存条要插在同一颜色或者同一编号奇偶性的插槽上，比如A2和B2或者A1和B1，这样可以保证两根内存条在不同的通道上工作。</span><br></pre></td></tr></table></figure>



<h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">查看显存 cmd + dxdiag</span><br></pre></td></tr></table></figure>

<h2 id="anaconda"><a href="#anaconda" class="headerlink" title="anaconda"></a>anaconda</h2><h3 id="虚拟环境"><a href="#虚拟环境" class="headerlink" title="虚拟环境"></a>虚拟环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda create --name your-env</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">conda create --name your-env your-pkg</span><br><span class="line">conda create --name snakes python&#x3D;3.5</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda activate your-env</span><br><span class="line"></span><br><span class="line">conda deactivate</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda info -e</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda remove --name ENVNAME --all</span><br></pre></td></tr></table></figure>

<h3 id="包管理"><a href="#包管理" class="headerlink" title="包管理"></a>包管理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda list</span><br><span class="line"></span><br><span class="line">conda search packagename 安装时</span><br></pre></td></tr></table></figure>



<h3 id="镜像源"><a href="#镜像源" class="headerlink" title="镜像源"></a>镜像源</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda config --show channels</span><br><span class="line"></span><br><span class="line">conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;pkgs&#x2F;free&#x2F;</span><br><span class="line"></span><br><span class="line">conda config --remove channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;conda-forge&#x2F;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">你可以使用以下命令来设置conda和pip的镜像源：</span><br><span class="line"></span><br><span class="line">- 配置conda镜像源：&#96;conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#96;¹</span><br><span class="line">- 配置pip镜像源：在命令行中输入以下命令：</span><br><span class="line"></span><br><span class="line">  - 清华pip镜像：&#96;pip config set global.index-url https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple&#96;</span><br><span class="line">  - 阿里pip镜像：&#96;pip config set global.index-url https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;pypi&#x2F;simple&#x2F;&#96;</span><br><span class="line">  - 腾讯pip镜像：&#96;pip config set global.index-url https:&#x2F;&#x2F;mirrors.cloud.tencent.com&#x2F;pypi&#x2F;simple&#96;</span><br><span class="line">  - 豆瓣pip镜像：&#96;pip config set global.index-url https:&#x2F;&#x2F;pypi.douban.com&#x2F;simple&#x2F;&#96;²³</span><br></pre></td></tr></table></figure>



<h3 id="回滚env"><a href="#回滚env" class="headerlink" title="回滚env"></a>回滚env</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda list --revisions</span><br><span class="line"></span><br><span class="line">conda install --revision N</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">conda env export &gt; envName.yml</span><br><span class="line"></span><br><span class="line"># 使用旧环境名</span><br><span class="line">conda env create -f envName.yml</span><br><span class="line"># 指定新环境名</span><br><span class="line">conda env create -f envName.yml -n newEnvName</span><br></pre></td></tr></table></figure>

<h3 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">如果你没有进入conda环境，使用pip安装的依赖是全局的，会被安装到全局环境中¹²。如果你想要在局部环境中安装依赖，可以使用&#96;pip install --user&#96;命令³。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在conda中，base环境使用的依赖是全局的，会被安装到全局环境中¹²。如果你想要在局部环境中安装依赖，可以使用&#96;pip install --user&#96;命令³。</span><br></pre></td></tr></table></figure>

<h2 id="stable-diffusion"><a href="#stable-diffusion" class="headerlink" title="stable diffusion"></a>stable diffusion</h2><h3 id="提示词"><a href="#提示词" class="headerlink" title="提示词"></a>提示词</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">正向提示词</span><br><span class="line"></span><br><span class="line">排除词</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">提示词拆分：</span><br><span class="line"></span><br><span class="line">①对于使用提示词生成图像生成的小伙伴来说，当看到喜欢的图像或脑海中想到很多画面，但却不知道如何用提示词准确描述，现在有三种方法可以帮助大家快速拆分和生成图像。</span><br><span class="line"></span><br><span class="line">Stable Diffusion 中自带反推功能，可以通过将想要拆分的图像拖入反推，点击按钮来获得生成该图像的提示词。第一次使用可能会有些慢，需要稍等片刻。需要注意的是，这些提示词需要进行后期的优化，常用的方法是通过百度翻译后进行增删改，或者输入到 GPT 中进行优化，优化后将提示词放入相应的框内进行图像输出。</span><br><span class="line"></span><br><span class="line">②第二种方法我们可以借助三方网站：https:&#x2F;&#x2F;replicate.com&#x2F;</span><br><span class="line"></span><br><span class="line">来进行拆分，拆分好后，同第一条一样，进行一个增删改，然后我们对两种方法进行比较，通过比较后，我们可以进行词汇的筛选与合并</span><br><span class="line"></span><br><span class="line">③利用 gpt 或文心等相关工具，将想要描述的长句输入，最后加一句描述，请将这句话拆分为 Stable Diffusion 的提示词，如果不满意可以继续恢复优化提示词，或者换一批相关描述，然后将转换好的提示词同 ①一样增删改</span><br></pre></td></tr></table></figure>

<h3 id="图像尺寸"><a href="#图像尺寸" class="headerlink" title="图像尺寸"></a>图像尺寸</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">画面的信息量取决于输出图片的大小。在全身构图中，一些细节，例如脸部、饰品和复杂的纹样，只有在较大的图像中才能得到充分的展示空间，如图像太小，脸部，手部，一些细节就会被压缩成一团，无法得到充分的表现，以下图的风景为例，当画幅越大时，展示的内容越多。</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021445161.png" alt="image-20230702144539022"></p>
<h3 id="权重"><a href="#权重" class="headerlink" title="权重"></a>权重</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">正如前文所述，词汇在提示中的位置越靠前，其所占的权重就越大。为了进一步调整提示关键词的权重，我们可以通过以下语法来设置关键词的权重：在选中关键词的同时，按下键盘上的 Ctrl+⬆️ ⬇️来快速调整权重。每次调整的权重值为0.1，建议将权重值控制在0.7-1.4之间。简单来说，将每个提示词看作一个独立的个体，权重默认为1，而后面的数值就相当于在修改这个默认值。当然，我们也可以将权重调整为负数，从而在提示中产生与原意相反的影响。通过这种方法，我们可以更加精确地控制提示关键词的权重，以达到更好的提示效果。同时，我们也需要注意保持提示内容的流畅性和自然性，避免过度的修改导致提示内容的语义不连贯或不符合实际情况。</span><br><span class="line"></span><br><span class="line">作者：无为设计研究所</span><br><span class="line">链接：https:&#x2F;&#x2F;zhuanlan.zhihu.com&#x2F;p&#x2F;629521125</span><br><span class="line">来源：知乎</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure>

<h3 id="提示词相关性"><a href="#提示词相关性" class="headerlink" title="提示词相关性"></a>提示词相关性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stable Diffusion 中的提示词相关性指的是输入提示词对生成图像的影响程度。当我们提高提示词相关性时，生成的图像将更符合提示信息的样子；相反，如果提示词相关性较低，对应的权重也较小，则生成的图像会更加随机。因此，通过调整提示词相关性，可以引导模型生成更符合预期的样本，从而提高生成的样本质量。①在具体应用中，对于人物类的提示词，一般将提示词相关性控制在 7-15 之间；②而对于建筑等大场景类的提示词，一般控制在 3-7 左右。这样可以在一定程度上突出随机性，同时又不会影响生成图像的可视化效果。因此，提示词相关性可以帮助我们通过引导模型生成更符合预期的样本，从而提高生成的样本质量。</span><br></pre></td></tr></table></figure>

<h3 id="随机种子"><a href="#随机种子" class="headerlink" title="随机种子"></a>随机种子</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">随机种子是一个可以锁定生成图像的初始状态的值。当使用相同的随机种子和其他参数，我们可以生成完全相同的图像。设置随机种子可以增加模型的可比性和可重复性，同时也可以用于调试和优化模型，以观察不同参数对图像的影响。在 Stable Diffusion 中，常用的随机种子有-1 和其他数值。当输入-1 或点击旁边的骰子按钮时，生成的图像是完全随机的，没有任何规律可言。而当输入其他随机数值时，就相当于锁定了随机种子对画面的影响，这样每次生成的图像只会有微小的变化。因此，使用随机种子可以控制生成图像的变化程度，从而更好地探索模型的性能和参数的影响。</span><br><span class="line"></span><br><span class="line">在工作产出中，如果细微调整，我们将会固定某个种子参数然后进行批量生成</span><br></pre></td></tr></table></figure>

<h3 id="采样方法"><a href="#采样方法" class="headerlink" title="采样方法"></a>采样方法</h3><h4 id="Euler-a"><a href="#Euler-a" class="headerlink" title="Euler a"></a>Euler a</h4><p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021536471.png" alt="image-20230702153640124"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Euler a： 20</span><br><span class="line"></span><br><span class="line">①Euler a 是一种用于控制时间步长大小的可调参数，在 Stable Diffusion 中采用 Euler 时间步长采样方法。适当的 Euler a 值能够捕捉到细节和纹理，但如果值太大会导致过度拟合，生成图像出现噪点等不良效果。②一句话概括：采样生成速度最快，但是如果说在高细节图增加采样步数时，会产生不可控突变（如人物脸扭曲，细节扭曲等）适合：ICON，二次元图像，小场景</span><br></pre></td></tr></table></figure>

<h4 id="DPM-2S-a-Karras"><a href="#DPM-2S-a-Karras" class="headerlink" title="DPM++2S a Karras"></a>DPM++2S a Karras</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DPM++2S a Karras</span><br><span class="line"></span><br><span class="line">①采用 DPM++2S a Karras 采样方法生成高质量图像，该方法在每个时间步长中执行多次操作，同等分辨率下细节会更多，比如可以在小图下塞进全身，代价是采样速度更慢</span><br><span class="line"></span><br><span class="line">②适合：写实人像，复杂场景刻画</span><br></pre></td></tr></table></figure>

<h4 id="DDIM"><a href="#DDIM" class="headerlink" title="DDIM"></a>DDIM</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DDIM</span><br><span class="line"></span><br><span class="line">①DDIM 采样方法可以快速生成高质量的图像，相比其他采样方法具有更高的效率，想尝试超高步数时可以使用，随着步数增加可以叠加细节②适合：写实人像，复杂场景刻画下图为大家展示 DDIM 同提示词不同步幅下的输出图像，可以看到随着步幅的提高，细节和丰富度逐渐提高</span><br></pre></td></tr></table></figure>

<h3 id="采样迭代步数"><a href="#采样迭代步数" class="headerlink" title="采样迭代步数"></a>采样迭代步数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输出画面需要的步数，每一次采样步数都是在上一次的迭代步骤基础上绘制生成一个新的图片，一般来说采样迭代步数保持在 18-30 左右即可，低的采样步数会导致画面计算不完整，高的采样步数仅在细节处进行优化，对比输出速度得不偿失。</span><br></pre></td></tr></table></figure>

<h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><h3 id="Checkpoint-的介绍"><a href="#Checkpoint-的介绍" class="headerlink" title="Checkpoint 的介绍"></a>Checkpoint 的介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对于模型作者而言，训练模型通常指生成 Checkpoint 文件。这些文件包含了模型参数和优化器状态等信息，是训练过程中定期保存的状态快照。对于使用者而言，可以将 Checkpoint 文件理解为一种风格滤镜，例如油画、漫画、写实风等。通过选择对应的 Checkpoint 文件，您可以将 Stable Diffusion 模型生成的结果转换为您所选择的特定风格。需要注意的是，一些 Checkpoint 文件可能需要与特定的低码率编码器（如 Lora）配合使用，以获得更好的效果。在下载 Checkpoint 文件时，您可以查看相应的模型简介，通常作者会提供相应的文件和说明事项，以帮助您更好地使用和理解该文件。总之，Checkpoint 文件是 Stable Diffusion 模型训练过程中定期保存的状态快照，使用者可以将其理解为一种风格滤镜，用于将模型输出结果转换为特定的风格。在使用 Checkpoint 文件时，需要注意文件的匹配和相应的使用说明。</span><br></pre></td></tr></table></figure>

<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><h4 id="墨幽2-5D-MIX-MoYou2-5D-MIX"><a href="#墨幽2-5D-MIX-MoYou2-5D-MIX" class="headerlink" title="墨幽2.5D_MIX_MoYou2.5D_MIX"></a>墨幽2.5D_MIX_MoYou2.5D_MIX</h4><p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021714567.png" alt="image-20230702171425104"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">qq群号:858495398 (刚建群，现在加入就是元老哦)</span><br><span class="line"></span><br><span class="line">也请多多关注我的小红书和抖音账号：yy469370733</span><br><span class="line"></span><br><span class="line">喜欢的话点赞关注返图哦！！！感谢！！！</span><br><span class="line"></span><br><span class="line">先看说明！！！</span><br><span class="line"></span><br><span class="line">本次同时上传了2.23g的修剪版，供显存不足的小伙伴使用（修剪版在细节表现上好像要弱一点~区别不大，但体积小，出图速度也更快）</span><br><span class="line"></span><br><span class="line">不要开面部修复！</span><br><span class="line"></span><br><span class="line">基于墨幽MIX_MoYouMIX_nature_v10.2制作的2.5d版墨幽</span><br><span class="line"></span><br><span class="line">中西结合的风格，现在古风皆可</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">无realistic——2.3D，有realistic——2.8D</span><br><span class="line"></span><br><span class="line">推荐tag：</span><br><span class="line"></span><br><span class="line">正：1girl,moyou,realistic,</span><br><span class="line"></span><br><span class="line">负：lowres,bad anatomy,bad hands,text,error,missing fingers,extra digit,fewer digits,cropped,worst quality,low quality,normal quality,jpeg artifacts,signature,watermark,username,blurry,Black background,Long Neck,(narrow shoulder:1.1),Cock-eye,EasyNegative,Neck forward,Thin,slim figure,</span><br><span class="line"></span><br><span class="line">推荐参数：</span><br><span class="line"></span><br><span class="line">vae：840000</span><br><span class="line"></span><br><span class="line">采样：DPM++ 2M SDE Karras</span><br><span class="line"></span><br><span class="line">步数：20-30</span><br><span class="line"></span><br><span class="line">高分辨率修复参数：（一定要开！）</span><br><span class="line"></span><br><span class="line">放大算法：4×-UltraSharp</span><br><span class="line"></span><br><span class="line">重绘幅度：0.25（可适当调整）</span><br><span class="line"></span><br><span class="line">放大倍数：2</span><br><span class="line"></span><br><span class="line">点赞关注哦！欢迎多多反馈返图！！！</span><br><span class="line"></span><br><span class="line">感谢！！！</span><br></pre></td></tr></table></figure>

<p><a href="https://www.liblibai.com/modelinfo/f10bf7fb091cb29ecc9fd89d0482646e" target="_blank" rel="external nofollow noopener noreferrer">https://www.liblibai.com/modelinfo/f10bf7fb091cb29ecc9fd89d0482646e</a></p>
<h5 id="情景描述"><a href="#情景描述" class="headerlink" title="情景描述"></a>情景描述</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">prompt:1girl,moyou,realistic,masterpiece, best quality, black hair, against backlight at dusk, cityscape, blue hairband, goggles, earrings, shackles, fingerless_gloves, necklace</span><br><span class="line">Negative prompt:lowres,bad anatomy,bad hands,text,error,missing fingers,extra digit,fewer digits,cropped,worst quality,low quality,normal quality,jpeg artifacts,signature,watermark,username,blurry,Black background,Long Neck,(narrow shoulder:1.1),Cock-eye,EasyNegative,Neck forward,Thin,slim figure,</span><br><span class="line">Sampler:DPM++ 2M SDE Karras</span><br><span class="line">model:</span><br><span class="line">CFG scale:7</span><br><span class="line">steps:20</span><br><span class="line">seed:3669909696</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">prompt:1girl,moyou,realistic,Moderatechest,</span><br><span class="line">Negative prompt:NSFW,((Bare fingers)),(worst quality:1.4), (low quality:1.4), (monochrome:1.4), easynegative,lowres,bad anatomy,bad hands,(Bare toe)text,error,missing fingers,extra digit,fewer digits,cropped,transition exposure,worst quality,low quality,normal quality,jpeg artifacts,signature,watermark,username,blurry,missing arms,long neck,Humpbacked,poorly drawn hands,signature,artist name,malformed mutated,deformed,text,blurry,fused fingers,missing fngers,mutated hands and fingers,more than 2 thighs,malformed limbs,missing legs,extra legs,mutation poorly drawn,mutated hands</span><br><span class="line">Sampler:DPM++ 2M Karras</span><br><span class="line">model:</span><br><span class="line">CFG scale:7</span><br><span class="line">steps:150</span><br><span class="line">seed:3709181679</span><br></pre></td></tr></table></figure>

<h5 id="正面词"><a href="#正面词" class="headerlink" title="正面词"></a>正面词</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;lora:唯美_Mr_MC_R-WM_V1.2_R-WM_V1.2:0.45&gt;,1girl,Mr_MC_R-WM_V1,brown hair, looking at viewer, scarf, long hair,Thin,slim figure,blurry, outdoors, pink scarf, lips, upper body, blurry background, earrings, jewelry, bangs, solo focus, day, closed mouth, solo, winter clothes, long sleeves, sweater, depth of field, realistic, coat, green eyes, blush, wind</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prompt:Mr_MC_R-WM_V1,&lt;lora:Mr_MC_R-WM_V1.2:0.8&gt;,1girl,long hair,solo,floating hair,upper body,Big bust,sleeveless,parted lips,red lips,lips,pink hair,turtleneck,bare shoulders,(flower),eyelashes,&lt;lora:detailia_yiu_v20:0.2&gt;,</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mr_MC_R-WM_V1, &lt;lora:Mr_MC_R-WM_V1.2:0.8&gt;,1girl, long hair, solo, floating hair, closed eyes, upper body, sleeveless, parted lips, red lips, lips, pink hair, turtleneck, bare shoulders, (flower), eyelashes</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;lora:Mr_MC_R-WM_V1:1&gt;,1girl,Mr_MC_R-WM_V1,brown hair, looking at viewer, scarf, long hair, blurry, outdoors, pink scarf, lips, upper body, blurry background, earrings, jewelry, bangs, solo focus, day, closed mouth, solo, winter clothes, long sleeves, sweater, depth of field, realistic, coat, green eyes, blush, wind</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mr_MC_R-WM_V1, &lt;lora:Mr_MC_R-WM_V1.2:0.87&gt;,1girl, brown hair, looking at viewer, long hair, solo, outdoors, blurry, scarf, lips, upper body, day, sweater, blurry background, bangs, earrings, closed mouth, winter clothes, jewelry, pink scarf, green eyes, building, long sleeves, depth of field, realistic, winter, coat</span><br></pre></td></tr></table></figure>

<h5 id="负面词"><a href="#负面词" class="headerlink" title="负面词"></a>负面词</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">digits,cropped,worst quality,low quality,normal quality,jpeg artifacts,signature,watermark,username,blurry,Black background,Long Neck,(narrow shoulder:1.1),Cock-eye,EasyNegative,Neck forward</span><br></pre></td></tr></table></figure>



<h4 id="CMixS-v1-0-ckpt"><a href="#CMixS-v1-0-ckpt" class="headerlink" title="CMixS_v1.0.ckpt"></a>CMixS_v1.0.ckpt</h4><p><img src="/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.htm/D:%5CGitHub%5Cmyblog%5Csource_posts%5Cassets%5Cimage-20230702202902721.png" alt="image-20230702202902721"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">模型介绍：欢迎使用CMix-S模型 - 这是一个古典&#x2F;未来科幻风格模型，也可以说是一个具有2.5D质感的细腻画风模型，具有2.5D的质感。</span><br><span class="line"></span><br><span class="line">创意描述：赛博&#x2F;蒸汽朋克风+机甲,古典与科技结合。</span><br><span class="line"></span><br><span class="line">生成建议：模型上手简单，记得选择VAE(推荐840000)，更多参数可以参考示例图。如果脸部稍有瑕疵可以打开Face Editor插件。</span><br></pre></td></tr></table></figure>



<h5 id="正面词-1"><a href="#正面词-1" class="headerlink" title="正面词"></a>正面词</h5><h5 id="负面词-模型要求第一个"><a href="#负面词-模型要求第一个" class="headerlink" title="负面词(模型要求第一个)"></a>负面词(模型要求第一个)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(((simple background))),monochrome ,lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry, lowres, bad anatomy, bad hands, text, error, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry, ugly,pregnant,vore,duplicate,morbid,mut ilated,tran nsexual, hermaphrodite,long neck,mutated hands,poorly drawn hands,poorly drawn face,mutation,deformed,blurry,bad anatomy,bad proportions,malformed limbs,extra limbs,cloned face,disfigured,gross proportions, (((missing arms))),(((missing legs))), (((extra arms))),(((extra legs))),pubic hair, plump,bad legs,error legs,username,blurry,bad feet</span><br></pre></td></tr></table></figure>



<h3 id="本地位置"><a href="#本地位置" class="headerlink" title="本地位置"></a>本地位置</h3><p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021508973.jpeg" alt="img"></p>
<h3 id="VAE-的介绍"><a href="#VAE-的介绍" class="headerlink" title="VAE 的介绍"></a>VAE 的介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">可以将 VAE 理解为对模型的滤镜加微调，不同的 VAE 可能有一些细节上的差异，但不会影响输出的效果。</span><br><span class="line"></span><br><span class="line">它可以增强模型的表现，有些模型文件已经自带了 VAE 效果，因此不需要盲目地去挂载，可以选择自动模式来简化日常使用。</span><br></pre></td></tr></table></figure>

<h3 id="embedding-的介绍"><a href="#embedding-的介绍" class="headerlink" title="embedding 的介绍"></a>embedding 的介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如果你有做过 UI 的经验，那么你应该知道组件的概念。在 Stable Diffusion 中，embedding 技术就可以被理解为一种组件，它可以将输入数据转换成向量表示，方便模型进行处理和生成。举个例子，如果我们想要生成一个开心的皮卡丘，通常需要输入很多描述词，如黄毛、老鼠、长耳朵、腮红等等。但是，如果引入皮卡丘的 embedding，我们只需要输入两个词：皮卡丘和开心。皮卡丘的 embedding 打包了所有皮卡丘的特征描述，这样我们就不用每次输入很多单词来控制生成的画面了。在日常使用中，embedding 技术通常用于控制人物的动作和特征，或者生成特定的画风。相比于其他模型（如 LORA），embedding 的大小只有几十 KB，而不是几百兆或几 GB，除了还原度对比 lora 差一些但在存储和使用上更加方便。总之，embedding 技术将输入数据转换为向量表示，为模型的处理和生成提供了便利。通过使用 embedding，我们可以更加轻松地生成符合预期的样本，而不需要手动输入大量的描述词汇。</span><br></pre></td></tr></table></figure>

<h3 id="LORA-的介绍"><a href="#LORA-的介绍" class="headerlink" title="LORA 的介绍"></a>LORA 的介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LORA 与 embedding 在本质上类似，因为携带着大量的训练数据，所以 LORA 对人物和细节特征的复刻更加细腻使用技巧：通常来说，每个 LORA 模型都有对应的底膜和触发词汇。我们可以查看 LORA 作者产出的相关图片，从中获取模型信息，并从中选择一些提示词和排除词来指定生成图像的方向。需要注意的是，每个 LORA 模型对输出图像的权重设置是非常重要的。权重设置越大，对画面的影响因素就越浅。通常情况下，权重应该控制在 0.7-1 之间。如果权重过高，会大幅度影响出图的质量。为了获得最佳效果，我们可以根据不同的 LORA 模型选择适当的提示词和排除词，并在设置权重时进行调整。同时，我们还可以参考其他作者的经验和技巧，以便更好地利用 LORA 生成图像。</span><br></pre></td></tr></table></figure>

<h4 id="下载-1"><a href="#下载-1" class="headerlink" title="下载"></a>下载</h4><h4 id="唯美-Mr-MC-R-WM-V1-2-R-WM-V1-2"><a href="#唯美-Mr-MC-R-WM-V1-2-R-WM-V1-2" class="headerlink" title="唯美_Mr_MC_R-WM_V1.2_R-WM_V1.2"></a>唯美_Mr_MC_R-WM_V1.2_R-WM_V1.2</h4><h4 id="科幻Q版机甲少年"><a href="#科幻Q版机甲少年" class="headerlink" title="科幻Q版机甲少年"></a>科幻Q版机甲少年</h4><p><img src="/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.htm/D:%5CGitHub%5Cmyblog%5Csource_posts%5Cassets%5Cimage-20230702203128548.png" alt="image-20230702203128548"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-模型简介：科幻Q版3D风格，适合生成男孩、女孩及机器人。</span><br><span class="line"></span><br><span class="line">-创意概述：突发奇想，假如科幻的主题融入到Q版男女孩风格里会是怎样一副画面，于是就大胆的尝试了一下，感觉还不错，希望能帮到你。适用于大部分2.5D模型。</span><br><span class="line"></span><br><span class="line">-生成建议：</span><br><span class="line"></span><br><span class="line">搭配底膜建议：CMixs_v1.0，Good Asian Girl Face_GoodAsianGirlFaceV1.2</span><br><span class="line"></span><br><span class="line">采样方法建议：DPM++ 2M SDE Karras</span><br><span class="line"></span><br><span class="line">权重建议：0.5-0.8</span><br><span class="line"></span><br><span class="line">尺寸建议：512*768</span><br><span class="line"></span><br><span class="line">提示词引导系数建议：7-8之间</span><br></pre></td></tr></table></figure>

<h4 id="全息故障-Holographic-Fault-v1-0"><a href="#全息故障-Holographic-Fault-v1-0" class="headerlink" title="全息故障_Holographic_Fault_v1.0"></a>全息故障_Holographic_Fault_v1.0</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">眼部容易出问题，需要开启面部修复</span><br></pre></td></tr></table></figure>



<h2 id="图生图"><a href="#图生图" class="headerlink" title="图生图"></a>图生图</h2><h2 id="无损放大图像和缩小图像"><a href="#无损放大图像和缩小图像" class="headerlink" title="无损放大图像和缩小图像"></a>无损放大图像和缩小图像</h2><p><a href="https://blog.csdn.net/qq_20288327/article/details/131439726" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/qq_20288327/article/details/131439726</a></p>
<h3 id="hires-fix高分辨率修复"><a href="#hires-fix高分辨率修复" class="headerlink" title="hires.fix高分辨率修复"></a>hires.fix高分辨率修复</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在生成图片时，可选择使用hires.fix高分辨率修复功能，该功能会将生成图片的尺寸从512×512调整至1024×1024，然而这可能会降低出图的速度。</span><br><span class="line"></span><br><span class="line">点击高清修复，处理逻辑是先生成图像，然后根据图像放大后保存。</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021909424.png" alt="image-20230702190913605"></p>
<h3 id="extras附加功能"><a href="#extras附加功能" class="headerlink" title="extras附加功能"></a>extras附加功能</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">这里更为推荐的是使用extras附加功能。选择菜单栏中的extras，然后上传图片或者在生成图片后，点击右下角的send to extras即可。</span><br><span class="line"></span><br><span class="line">首先我们使用文生图功能生成我们需要的图片。</span><br><span class="line"></span><br><span class="line">将生成好的图片通过send to extras选项卡移动到附加功能</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021910589.png" alt="image-20230702191020379"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">图片会直接移动到Single Image下。</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021911716.png" alt="image-20230702191139785"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">在Scale by多选框中，提供了多种无损放大算法，例如Lanczos、Nearest、4x-UltraSharp、LDSR、R-ESRGAN 4x+、R-ESRGAN 4x+ Anime6B、SwinlR 4x等。这些算法有各自的特点和适用场景：</span><br><span class="line"></span><br><span class="line">Lanczos：传统插值算法，效果一般，不推荐使用。</span><br><span class="line">LDSR：图片放大质量优秀，特别适合照片类图片，但速度慢。</span><br><span class="line">4x-UltraSharp：能让图片更平滑、锐利，适合修复表面纹理有问题的图片。</span><br><span class="line">R-ESRGAN 4x+：增强型ESRGAN，可修复各种真实世界的图像，保留图片中的精细细节，产生清晰锐利的图像，适用于大部分图像，尤其是逼真的照片。</span><br><span class="line">R-ESRGAN-4x±Anime6B：适合动漫类图片放大。</span><br><span class="line">SwinIR_4x：适合绘画类图片放大。</span><br></pre></td></tr></table></figure>

<h4 id="放大功能"><a href="#放大功能" class="headerlink" title="放大功能"></a>放大功能</h4><h5 id="R-ESRGAN-4x"><a href="#R-ESRGAN-4x" class="headerlink" title="R-ESRGAN 4x+"></a>R-ESRGAN 4x+</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">一般情况下选择R-ESRGAN 4x+即可满足大多数需求。</span><br><span class="line"></span><br><span class="line">用该算法默认将图片放大4倍，即将512×768像素的图片放大成2048×3072像素。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对于人物脸部图片，可以考虑选用CodeFormer和GFPGAN。这两个选项能修复人脸图片的一些问题，如GFPGAN可以软化修复眼睛。</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021916925.png" alt="image-20230702191646645"></p>
<h5 id="CodeFormer和GFPGAN"><a href="#CodeFormer和GFPGAN" class="headerlink" title="CodeFormer和GFPGAN"></a>CodeFormer和GFPGAN</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">下面是4K有使用和无使用CodeFormer和GFPGAN的对比。</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021917606.png" alt="image-20230702191723227"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">同理除了放大之外有时也需要缩放功能，点击选项卡Scale to即可，操作和放大是一样的。</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ttyong/hexoBlog/raw/master/%E6%9E%97%E5%AD%90%E9%9B%A8%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8/202307021918736.png" alt="image-20230702191825887"></p>
<hr>
<blockquote>
</blockquote>

      
    </div>
    
    
    
	
	<div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>本文标题:</span><a href="/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html">Fay项目笔记</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 TTYONG 的个人博客">TTYONG</a></p>
  <p><span>发布时间:</span>2023年06月28日 - 14:06</p>
  <p><span>最后更新:</span>2023年07月03日 - 01:07</p>
  <p><span>原始链接:</span><a href="/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" title="Fay项目笔记">http://tianyong.fun/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html</a>
    <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="http://tianyong.fun/Fay%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0.html" aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: '复制成功',
          icon: "success", 
          showConfirmButton: true
          });
    });
    });  
</script>



      
	</div>



    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>多少都是爱</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechat_reward.jpg" alt="TTYONG 微信支付">
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay_reward.jpg" alt="TTYONG 支付宝">
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E5%B8%88-%E7%AC%AC%E5%85%AB%E5%91%A8-Hive-on-Tez%E5%BC%95%E6%93%8E%E9%85%8D%E7%BD%AE.html" rel="next" title="大数据开发工程师-第八周-Hive on Tez引擎配置">
                <i class="fa fa-chevron-left"></i> 大数据开发工程师-第八周-Hive on Tez引擎配置
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
      
        
          <ul class="sidebar-nav motion-element">
            <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
              文章目录
            </li>
            <li class="sidebar-nav-overview" data-target="site-overview">
              站点概览
            </li>
          </ul>
        
      

	<section class="site-overview sidebar-panel">
	  <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="TTYONG">
		<p class="site-author-name" itemprop="name">TTYONG</p>
		 
			<p class="site-description motion-element" itemprop="description"></p>
		 
	  </div>
	  <nav class="site-state motion-element">

		
		  <div class="site-state-item site-state-posts">
			<a href="/archives/%7C%7C%20archive">
			  <span class="site-state-item-count">377</span>
			  <span class="site-state-item-name">日志</span>
			</a>
		  </div>
		

		
		  
		  
		  <div class="site-state-item site-state-categories">
			<a href="/categories/index.html">
			  <span class="site-state-item-count">52</span>
			  <span class="site-state-item-name">分类</span>
			</a>
		  </div>
		

		
		  
		  
		  <div class="site-state-item site-state-tags">
			<a href="/tags/index.html">
			  <span class="site-state-item-count">107</span>
			  <span class="site-state-item-name">标签</span>
			</a>
		  </div>
		

	  </nav>

	  
		<div class="feed-link motion-element">
		  <a href="/atom.xml" rel="alternate">
			<i class="fa fa-rss"></i>
			RSS
		  </a>
		</div>
	  

	  <div class="links-of-author motion-element">
		
		  
			<span class="links-of-author-item">
			  <a href="2364076207@qq.com || envelope" target="_blank" title="E-Mail">
				
				  <i class="fa fa-fw fa-globe"></i>
				
				E-Mail
			  </a>
			</span>
		  
			<span class="links-of-author-item">
			  <a href="https://wpa.qq.com/msgrd?v=3&uin=2364076207&site=qq&menu=yes || qq" target="_blank" title="QQ" rel="external nofollow noopener noreferrer">
				
				  <i class="fa fa-fw fa-globe"></i>
				
				QQ
			  </a>
			</span>
		  
			<span class="links-of-author-item">
			  <a href="https://weibo.com/p/1005051833844383/home || weixin" target="_blank" title="WeiXin" rel="external nofollow noopener noreferrer">
				
				  <i class="fa fa-fw fa-globe"></i>
				
				WeiXin
			  </a>
			</span>
		  
			<span class="links-of-author-item">
			  <a href="https://www.zhihu.com/people/he-he-ty || zhihu" target="_blank" title="ZhiHu" rel="external nofollow noopener noreferrer">
				
				  <i class="fa fa-fw fa-globe"></i>
				
				ZhiHu
			  </a>
			</span>
		  
		
	  </div>

	  
	  

	  
	  
		<div class="links-of-blogroll motion-element links-of-blogroll-block">
		  <div class="links-of-blogroll-title">
			<i class="fa  fa-fw fa-link"></i>
			友链
		  </div>
		  <ul class="links-of-blogroll-list">
			
			  <li class="links-of-blogroll-item">
				<a href="https://www.baidu.com/" target="_blank" rel="external nofollow noopener noreferrer">百度</a>
			  </li>
			
		  </ul>
		</div>
	  

	  


	</section>
	
	  
	  <!--noindex-->
		<section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
		  <div class="post-toc">

			
			  
			

			
			  <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#大模型项目笔记"><span class="nav-number">1.</span> <span class="nav-text">大模型项目笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Fay项目"><span class="nav-number">1.1.</span> <span class="nav-text">Fay项目</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#带货版"><span class="nav-number">1.1.1.</span> <span class="nav-text">带货版</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#部署"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">部署</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#本地大模型方案"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">本地大模型方案</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JittorLLMs"><span class="nav-number">1.2.</span> <span class="nav-text">JittorLLMs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常识"><span class="nav-number">1.3.</span> <span class="nav-text">常识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#内存"><span class="nav-number">1.3.1.</span> <span class="nav-text">内存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#命令"><span class="nav-number">1.3.2.</span> <span class="nav-text">命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#anaconda"><span class="nav-number">1.4.</span> <span class="nav-text">anaconda</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#虚拟环境"><span class="nav-number">1.4.1.</span> <span class="nav-text">虚拟环境</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#包管理"><span class="nav-number">1.4.2.</span> <span class="nav-text">包管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#镜像源"><span class="nav-number">1.4.3.</span> <span class="nav-text">镜像源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#回滚env"><span class="nav-number">1.4.4.</span> <span class="nav-text">回滚env</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pip"><span class="nav-number">1.4.5.</span> <span class="nav-text">pip</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#stable-diffusion"><span class="nav-number">1.5.</span> <span class="nav-text">stable diffusion</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#提示词"><span class="nav-number">1.5.1.</span> <span class="nav-text">提示词</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图像尺寸"><span class="nav-number">1.5.2.</span> <span class="nav-text">图像尺寸</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#权重"><span class="nav-number">1.5.3.</span> <span class="nav-text">权重</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#提示词相关性"><span class="nav-number">1.5.4.</span> <span class="nav-text">提示词相关性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#随机种子"><span class="nav-number">1.5.5.</span> <span class="nav-text">随机种子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#采样方法"><span class="nav-number">1.5.6.</span> <span class="nav-text">采样方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Euler-a"><span class="nav-number">1.5.6.1.</span> <span class="nav-text">Euler a</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DPM-2S-a-Karras"><span class="nav-number">1.5.6.2.</span> <span class="nav-text">DPM++2S a Karras</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DDIM"><span class="nav-number">1.5.6.3.</span> <span class="nav-text">DDIM</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#采样迭代步数"><span class="nav-number">1.5.7.</span> <span class="nav-text">采样迭代步数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#模型"><span class="nav-number">1.6.</span> <span class="nav-text">模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Checkpoint-的介绍"><span class="nav-number">1.6.1.</span> <span class="nav-text">Checkpoint 的介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#下载"><span class="nav-number">1.6.2.</span> <span class="nav-text">下载</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#墨幽2-5D-MIX-MoYou2-5D-MIX"><span class="nav-number">1.6.2.1.</span> <span class="nav-text">墨幽2.5D_MIX_MoYou2.5D_MIX</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#情景描述"><span class="nav-number">1.6.2.1.1.</span> <span class="nav-text">情景描述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#正面词"><span class="nav-number">1.6.2.1.2.</span> <span class="nav-text">正面词</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#负面词"><span class="nav-number">1.6.2.1.3.</span> <span class="nav-text">负面词</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CMixS-v1-0-ckpt"><span class="nav-number">1.6.2.2.</span> <span class="nav-text">CMixS_v1.0.ckpt</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#正面词-1"><span class="nav-number">1.6.2.2.1.</span> <span class="nav-text">正面词</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#负面词-模型要求第一个"><span class="nav-number">1.6.2.2.2.</span> <span class="nav-text">负面词(模型要求第一个)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#本地位置"><span class="nav-number">1.6.3.</span> <span class="nav-text">本地位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VAE-的介绍"><span class="nav-number">1.6.4.</span> <span class="nav-text">VAE 的介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#embedding-的介绍"><span class="nav-number">1.6.5.</span> <span class="nav-text">embedding 的介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LORA-的介绍"><span class="nav-number">1.6.6.</span> <span class="nav-text">LORA 的介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#下载-1"><span class="nav-number">1.6.6.1.</span> <span class="nav-text">下载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#唯美-Mr-MC-R-WM-V1-2-R-WM-V1-2"><span class="nav-number">1.6.6.2.</span> <span class="nav-text">唯美_Mr_MC_R-WM_V1.2_R-WM_V1.2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#科幻Q版机甲少年"><span class="nav-number">1.6.6.3.</span> <span class="nav-text">科幻Q版机甲少年</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#全息故障-Holographic-Fault-v1-0"><span class="nav-number">1.6.6.4.</span> <span class="nav-text">全息故障_Holographic_Fault_v1.0</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#图生图"><span class="nav-number">1.7.</span> <span class="nav-text">图生图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#无损放大图像和缩小图像"><span class="nav-number">1.8.</span> <span class="nav-text">无损放大图像和缩小图像</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#hires-fix高分辨率修复"><span class="nav-number">1.8.1.</span> <span class="nav-text">hires.fix高分辨率修复</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#extras附加功能"><span class="nav-number">1.8.2.</span> <span class="nav-text">extras附加功能</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#放大功能"><span class="nav-number">1.8.2.1.</span> <span class="nav-text">放大功能</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#R-ESRGAN-4x"><span class="nav-number">1.8.2.1.1.</span> <span class="nav-text">R-ESRGAN 4x+</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CodeFormer和GFPGAN"><span class="nav-number">1.8.2.1.2.</span> <span class="nav-text">CodeFormer和GFPGAN</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div>
			

		  </div>
		</section>
	  <!--/noindex-->
	  
	

	

  </div>
</aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2020.3.4 &mdash; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TTYONG</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">807.8k</span>
  
</div>

<!--

  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io" rel="external nofollow>Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next rel="external nofollow">NexT.Pisces</a> v5.1.4</div>



-->  


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 访问总量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <div id="gitalk-container"></div>
  <script src="/js/src/md5.min.js"></script>
  <script type="text/javascript">
    var gitalk = new Gitalk({
      clientID: 'd3f3299eb0cc69c8f171',
      clientSecret: '23bf8796e5dda2daf0a1b12964d89f4cc88f9ddf',
      repo: 'comments_repository',
      owner: 'ttyong',
      admin: ['ttyong'],
      id: md5(location.pathname),
      distractionFreeMode: 'false'
    })
    gitalk.render('gitalk-container')
  </script>

  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  
  

  

  

  

  <link rel="stylesheet" href="/dist/APlayer.min.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/dist/APlayer.min.js"></script>
  <script type="text/javascript" src="/dist/music.js"></script>
  
  
  
  

  <canvas id="evanyou"></canvas>
  <style>
    #evanyou {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
    }
  </style>
  <script src="/js/src/evan-you.js"></script>




  <script src="/js/src/activate-power-mode.min.js"></script>
  <script>
    POWERMODE.colorful = true;
    POWERMODE.shake = false;
    document.body.addEventListener('input', POWERMODE);
  </script>




  <script async src="/js/cursor/fireworks.js"></script>




<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
